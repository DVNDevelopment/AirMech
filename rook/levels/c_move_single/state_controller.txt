StateController Lvl_C_MoveUnits {
#include Lvl_CommonStates
#include Lvl_Challenge_CommonStates
State initial {
In 0.0 "sym set MatchOver 0"
In 0.0 "rook powerGenMod set 100"
}
State Init {
DoL 0.0 mdlprop /mdl effects/PointerDown.amf /mtl mat_ArrowBlue /anim effects/PointerBounce.aaf 0.5 looping /lifespan 9000000 /pos 12 -3 0.4 /id 1
DoL 0.0 mdlprop /mdl square1m.amf /mtl mat_GoalRingAreaBlue /lifespan 9000000 /pos 12 -3 0.4 /scale 5.0 /id 1
DoL 0.0 mdlprop /mdl effects/PointerDown.amf /mtl mat_ArrowBlue /anim effects/PointerBounce.aaf 0.5 looping /lifespan 9000000 /pos 12 3.5 0.4 /id 2
DoL 0.0 mdlprop /mdl square1m.amf /mtl mat_GoalRingAreaBlue /lifespan 9000000 /pos 12 3.5 0.4 /scale 5.0 /id 2
}
State ClearTgt1Mk {
Cfg timeBlock 2.0
DoL 0.0 mdlprop clearids 1
}
State ClearTgt2Mk {
Cfg timeBlock 2.0
DoL 0.0 mdlprop clearids 2
}
State Tick {
DoL 0.0 sym set S_DCount 0
DoL 0.0 player 0 incIfUnitNear tgt1 2.0 S_DCount /lvlStateYes ClearTgt1Mk
DoL 0.0 player 0 incIfUnitNear tgt2 2.0 S_DCount /lvlStateYes ClearTgt2Mk
DoL 0.0 if sym S_DCount >= $S_DLimit runNow sym set MatchOver 1
}
}
