Script AvatarContextMenuPress {
rcmd "if sym _LookAtAvatar0 == 1 sym set
}
Script SetupAvatarsVr {
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatarBase@_AvatarIndex@ #LobbyAvatar@_AvatarIndex@ /model vr/AvatarBody.amf /material mat_AvatarBodyBlue /rootRot 0 0 0 /rootScale 7.2 /worldPose 0 -200 0 /hiddenCheckBySymbol _inNetGame_ /hiddenCheckBySymbolInv #SG_Mem@_AvatarIndex@_Present /hiddenCheckBySymbol _MapTransition /hiddenCheckBySymbol SG_Quit_Active /hiddenToSlewOffset 0.09 0 0 -300"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@Amps /model vr/AvatarAmps.amf /material mat_AvatarBodyBlue /attachToParentBone bone_amps /parentVisCheck /hiddenCheckBySymbol #SG_Mem@_AvatarIndex@_Speaking"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@AmpsTalk /model vr/AvatarAmps.amf /material mat_AvatarBodyBlue /attachToParentBone bone_amps /parentVisCheck /hiddenCheckBySymbolInv #SG_Mem@_AvatarIndex@_Speaking"
rcmd "if sym _MArg1_ == Lobby runnow menu3d animate #LobbyP@_AvatarIndex@AmpsTalk vr/AvatarAmps.aaf looping 0 0.5"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyAvatar@_AvatarIndex@ lobbyAvatarUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyAvatar@_AvatarIndex@ lobbyAvatarMatUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyP@_AvatarIndex@Amps lobbyAvatarMatUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyP@_AvatarIndex@AmpsTalk lobbyAvatarMatUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Lobby runnow menu3d animate #LobbyAvatar@_AvatarIndex@ vr/AvatarIdleLobby.aaf looping 0 0.5"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@Mech /model rooks/FighterA_Beta/FighterBeta_Ref.amf /material mat_AirMechFighterBeta /attachToParentBone bone_mech /rootScale 2.5 /parentVisCheck"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@Head /model vr/AvatarHead.amf /material mat_AvatarHead /attachToParentBone bone_latch /parentVisCheck"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@Chest /model #vr/AvatarChest@_AvatarIndex@.amf /material mat_AvatarChest /attachToParentBone bone_chest /parentVisCheck"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@Ready /model vr/AvatarStateReady.amf /material mat_AvatarReady /rootScale 8 /worldPose 0 3 30 /parentVisCheck /hiddenCheckBySymbolInv #SG_Mem@_AvatarIndex@_Ready /hiddenCheckBySymbol #SG_Mem@_AvatarIndex@_InGame /hiddenCheckBySymbol #SG_Mem@_AvatarIndex@_AFK"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyP@_AvatarIndex@Ready trackHMDRoot"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addZSpin #LobbyP@_AvatarIndex@Ready mesh_ring_r1 -120"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addZSpin #LobbyP@_AvatarIndex@Ready mesh_ring_r2 90"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@Unready /model vr/AvatarStateUnready.amf /material mat_AvatarReady /rootScale 8 /worldPose 0 3 30 /parentVisCheck /hiddenCheckBySymbol #SG_Mem@_AvatarIndex@_Ready /hiddenCheckBySymbol #SG_Mem@_AvatarIndex@_InGame /hiddenCheckBySymbol #SG_Mem@_AvatarIndex@_AFK"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyP@_AvatarIndex@Unready trackHMDRoot"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addZSpin #LobbyP@_AvatarIndex@Unready mesh_ring_u1 -20"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addZSpin #LobbyP@_AvatarIndex@Unready mesh_ring_u2 -50"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyAvatarOwner@_AvatarIndex@ /model vr/AvatarStateOwner.amf  /material mat_AvatarReady /rootScale 1.2 /worldPose 0 3 26 /rootRot 0 0 0 /parentVisCheck /hiddenCheckBySymbolInv #SG_Mem@_AvatarIndex@_IsOwner"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addZSpin #LobbyAvatarOwner@_AvatarIndex@ AvatarStateOwner 70"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@AFK /model vr/AvatarStateAFK.amf /material mat_LogoExt /worldPose 0 3 30 /rootScale 8 /rootRot 0 0 0 /parentVisCheck /hiddenCheckBySymbolInv #SG_Mem@_AvatarIndex@_AFK"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyP@_AvatarIndex@AFK trackHMDRoot"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@Ingame /model vr/SwordsPvP.amf /material mat_IconsSwords /worldPose 0 0 25 /rootScale 0.33 /rootRot 0 0 0 /parentVisCheck /hiddenCheckBySymbolInv #SG_Mem@_AvatarIndex@_InGame"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addZSpin #LobbyP@_AvatarIndex@Ingame SwordsPvP -200"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyAvatarMapVote@_AvatarIndex@ /model vr/MapBlock.amf  /material mat_simple_vr /attachToParentBone bone_wrist_l  /worldPose 1 -1 4.0 /rootRot 80 -70 0 /rootScale 0.6 /parentVisCheck"
rcmd "if sym _MArg1_ == Game runnow menu3d logicFnc #GameAvatarBase@_AvatarIndex@ gameAvatarRotUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Game runnow menu3d addChild #GameAvatarBase@_AvatarIndex@ #GameAvatar@_AvatarIndex@ /model vr/AvatarBody.amf /material mat_AvatarBodyBlue /rootRot 0 0 0 /rootScale 7.2 /worldPose 0 -200 0 /noVis /hiddenCheckBySymbol #AvatarHead@_AvatarIndex@_Cleared /hiddenCheckBySymbolInv #P_Player@_AvatarIndex@IsOther /hiddenCheckBySymbol _MapTransition /hiddenToSlewOffset 0.09 0 0 -300"
rcmd "if sym _MArg1_ == Game runnow menu3d addChild #GameAvatar@_AvatarIndex@ #GameP@_AvatarIndex@Amps /model vr/AvatarAmps.amf /material mat_AvatarBodyBlue /attachToParentBone bone_amps /parentVisCheck /hiddenCheckBySymbol #P_Name@_AvatarIndex@_Speaking"
rcmd "if sym _MArg1_ == Game runnow menu3d addChild #GameAvatar@_AvatarIndex@ #GameP@_AvatarIndex@AmpsTalk /model vr/AvatarAmps.amf /material mat_AvatarBodyBlue /attachToParentBone bone_amps /parentVisCheck /hiddenCheckBySymbolInv #P_Name@_AvatarIndex@_Speaking"
rcmd "if sym _MArg1_ == Game runnow menu3d animate #GameP@_AvatarIndex@AmpsTalk vr/AvatarAmps.aaf looping 0 0.5"
rcmd "if sym _MArg1_ == Game runnow menu3d logicFnc #GameAvatar@_AvatarIndex@ gameAvatarUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Game runnow menu3d logicFnc #GameAvatar@_AvatarIndex@ gameAvatarMatUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Game runnow menu3d logicFnc #GameP@_AvatarIndex@Amps gameAvatarMatUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Game runnow menu3d logicFnc #GameP@_AvatarIndex@AmpsTalk gameAvatarMatUpd /index $_AvatarIndex"
rcmd "if sym _MArg1_ == Game runnow menu3d animate #GameAvatar@_AvatarIndex@ vr/AvatarIdleGame.aaf looping 0 0.5"
rcmd "if sym _MArg1_ == Game runnow menu3d addAnimScript #GameAvatar@_AvatarIndex@ as_VRMenuAppear.txt"
rcmd "if sym _MArg1_ == Game runnow menu3d addChild #GameAvatar@_AvatarIndex@ #GameP@_AvatarIndex@Chest /model #vr/AvatarChest@_AvatarIndex@.amf /material mat_AvatarChest /attachToParentBone bone_chest /parentVisCheck"
rcmd "if sym _MArg1_ == Game runnow menu3d addChild #GameAvatar@_AvatarIndex@ #GameP@_AvatarIndex@Gamepad /model vr/GamepadLow.amf /material mat_Gamepad /attachToParentBone bone_mech /worldPose 0 -0.88 0.53 /rootRot 54 0 0 /rootScale 25 /parentVisCheck /hiddenCheckBySymbol #P_Player@_AvatarIndex@IsAI"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@LookTarget /attachToParentBone bone_latch /parentVisCheck"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyP@_AvatarIndex@LookTarget lookAtToSymSet /symbol #_LookAtAvatar@_AvatarIndex@ /value 1 /arc 14"
rcmd "if sym _MArg1_ == Lobby runnow menu3d addChild #LobbyAvatar@_AvatarIndex@ #LobbyP@_AvatarIndex@MenuPrompt /model vr/ButtonA.amf /material mat_MenuButtonsGamepad  /rootScale 3.5 /rootRot 90 0 0  /worldPose 0 4 25 /noShadowCast /hiddenCheckBySymbolInv #_LookAtAvatar@_AvatarIndex@"
rcmd "if sym _MArg1_ == Lobby runnow menu3d logicFnc #LobbyP@_AvatarIndex@MenuPrompt trackHMDRoot"
rcmd "sym inc _AvatarIndex 1"
rcmd "if sym _AvatarIndex < 6 menucmd SetupAvatarsVr $_MArg1_"
rcmd "if sym _AvatarIndex == 6 sym set _AvatarIndex 0"
}
Script UpdateMapVoteIconSingle {
rcmd "if sym #SG_Mem@_MArg1_@_MapVote isEmpty runnow menu3d updateCfg #LobbyAvatarMapVote@_MArg1_@ /material mat_simple_vr"
rcmd "if sym #SG_Mem@_MArg1_@_MapVote !isEmpty runnow menu3d updateCfg #LobbyAvatarMapVote@_MArg1_@ /material #mat_&SG_Mem@_MArg1_@_MapVote&"
}
Script UpdateMapVoteIcons {
rcmd "menucmd UpdateMapVoteIconSingle local 0"
rcmd "menucmd UpdateMapVoteIconSingle local 1"
rcmd "menucmd UpdateMapVoteIconSingle local 2"
rcmd "menucmd UpdateMapVoteIconSingle local 3"
rcmd "menucmd UpdateMapVoteIconSingle local 4"
rcmd "menucmd UpdateMapVoteIconSingle local 5"
}
Script RotateAvatars {
rcmd "sym setPair Avatar0Rot 120 Avatar1Rot -120 Avatar2Rot 80 Avatar3Rot -80 Avatar4Rot 40 Avatar5Rot -40"
rcmd "if sym _MArg1_ == Customize runnow sym setPair Avatar0Rot 80 Avatar1Rot -80 Avatar2Rot 50 Avatar3Rot -50 Avatar4Rot 20 Avatar5Rot -20"
rcmd "menu3d addAnimScript LobbyAvatarBase0 as_Avatar0Rot.txt"
rcmd "menu3d addAnimScript LobbyAvatarBase1 as_Avatar1Rot.txt"
rcmd "menu3d addAnimScript LobbyAvatarBase2 as_Avatar2Rot.txt"
rcmd "menu3d addAnimScript LobbyAvatarBase3 as_Avatar3Rot.txt"
rcmd "menu3d addAnimScript LobbyAvatarBase4 as_Avatar4Rot.txt"
rcmd "menu3d addAnimScript LobbyAvatarBase5 as_Avatar5Rot.txt"
}
Script VrInviteFriend {
cmd "sg inviteplatform $OvrFriend@OvrFriendFocus@"
}
Script VrInviteFriendSuccess {
cmd "playsound UI_MatchStart_Go"
}
Script VrInviteFriendFail {
cmd "playsound AlertOutpostLost.wav"
}
Script TouchFriendList {
rcmd "sg updateFriendList"
rcmd "sym setFrom OvrFriendFocus OvrFriendFocusLast"
rcmd "sym set VRFriendListMode 1"
rcmd "sym set MenuTouchCmd VrInviteFriend"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d MenuDiskLobbyFriends /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d MenuDiskLobbyFriends /bone bone_root /tag VrMenu"
rcmd "menu3d updateCfg MenuDiskLobbyFriends /material  mat_MenuDiskFocus"
rcmd "menucmd MapScreensFade"
rcmd "menucmd ShowFriendsList"
cmd "menu3d addAnimScript OvrFriendList as_VRFriendsFocus.txt"
}
Script DrawFriendsList {
rcmd "sym set _DrawFriendBlockIndex 0
rcmd "sym set _ListPosZ 15
rcmd "sym set _ListRotX 4
rcmd "sym set OvrFriendFocusLast 0
rcmd "sym set _FriendDrawDelay 5
rcmd "sym set OvrFriendPrev OvrFriendList
rcmd "menucmd DrawFriendBlock Invite"
}
Script ShowFriendsList {
cmd "loadmenu VrFriendsList"
rcmd "sym set _DrawFriendBlockIndex 0
rcmd "sym set OvrFriendFocusLast 0
rcmd "sym set _FriendDrawDelay 5
rcmd "menucmd ShowFriendBlock Invite"
}
Script RemoveFriendList {
rcmd "sym set _FriendDrawDelay 0"
rcmd "if sym OvrFriend9 isEmpty runnow sym set _DrawFriendBlockIndex 8"
rcmd "if sym OvrFriend8 isEmpty runnow sym set _DrawFriendBlockIndex 7"
rcmd "if sym OvrFriend7 isEmpty runnow sym set _DrawFriendBlockIndex 6"
rcmd "if sym OvrFriend6 isEmpty runnow sym set _DrawFriendBlockIndex 5"
rcmd "if sym OvrFriend5 isEmpty runnow sym set _DrawFriendBlockIndex 4"
rcmd "if sym OvrFriend4 isEmpty runnow sym set _DrawFriendBlockIndex 3"
rcmd "if sym OvrFriend3 isEmpty runnow sym set _DrawFriendBlockIndex 2"
rcmd "if sym OvrFriend2 isEmpty runnow sym set _DrawFriendBlockIndex 1"
rcmd "if sym OvrFriend1 isEmpty runnow sym set _DrawFriendBlockIndex 0"
cmd "menucmd RemoveFriendList_Go"
}
Script RemoveFriendList_Go {
rcmd "pcmd_seq FriendsClean #t@_FriendDrawDelay@ menu3d addAnimScript #OvrFriend@_DrawFriendBlockIndex@ as_VRMenuOutNice.txt 3"
cmd "sym inc _FriendDrawDelay 7"
cmd "sym dec _DrawFriendBlockIndex"
cmd "if sym _DrawFriendBlockIndex >= 0 menucmd RemoveFriendList_Go"
cmd "if sym _DrawFriendBlockIndex == 0 menu3d addAnimScript OvrFriendList as_VRFriendsUnfocus.txt"
}
Script UnTouchFriendList {
rcmd "sym setFrom OvrFriendFocusLast OvrFriendFocus"
rcmd "sym set OvrFriendFocus -1"
rcmd "sym set VRFriendListMode 0"
rcmd "sym set MenuTouchCmd PressLobbyButtonSG"
rcmd "sym set _DrawFriendBlockIndex 9"
rcmd "menucmd RemoveFriendList"
rcmd "menu3d updateCfg MenuDiskLobbyFriends /material mat_MenuDisk"
rcmd "menucmd MapScreensRestore"
cmd "pfx stop VrMenu"
}
Script FriendListDown {
rcmd "if sym OvrFriendFocus > 0 sym dec OvrFriendFocus"
rcmd "if sym OvrFriendFocus > 0 playsound VrSwipeBackward"
}
Script FriendListUp {
rcmd "sym setFrom OvrFriendFocusNext OvrFriendFocus"
rcmd "sym inc OvrFriendFocusNext"
rcmd "if sym OvrFriendFocus < 9 && sym #OvrFriend@OvrFriendFocusNext@ !isEmpty sym inc OvrFriendFocus"
rcmd "if sym OvrFriendFocus < 9 && sym #OvrFriend@OvrFriendFocusNext@ !isEmpty playsound VrSwipeBackward"
}
Script DrawFriendBlock {
rcmd "menu3d addChild $OvrFriendPrev #OvrFriend@_DrawFriendBlockIndex@ /rootRot $_ListRotX 0 0 /worldPose 0 0 $_ListPosZ /model vr/FriendBlock.amf /material mat_VrPictureAirMech  /rootScale 1.0 /noVis /hiddenCheckBySymbolValue #OvrFriend@_DrawFriendBlockIndex@="
rcmd "menu3d addChild #OvrFriend@_DrawFriendBlockIndex@ #OvrFriendFocus@_DrawFriendBlockIndex@ /rootRot -3 0 10 /worldPose 0 -6 1 /model vr/FriendBlock.amf /material mat_VrPictureAirMech  /parentVisCheck /rootScale 1.15 1.15 1.15 /noShadowCast /hiddenCheckBySymbolValue OvrFriendFocus!@_DrawFriendBlockIndex@"
rcmd "sym set OvrFriendPrev #OvrFriend@_DrawFriendBlockIndex@"
rcmd "sym inc _DrawFriendBlockIndex"
rcmd "if sym _DrawFriendBlockIndex < 10 runnow menucmd DrawFriendBlock $_MArg1_"
rcmd "if sym _DrawFriendBlockIndex == 10 loadmenu VrFriendsList"
}
Script ShowFriendBlock {
rcmd "console flushAllPendingSeq FriendsClean"
rcmd "pcmd #t@_FriendDrawDelay@ menu3d addAnimScript #OvrFriend@_DrawFriendBlockIndex@ as_VRMenuInNice.txt"
rcmd "sym inc _FriendDrawDelay 7"
rcmd "sym inc _DrawFriendBlockIndex"
rcmd "if sym _DrawFriendBlockIndex < 10 runnow menucmd ShowFriendBlock $_MArg1_"
}
Script DrawVrFriends {
cmd "menu3d updateORTSnapshot2 OvrFriend0 0 0 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus0 500 0 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend1 0 100 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus1 500 100 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend2 0 200 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus2 500 200 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend3 0 300 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus3 500 300 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend4 0 400 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus4 500 400 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend5 0 500 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus5 500 500 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend6 0 600 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus6 500 600 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend7 0 700 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus7 500 700 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend8 0 800 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus8 500 800 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriend9 0 900 500 100"
cmd "menu3d updateORTSnapshot2 OvrFriendFocus9 500 900 500 100"
cmd "pcmd 0.1 clearmenu VrFriendsList"
}
Script DrawLeaderboardsVr {
rcmd "sym set _DrawLeaderboardIndex 0
rcmd "sym set _LeaderboardPosZ -14
rcmd "sym set _LeaderboardRotX 0
rcmd "menu3d remove LeaderboardsVr"
rcmd "sym set LeaderboardFocus -1
rcmd "sym set LeaderboardFocusLast 0
rcmd "sym set _LeaderboardDrawDelay 5
rcmd "sym set LeaderboardVrPrev LeaderboardsVr
rcmd "menu3d addChild MenusVRLobby LeaderboardsVr /worldPose 0 380 300 /rootRot 0 0 0 /rootScale 2.2"
rcmd "menucmd DrawLeaderboardBlock Test"
}
Script DrawLeaderboardBlock {
rcmd "menu3d addChild $LeaderboardVrPrev #Leaderboard@_DrawLeaderboardIndex@ /rootRot $_LeaderboardRotX 0 0 /worldPose 0 0 $_LeaderboardPosZ /model vr/ListBlockCurve.amf /material mat_AvatarReady  /rootScale 1.0 /noVis /hiddenCheckBySymbolValue #Leaderboard@_DrawLeaderboardIndex@="
rcmd "menu3d addChild #Leaderboard@_DrawLeaderboardIndex@ #LeaderboardFocus@_DrawLeaderboardIndex@ /rootRot -3 0 10 /worldPose 0 -6 1 /model vr/ListBlock.amf /material mat_VrPictureAirMech  /parentVisCheck /rootScale 1.15 1.15 1.15 /noShadowCast /hiddenCheckBySymbolValue LeaderboardFocus!@_DrawLeaderboardIndex@"
rcmd "sym set LeaderboardVrPrev #Leaderboard@_DrawLeaderboardIndex@"
rcmd "pcmd #t@_LeaderboardDrawDelay@ menu3d addAnimScript #Leaderboard@_DrawLeaderboardIndex@ as_VRMenuInNice.txt"
rcmd "sym inc _LeaderboardDrawDelay 7"
rcmd "sym inc _DrawLeaderboardIndex"
rcmd "if sym _DrawLeaderboardIndex < 10 runnow menucmd DrawLeaderboardBlock $_MArg1_"
rcmd "if sym _DrawLeaderboardIndex == 10 loadmenu VrLeaderboards"
}
Script ShowLeaderboardsVr {
rcmd "pcmd #t@_LeaderboardDrawDelay@ menu3d addAnimScript #OvrFriend@_DrawFriendBlockIndex@ as_VRMenuInNice.txt"
rcmd "sym inc _LeaderboardDrawDelay 7"
rcmd "sym inc _DrawFriendBlockIndex"
rcmd "if sym _DrawFriendBlockIndex < 10 runnow menucmd ShowFriendBlock $_MArg1_"
}
Script DrawVrLeaderboards {
cmd "menu3d updateORTSnapshot2 Leaderboard0 0 0 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus0 960 0 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard1 0 100 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus1 960 100 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard2 0 200 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus2 960 200 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard3 0 300 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus3 960 300 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard4 0 400 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus4 960 400 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard5 0 500 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus5 960 500 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard6 0 600 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus6 960 600 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard7 0 700 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus7 960 700 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard8 0 800 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus8 960 800 950 100"
cmd "menu3d updateORTSnapshot2 Leaderboard9 0 900 950 100"
cmd "menu3d updateORTSnapshot2 LeaderboardFocus9 960 900 950 100"
cmd "pcmd 1.1 clearmenu VrLeaderboards"
}
Script ShowOculusLogo_back {
ignoreInputTime 1.0
rcmd "sym set SplashVR 1"
rcmd "console flushAllPendingSeq BootLogo"
rcmd "menu3d clearLogicFncs OculusLogo"
rcmd "menu3d clearLogicFncs CarbonLogoVR"
rcmd "menu3d clearLogicFncs AirMechLogoVR"
rcmd "menu3d remove OculusLogo"
cmd "pcmd 0.5 music start $AlbumTrackCurrent"
cmd "menu3d add OculusLogo /model vr/LogoStudios.amf /material mat_LogoExtSkinned /worldPose 0 190 110 /rootRot 0 0 0 /rootScale 180 /noVis
cmd "menu3d animate OculusLogo vr/LogoStudiosIn.aaf playonce 0 0"
cmd "pcmd 0 menu3d setVisible OculusLogo"
cmd "pcmd 0.75 menu3d animate OculusLogo vr/LogoStudiosIn.aaf playonce 0 1.0"
cmd "pcmd 3.5 menu3d animate OculusLogo vr/LogoStudiosOut.aaf playonce 0 1"
cmd "pcmd 0.5 menu3d logicFnc OculusLogo waitButton /button a /button2 b /button3 start /menucmd ShowCarbonLogo"
cmd "pcmd_seq BootLogo 4.5 menucmd ShowCarbonLogo"
}
Script ShowOculusLogo {
ignoreInputTime 1.0
rcmd "sym set SplashVR 1"
rcmd "console flushAllPendingSeq BootLogo"
rcmd "menu3d clearLogicFncs OculusLogo"
rcmd "menu3d clearLogicFncs CarbonLogoVR"
rcmd "menu3d clearLogicFncs AirMechLogoVR"
rcmd "menu3d remove OculusLogo"
cmd "pcmd 0.5 music start $AlbumTrackCurrent"
cmd "menu3d add OculusLogo /model vr/OculusLogoLabel.amf /material mat_OculusLogo /worldPose 0 180 140 /rootRot -5 0 0 /rootScale 2.5 /noVis
cmd "menu3d addAnimScript OculusLogo as_OculusLogoIn.txt"
cmd "pcmd 3.0 menu3d addAnimScript OculusLogo as_OculusLogoOut.txt"
cmd "pcmd 0.5 menu3d logicFnc OculusLogo waitButton /button a /button2 b /button3 start /menucmd ShowCarbonLogo"
cmd "pcmd_seq BootLogo 4.5 menucmd ShowCarbonLogo"
}
Script ShowCarbonLogo {
ignoreInputTime 1.0
rcmd "if sym VrInCreditsMode == 0 sym set SplashVR 1"
rcmd "console flushAllPendingSeq BootLogo"
rcmd "pcmd 0.1 menu3d clearLogicFncs OculusLogo"
rcmd "pcmd 0.1 menu3d remove OculusLogo"
rcmd "worldview scaleToImmediate 18.0"
rcmd "worldview rotateToImmediate 180"
rcmd "menu3d remove CarbonLogoVR"
cmd "menu3d add CarbonLogoVR /model vr/LogoCarbon01.amf	/material mat_LogoCarbon01 /worldPose $VrLogoPos /rootScale 100 /noVis"
cmd "menu3d animate CarbonLogoVR vr/LogoCarbonSpawn.aaf playonce"
cmd "menu3d addAnimScript CarbonLogoVR as_CarbonLogoIntro.txt"
cmd "if sym VrInCreditsMode == 0 menu3d logicFnc CarbonLogoVR waitButton /button a /button2 b /button3 start /menucmd ShowAirMechLogo"
cmd "pcmd_seq BootLogo 5.0 menucmd ShowAirMechLogo"
}
Script ShowAirMechLogo {
ignoreInputTime 1.0
rcmd "if menu3dexists OculusLogo menu3d clearLogicFncs OculusLogo"
rcmd "if menu3dexists OculusLogo menu3d remove OculusLogo"
rcmd "if sym VrInCreditsMode == 0 sym set SplashVR 1"
rcmd "console flushAllPendingSeq BootLogo"
rcmd "pcmd 0 menu3d clearLogicFncs CarbonLogoVR"
rcmd "if sym VrInCreditsMode == 0 pcmd_seq BootLogo 3.0 gfx lerp diffuseBlendFactor /current 0 6.0"
rcmd "if sym VrInCreditsMode == 0 menu3d addAnimScript TableFrame as_TableFrameSplashUp.txt"
cmd "menu3d animate CarbonLogoVR vr/LogoCarbonTransform.aaf playonce"
cmd "pcmd_seq BootLogo 3.5 menu3d addAnimScript CarbonLogoVR as_VRCarbonLogoOut.txt"
cmd "menu3d add AirMechLogoVR /model vr/LogoAirMech01.amf	/material mat_LogoAirMech01 /worldPose 0 250 90 /rootScale 150 /noVis"
cmd "menu3d animate AirMechLogoVR vr/LogoAirMechTransform.aaf playonce"
cmd "menu3d addChild AirMechLogoVR CommandLogo /model vr/CommandLogo.amf /material mat_CommandLogoTexture /attachToParentBone bone_AirMechRoot /attachOffset 0.05 0.02 -0.31 /rootRot 0 0 90 /rootScale 1.0"
cmd "pcmd_seq BootLogo 5.0 menu3d animate CommandLogo vr/CommandLogoIn.aaf playonce 0 0.5"
cmd "pcmd 0 menu3d setVisible AirMechLogoVR"
rcmd "pcmd_seq BootLogo 4.0 menu3d addAnimScript CarbonLogoVR as_AirMechLogoVRMove.txt"
rcmd "if sym VrInCreditsMode == 0 pcmd_seq BootLogo 4.0 menu3d addAnimScript AirMechLogoVR as_AirMechLogoVRMove.txt"
rcmd "if sym VrInCreditsMode == 1 pcmd_seq BootLogo 9.5 menu3d addAnimScript AirMechLogoVR as_AirMechLogoVRMoveCredits.txt"
cmd "if sym VrInCreditsMode == 0 menu3d logicFnc AirMechLogoVR waitButton /button a /button2 b /button3 start /menucmd FinishAirMechLogo"
cmd "if sym VrInCreditsMode == 0 pcmd_seq BootLogo 9.0 menucmd FinishAirMechLogo"
cmd "if sym VrInCreditsMode == 1 pcmd_seq BootLogo 9.0 loadmenu VrCredits.txt"
}
Script FinishAirMechLogo {
ignoreInputTime 1.0
rcmd "sym set SplashVR 1"
rcmd "console flushAllPendingSeq BootLogo"
rcmd "pcmd 0 menu3d clearLogicFncs AirMechLogoVR"
rcmd "pcmd 0 menu3d remove CarbonLogoVR"
rcmd "sound fadeOutBus 1 0.25"
rcmd "gfx lerp diffuseBlendFactor /current 0 0.0"
rcmd "menu3d addAnimScript NetworkState as_VRMenuIn.txt"
rcmd "menu3d addAnimScript TableFrame as_TableFrameReset.txt"
rcmd "menu3d addAnimScript AirMechLogoVR as_AirMechLogoVRReset.txt"
cmd "menu3d animate AirMechLogoVR vr/LogoAirMechIdle.aaf looping"
cmd "menu3d animate CommandLogo vr/CommandLogoIdle.aaf looping"
cmd "menu3d updateCfg FortSkybox /material mat_FortSkybox"
cmd "menu3d updateCfg FortSkyboxNear /material mat_FortSkybox"
cmd "sym set VrPlayerLogoDone 1"
cmd "menu3d logicFnc AirMechLogoVR waitConsoleSymbol /symbol PostAuth /value 1 /menucmd PostAuthCheckTutorial"
}
Script RemoveAirMechLogo {
rcmd "console flushAllPendingSeq BootLogo"
rcmd "pcmd 0.5 sym set SplashVR 0"
cmd "menu3d setWorldPose AirMechLogoVR 25 250 90
cmd "menu3d animate AirMechLogoVR vr/LogoAirMechExplosion.aaf playonce"
cmd "menu3d animate CommandLogo vr/CommandLogoIn.aaf playOnceRev 0 2"
cmd "pcmd_seq BootLogo 4.0 menu3d remove AirMechLogoVR"
}
Script SetVrFortState {
rcmd "if sym _MArg1_ == closed && sym CurrentFortState == open gfx lerp diffuseBlendFactor /current 1 1.0"
rcmd "if sym _MArg1_ == closed && sym CurrentFortState == open menu3d animate FortInside2 vr/FortUber2_doorsClose.aaf stopAndHold 0 0.35"
rcmd "if sym _MArg1_ == closed pcmd 1.0 menu3d updateCfg FortInside /material mat_FortUber1_Red
rcmd "if sym _MArg1_ == closed pcmd 1.0 menu3d updateCfg FortInside2 /material mat_FortUber2_Red
rcmd "if sym _MArg1_ == closed pcmd 1.0 gfx lerp diffuseBlendFactor /current 0 0.0
rcmd "if sym _MArg1_ == open && sym CurrentFortState == closed gfx lerp diffuseBlendFactor /current 0 0.2
rcmd "if sym _MArg1_ == open && sym CurrentFortState == closed pcmd 0.2 menu3d updateCfg FortInside /material mat_FortUber1
rcmd "if sym _MArg1_ == open && sym CurrentFortState == closed pcmd 0.2 menu3d updateCfg FortInside2 /material mat_FortUber2
rcmd "if sym _MArg1_ == open && sym CurrentFortState == closed pcmd 0.2 gfx lerp diffuseBlendFactor 1 0 1.0
rcmd "if sym _MArg1_ == open && sym CurrentFortState == closed pcmd 0.2 menu3d animate FortInside2 vr/FortUber2_doorsOpen.aaf stopAndHold 0 0.35
cmd "sym set CurrentFortState $_MArg1_"
cmd "pcmd 1.0 sym set VRFortStateChanging 0"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == open runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == open  runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == open  runnow gfx lerp lightAmb_B /current 0.6 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == open  runnow gfx lerp lightDiff_R /current 0.6 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == open  runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == open  runnow gfx lerp lightDiff_B /current 0.6 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == closed runnow gfx lerp lightAmb_R /current 0.55 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == closed  runnow gfx lerp lightAmb_G /current 0.50 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == closed  runnow gfx lerp lightAmb_B /current 0.45 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == closed  runnow gfx lerp lightDiff_R /current 0.55 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == closed  runnow gfx lerp lightDiff_G /current 0.5 0.5"
cmd "if sym VRMainMenu == 1 && sym CurrentFortState == closed  runnow gfx lerp lightDiff_B /current 0.5 0.5"
}
Script CreateObjective {
pendingOnBoolSym _ObjectiveSeq_
rcmd "sym set _ObjectiveSeq_ 1"
rcmd "sym setFrom _ObjectivesRotZLast _ObjectivesRotZ"
rcmd "sym set _ObjectivesRotZ $_MArg2_"
rcmd "if !menu3dexists MenuObjectives runnow menucmd ResetObjectives"
rcmd "sym inc _ObjectivesAmt 1"
rcmd "sym inc _ObjectivesLeft 1"
rcmd "sym set DrawingObjective 1"
cmd "pcmd t1 menu3d addChild MenuObjectives #Objective@_ObjectiveIndex@ /model vr/TextLabelObjective.amf /material mat_VrGamepadText /worldPose 0 150 0 /rootRot 0 0 0 /rootScale 3 /noVis"
cmd "pcmd t1 menu3d addChild #Objective@_ObjectiveIndex@ #ObjectiveCheckmark@_ObjectiveIndex@ /model vr/Checkmark.amf /material mat_VrCheckmark /worldPose 0 0 0 /rootRot 0 0 0 /rootScale 1.5 /attachToParentBone bone_checkmark /noVis"
cmd "pcmd t1 sym set ObjectiveText $_MArg1_"
cmd "pcmd t1 gameui refreshFilterName VrObjective"
cmd "pcmd t2 menu3d updateORTSnapshot2 #Objective@_ObjectiveIndex@ 0 300 600 95"
cmd "pcmd t3 sym set DrawingObjective 0"
cmd "pcmd t3 menu3d addAnimScript MenuObjectives as_VrObjectivesRotate.txt"
cmd "pcmd t3 if sym _ObjectiveIndex == 0 menu3d addAnimScript #Objective@_ObjectiveIndex@ as_VRMenuIn.txt"
cmd "pcmd t4 if sym _ObjectiveIndex == 0 sym inc _ObjectiveIndex 1"
cmd "pcmd t4 if sym _ObjectiveIndex == 0 pcmd 0.2 sym set _ObjectiveSeq_ 0"
cmd "pcmd t4 if sym _ObjectiveIndex != 0 sym setFrom _ObjectiveNext _ObjectiveFirst"
cmd "pcmd t5 if sym _ObjectiveIndex != 0 if sym _ObjectivesRotZLast == $_ObjectivesRotZ menucmd SlideObjectivesUp"
cmd "pcmd t5 if sym _ObjectiveIndex != 0 if sym _ObjectivesRotZLast != $_ObjectivesRotZ pcmd 0.5 menucmd SlideObjectivesUp"
}
Script ResetObjectives {
rcmd "ECHO Objectives reset!"
rcmd "sym set _ObjectiveSeq_ 0"
rcmd "sym setZero _ObjectiveIndex _ObjectivesAmt _ObjectivesLeft _ObjectiveFirst _ObjectiveFinished _ObjectiveNext"
rcmd "sym setOne _ObjectiveSecond"
rcmd "menu3d remove MenuObjectives"
cmd "menu3d add MenuObjectives /worldPose 0 0 60 /rootScale 1 /rootRot 0 0 0"
}
Script RemoveObjectives {
rcmd "ECHO Objectives removed!"
rcmd "sym set _ObjectiveSeq_ 0"
rcmd "sym setZero _ObjectiveIndex _ObjectivesAmt _ObjectivesLeft _ObjectiveFirst _ObjectiveFinished _ObjectiveNext _ObjectiveSecond"
rcmd "menu3d remove MenuObjectives"
}
Script FinishTopObjective {
pendingOnBoolSym _ObjectiveSeq_
rcmd "sym set _ObjectiveSeq_ 1"
rcmd "ECHO Objective $_MArg1_ finished!"
rcmd "sym setFrom _ObjectiveFinished _ObjectiveFirst"
rcmd "sym setFrom _ObjectiveNext _ObjectiveFirst"
rcmd "sym inc _ObjectiveNext 1"
rcmd "sym dec _ObjectivesLeft 1"
rcmd "ECHO _ObjectiveNext: $_ObjectiveNext"
rcmd "menu3d addAnimScript #ObjectiveCheckmark@_ObjectiveFinished@ as_VRObjectiveCheckmarkIn.txt"
cmd "pcmd t1 sym inc _ObjectiveFirst 1"
cmd "pcmd t1 sym inc _ObjectiveSecond 1"
cmd "pcmd t3 if sym _ObjectivesLeft <= 0 pcmd 0.6 menucmd RemoveObjectives"
rcmd "pcmd 0.4 menu3d addAnimScript #Objective@_ObjectiveFinished@ as_VRObjectiveOut.txt"
rcmd "pcmd 0.4 sym set _ObjectiveSeq_ 0"
}
Script FinishObjective {
pendingOnBoolSym _ObjectiveSeq_
rcmd "sym set _ObjectiveSeq_ 1"
rcmd "ECHO Objective $_MArg1_ finished!"
rcmd "sym set _ObjectiveFinished $_MArg1_"
rcmd "sym set _ObjectiveNext $_MArg1_"
rcmd "sym inc _ObjectiveNext 1"
rcmd "sym dec _ObjectivesLeft 1"
rcmd "ECHO _ObjectiveNext: $_ObjectiveNext"
rcmd "menu3d addAnimScript #ObjectiveCheckmark@_ObjectiveFinished@ as_VRObjectiveCheckmarkIn.txt"
rcmd "pcmd 0.4 menu3d addAnimScript #Objective@_ObjectiveFinished@ as_VRObjectiveOut.txt"
cmd "pcmd t2 if sym _ObjectiveNext <= $_ObjectivesAmt && sym _ObjectiveFinished != 0 sym setFrom _ObjectiveNext _ObjectiveIndex"
cmd "pcmd t2 if sym _ObjectiveNext <= $_ObjectivesAmt && sym _ObjectiveFinished != 0 pcmd 0.6 menucmd SlideObjectivesDown"
cmd "pcmd t3 if sym _ObjectivesLeft <= 0 pcmd 0.6 menucmd RemoveObjectives"
}
Script SlideObjectivesUp {
cmd "pcmd t1 menu3d addAnimScript #Objective@_ObjectiveNext@ as_VRObjectiveSlideUp.txt"
cmd "pcmd t2 sym inc _ObjectiveNext 1"
cmd "pcmd t3 if sym _ObjectiveNext < $_ObjectivesAmt menucmd SlideObjectivesUp $_ObjectiveNext"
cmd "pcmd t3 if sym _ObjectiveNext >= $_ObjectivesAmt pcmd 0.1 menu3d addAnimScript #Objective@_ObjectiveIndex@ as_VRMenuIn.txt"
cmd "pcmd t3 if sym _ObjectiveNext >= $_ObjectivesAmt pcmd 0.1 sym inc _ObjectiveIndex 1"
cmd "pcmd t3 if sym _ObjectiveNext >= $_ObjectivesAmt pcmd 0.1 sym set _ObjectiveSeq_ 0"
cmd "pcmd t3 if sym _ObjectiveNext >= $_ObjectivesAmt sym setZero _ObjectiveNext"
}
Script SlideObjectivesDown {
cmd "pcmd t1 menu3d addAnimScript #Objective@_ObjectiveNext@ as_VRObjectiveSlideDown.txt"
cmd "pcmd t2 sym dec _ObjectiveNext 1"
cmd "pcmd t3 if sym _ObjectiveNext >= $_ObjectivesFirst menucmd SlideObjectivesDown $_ObjectiveNext"
cmd "pcmd t3 if sym _ObjectiveNext < $_ObjectivesFirst pcmd 0.1 sym set _ObjectiveSeq_ 0"
cmd "pcmd t3 if sym _ObjectiveNext < $_ObjectivesFirst sym setZero _ObjectiveNext"
}
Script CreateCountdown {
cmd "menu3d remove Countdown"
rcmd "sym set _Countdown_ $S_DCountR"
cmd "menu3d add Countdown /model vr/BigNumbers10.amf /material mat_BigNumbers /worldPose 0 520 100 /rootScale 30 /rootRot 0 0 0"
cmd "menu3d add Countdown /model vr/BigNumbers10.amf /material mat_BigNumbers /worldPose 0 520 100 /rootScale 30 /rootRot 0 0 0"
cmd "menu3d add Countdown /model vr/BigNumbers10.amf /material mat_BigNumbers /worldPose 0 520 100 /rootScale 30 /rootRot 0 0 0"
cmd "menucmd CountdownSet local $S_DCountR"
}
Script CountdownSet {
rcmd "sym set _Countdown_ $_MArg1_"
rcmd "console flushAllPendingSeq Countdown"
cmd "menu3d addAnimScript Countdown as_VRCountdownSpin.txt 1.0"
cmd "pcmd_seq Countdown 0.25 menu3d updateCfg Countdown /model vr/BigNumbers${_Countdown_}.amf"
cmd "playsound VrSwipeBackward"
cmd "pcmd_seq Countdown 0.1 pfx menu3dspawn AirMechSwap /menu3d Countdown"
}
Script ShowUnlockConfirm {
rcmd "pcmd_seq VRUnitPreview 0.5 sym set ShowingUnlockConfirm 1"
cmd "menu3d addChild MenusVR MenuUnlock /model vr/MenuUnlock.amf /material mat_VrPictureAirMech /noVis /worldPose 0 0 20 /rootScale 1.5 /rootRot -10 0 0"
cmd "menu3d addChild MenuUnlock MenuUnlockConfirm /model vr/ButtonA.amf /material mat_MenuButtonsGamepad /attachToParentBone bone_buttonA /rootScale 1.0 /rootRot 90 0 0 /worldPose 0 1 0 /noVis"
cmd "menu3d addAnimScript MenuUnlockConfirm as_VRMessagePrompt.txt 1.2"
cmd "pcmd 0.2 menu3d setVisible MenuUnlockConfirm"
cmd "if sym CurrentCategory != Flier menu3d addAnimScript MenuUnlock as_VRMenuUnlockIn.txt 1.0"
cmd "if sym CurrentCategory == Flier menu3d addAnimScript MenuUnlock as_VRMenuUnlockInHigh.txt 1.0"
cmd "pcmd 0 menu3d updateORTSnapshot2 MenuUnlock 5 0 705 512"
}
Script ShowUnlockInspect {
cmd "if sym CurrentCategory != Flier menu3d addAnimScript MenuUnlock as_VRUnlockInspect.txt"
cmd "if sym CurrentCategory == Flier menu3d addAnimScript MenuUnlock as_VRUnlockInspectHigh.txt"
cmd "pcmd_seq VRUnitPreview 0.4 sym set PreviewingUnlockReady 1"
}
Script ShowUnlockReset {
cmd "if sym CurrentCategory != Flier menu3d addAnimScript MenuUnlock as_VRUnlockReset.txt"
cmd "if sym CurrentCategory == Flier menu3d addAnimScript MenuUnlock as_VRUnlockResetHigh.txt"
cmd "sym setZero PreviewingUnlockReady"
}
Script VrCustomizeArmy_APressed {
ignoreInputTime 0.06
cmd "if sym ShowingUnlockConfirm == 1 menucmd ShowUnlockInspect"
}
Script ClearUnlockConfirm {
cmd "menu3d remove MenuUnlockConfirm"
cmd "if sym PreviousCategory != Flier menu3d addAnimScript MenuUnlock as_VRMenuUnlockOut.txt 1.0"
cmd "if sym PreviousCategory == Flier menu3d addAnimScript MenuUnlock as_VRMenuUnlockOutHigh.txt 1.0"
cmd "pcmd 0.2 menu3d remove MenuUnlock"
cmd "sym set PreviewingUnlockReady 0"
}
Script ShowCustomizeLockFloor {
cmd "menu3d addAnimScript LockGrid as_VRFloorFadeIn.txt 1.0"
cmd "addanim as_VRMenuColUp.txt /tgt MenuColUnlock"
cmd "menu3d setVisible LockEdge MenuDiskUnlock"
cmd "menu3d animate MenuDiskUnlock vr/UnlockDiskOpen.aaf playOnceRev 0 1.0"
cmd "pfx menu3dspawn VrLockedSpace /menu3d FortInside /bone bone_root /menu3dSpace /tag Locked"
cmd "menucmd HideVrMenuSet Pets"
cmd "menucmd HideVrMenuSet Hats"
}
Script FocusAirMechTab {
rcmd "sym op AirMechList copyNth $_AirMechFocused AirMechActive"
cmd "menu3d addAnimScript #AirMechCase@_AirMechFocused@ as_VRMenuClassFocus.txt"
cmd "rook genMenu3dAirMechSkin $$RookLocal_@AirMechActive@ 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim /ownStateSym PreviewAirMechOwned"
cmd "menucmd UpdateAirMechPreviews"
cmd "if sym CurrentAirMechOwned != 1 sym set MenuTouchCancelCmd VrCustomizeUndo"
}
Script CycleAirMechHangar {
ignoreInputTime 0.25
cmd "if sym _MArg1_ == Next && sym _AirMechFocused != $_TileIndexLast menu3d addAnimScript AirMechCase${_AirMechFocused} as_VRMenuClassReset.txt 0.5"
cmd "if sym _MArg1_ == Next && sym _AirMechFocused != $_TileIndexLast sym inc _AirMechFocused"
cmd "if sym _MArg1_ == Next && sym _AirMechFocused != $_TileIndexLast menucmd SelectNextOwnedAirMechHangar local $_MArg1_"
cmd "if sym _MArg1_ == Prev && sym _AirMechFocused != 0 menu3d addAnimScript AirMechCase${_AirMechFocused} as_VRMenuClassReset.txt 0.5"
cmd "if sym _MArg1_ == Prev && sym _AirMechFocused != 0 sym dec _AirMechFocused"
cmd "if sym _MArg1_ == Prev && sym _AirMechFocused != 0 menucmd SelectNextOwnedAirMechHangar local $_MArg1_"
rcmd "pcmd 0.25 sym set _CycleAirMech 0"
}
Script SelectNextOwnedAirMechHangar {
ignoreInputTime 0.25
rcmd "menu3d remove MenuQuestCard0"
rcmd "sym op AirMechList copyNth $_AirMechFocused AirMechActive"
rcmd "sym intRemap _AirMechFocused /tgtSymbol VrQuestActive  VRM01 VRM01 VRM05 VRM15 VRM03 VRM11 VRM13 VRM09 VRM20"
cmd "if sym #Has@AirMechActive@ == 1 menu3d addAnimScript MenuDpadHint1Hangar as_VRDpadIn.txt"
cmd "menucmd FocusAirMechTab"
cmd "if sym #Has@AirMechActive@ == 0 quests writeSingleQuest ${VrQuestActive} VRQuest"
cmd "if sym #Has@AirMechActive@ == 0 menu3d addChild MenuClasses MenuQuestCard0 /model vr/QuestCard.amf /material mat_MenuButtonsGamepad /material mat_QuestCardBack /worldPose 180 -140 -100 /rootScale 6 /rootRot -10 0 -80 /noVis"
cmd "if sym #Has@AirMechActive@ == 0 pcmd 0.2 menu3d addAnimScript MenuQuestCard0 as_VRMenuTileIn.txt"
cmd "if sym #Has@AirMechActive@ == 0 menu3d addAnimScript MenuDpadHint1Hangar as_VRMenuOut.txt"
cmd "if sym SG_InGroup == 0 pcmd 0.1 menu3d addChild MenuQuestCard0 QuestCardButtonPrompt /model vr/ButtonA.amf /material mat_MenuButtonsGamepad  /attachToParentBone bone_twist /rootScale 0.45 /rootRot 0 0 0 /noVis /worldPose 8.5 -4.0 0.5"
cmd "if sym SG_InGroup == 0 pcmd 0.8 menu3d addAnimScript QuestCardButtonPrompt as_VRMenuIn.txt 0.8"
cmd "sym set ShowQuestCard 1"
cmd "pcmd t1 menucmd DrawVrQuest local 0"
cmd "pcmd t3 sym set ShowQuestCard 0"
}
Script PlayRookVoice {
rcmd "sound fadeOutBus 1 0.25"
rcmd "console flushAllPendingSeq Voice"
rcmd "pcmd_seq Voice 0.2 playsound #Rook_@AirMechActive@ /onMenu3dBone FortInside bone_root /busId 1"
}
Script CycleAirMech {
ignoreInputTime 0.25
rcmd "sym set VrSelectMode AirMech"
cmd "menucmd AirMechChangedVr"
cmd "if sym _MArg1_ == Next && sym _AirMechFocused != 8 sym inc _AirMechFocused"
cmd "if sym _MArg1_ == Next && sym _AirMechFocused == 8 runnow sym set _AirMechFocused 0"
cmd "if sym _MArg1_ == Next && sym _AirMechFocused != 8 menucmd SelectNextOwnedAirMech local $_MArg1_"
cmd "if sym _MArg1_ == Prev && sym _AirMechFocused != 0 sym dec _AirMechFocused"
cmd "if sym _MArg1_ == Prev && sym _AirMechFocused == 0 runnow sym set _AirMechFocused 8"
cmd "if sym _MArg1_ == Prev && sym _AirMechFocused != 0 menucmd SelectNextOwnedAirMech local $_MArg1_"
rcmd "pcmd 0.25 sym set _CycleAirMech 0"
cmd "pcmd 0.1 menucmd PlayRookVoice"
}
Script SelectNextOwnedAirMech {
ignoreInputTime 0.25
rcmd "sym op AirMechList copyNth $_AirMechFocused AirMechActive"
cmd "pcmd t1 rook genMenu3dAirMechSkin $$RookLocal_@AirMechActive@ 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim /ownStateSym PreviewAirMechOwned"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 runnow sym set DrawAirMechBox 1"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 runnow menucmd UpdateAirMechPreviews"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 player 0 changeToSym #RookLocal_@AirMechActive@ /ownStateSym CurrentAirMechOwned /writeToSym PreviewingAirMech"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 sym setFrom RookLocal #RookLocal_@AirMechActive@"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 sym setFrom RookLocal_Base AirMechActive"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 sym setFrom DebugRook RookLocal_Base"
cmd "pcmd t2 menucmd AirMechChangedVr"
cmd "pcmd t2 if sym PreviewAirMechOwned == 0 menucmd CycleAirMech local $_MArg1_"
}
Script CycleAirMechSkin {
ignoreInputTime 0.25
rcmd "sym set VrSelectMode Skin"
cmd "menucmd AirMechChangedVr"
rcmd "if sym _MArg1_ == Prev runnow rook genNextSkin AirMechActive #RookLocal_@AirMechActive@ /prev /ownStateSym PreviewAirMechOwned"
rcmd "if sym _MArg1_ == Next runnow rook genNextSkin AirMechActive #RookLocal_@AirMechActive@ /ownStateSym PreviewAirMechOwned"
cmd "if sym PreviewAirMechOwned == 1 rook genMenu3dAirMechSkin $RookLocal_${AirMechActive} 0 /explicit /model AirMechRobotModel /material AirMechRobotMat /anim AirMechRobotAnim /contentName AirMechName"
cmd "if sym PreviewAirMechOwned == 1 rook genMenu3dAirMechSkin $RookLocal_${AirMechActive} 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 menucmd UpdateAirMechPreviews"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 player 0 changeToSym #RookLocal_@AirMechActive@ /ownStateSym CurrentAirMechOwned /writeToSym PreviewingAirMech"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 sym setFrom RookLocal #RookLocal_@AirMechActive@"
cmd "pcmd t2 if sym PreviewAirMechOwned == 1 playerinputpause 0 local"
cmd "pcmd t2 if sym PreviewAirMechOwned == 0 menucmd CycleAirMechSkin local $_MArg1_"
rcmd "pcmd 0.25 sym set _CycleAirMech 0"
}
Script SetSpecTileTotal {
rcmd "if sym Spec0Hidden == 0 runnow sym set _SpecMaxCount 1"
rcmd "if sym Spec1Hidden == 0 runnow sym set _SpecMaxCount 2"
rcmd "if sym Spec2Hidden == 0 runnow sym set _SpecMaxCount 3"
rcmd "if sym Spec3Hidden == 0 runnow sym set _SpecMaxCount 4"
rcmd "if sym Spec4Hidden == 0 runnow sym set _SpecMaxCount 5"
rcmd "if sym Spec5Hidden == 0 runnow sym set _SpecMaxCount 6"
rcmd "if sym Spec6Hidden == 0 runnow sym set _SpecMaxCount 7"
rcmd "if sym Spec7Hidden == 0 runnow sym set _SpecMaxCount 8"
rcmd "if sym Spec8Hidden == 0 runnow sym set _SpecMaxCount 9"
rcmd "if sym Spec9Hidden == 0 runnow sym set _SpecMaxCount 10"
rcmd "if sym Spec10Hidden == 0 runnow sym set _SpecMaxCount 11"
rcmd "if sym Spec11Hidden == 0 runnow sym set _SpecMaxCount 12"
rcmd "if sym Spec12Hidden == 0 runnow sym set _SpecMaxCount 13"
rcmd "if sym Spec13Hidden == 0 runnow sym set _SpecMaxCount 14"
rcmd "if sym Spec14Hidden == 0 runnow sym set _SpecMaxCount 15"
rcmd "sym setFrom _SpecMaxCount2 _SpecMaxCount"
rcmd "sym dec _SpecMaxCount2 1"
}
Script SetupSpecTiles {
cmd "menucmd SetSpecTileTotal"
cmd "sym set VrSpecRot 210"
cmd "sym set DrawingSpecPreviews 1"
cmd "sym set SpecActive 0"
cmd "sym setZero SpecIndex SpecIndexClamped _SpecIndex _TileIndex _TileFirst _TileSlideIndex"
cmd "sym set _TileMax 5"
cmd "sym setFrom _TileMax2 _TileMax"
cmd "sym dec _TileMax2 1"
cmd "sym setFrom _TileLast _TileMax2"
cmd "menu3d remove MenusVRSpec"
cmd "menu3d addChild MenusVR MenusVRSpec /noVis /rootRot -11 0 0"
cmd "menu3d setWorldPose MenusVRSpec 0.0 -50.0 60.0"
cmd "menu3d addChild MenusVRSpec MenuSpecInfo /model vr/MenuSpecInfo.amf /material mat_VrGamepadText /worldPose 0 250 50 /rootScale 2.5 /rootRot 5 0 0 /noVis"
cmd "if sym Spec0Hidden == 0 menucmd CreateSpecTile"
cmd "if sym Spec0Hidden == 1 menucmd NoSpecTiles"
}
Script CreateSpecTile {
cmd "menu3d addChild MenusVRSpec #Spec@_TileIndex@ /rootRot 0 0 $VrSpecRot /worldPose 0 0 0"
cmd "menu3d addChild #Spec@_TileIndex@ #SpecTile@_SpecIndex@ /model vr/SpecBlock0.amf /material mat_VrPictureAirMech /rootScale 6.0 /noVis /rootRot 0 0 0 /worldPose 0 -275 0
cmd "sym setFrom VrDrawSpecMap #Spec@_SpecIndex@MapName"
cmd "pcmd t1 sym set DrawingSpecPreviews 1"
cmd "pcmd t1 gameui refreshFilterName VRSpecSelect"
cmd "pcmd t4 menu3d updateORTSnapshot #SpecTile@_SpecIndex@ 1185 410 200 200"
cmd "sym inc VrSpecRot -15"
cmd "if sym _TileIndex < $_TileMax2 && sym _TileIndex < $_SpecMaxCount2 pcmd t6 menucmd CreateSpecTile"
cmd "if sym _TileIndex < $_TileMax2 pcmd t5 sym inc _TileIndex 1"
cmd "if sym _TileIndex < $_TileMax2 pcmd t5 sym inc _SpecIndex 1"
cmd "if sym _TileIndex >= $_TileMax2 || sym _TileIndex >= $_SpecMaxCount2 pcmd t6 menucmd FinishSpecTiles"
cmd "pcmd t6 menu3d addAnimScript #SpecTile@_SpecIndex@ as_VRMenuMapAppear.txt"
}
Script FinishSpecTiles {
cmd "sym set DrawingSpecPreviews 0"
cmd "pcmd 0.3 menu3d setVisible MenusVRSpec"
cmd "pcmd 0.3 sym set MenuTouchCancelCmd CancelSpectateLobby"
cmd "pcmd 0.1 if !menu3dexists SpecSelectBase menu3d addChild MenusVRSpec SpecSelectBase /rootRot 0 0 0 /worldPose 0 0 0"
cmd "pcmd 0.1 if !menu3dexists SpecSelect menu3d addChild SpecSelectBase SpecSelect /model vr/FlairBlockOutline.amf /material mat_BlockSelectGlowBlue /rootScale 6.5 /rootRot 0 0 0 /worldPose 0 0 0 /noVis"
cmd "pcmd 0.1 if !menu3dexists SpecSelectAButton menu3d addChild SpecSelect SpecSelectAButton /model vr/ButtonA.amf /material mat_MenuButtonsGamepad /rootScale 0.6 /rootRot 90 0 0 /worldPose 0 0.5 -4 /noVis /hiddenCheckBySymbol TouchingRefreshRooms"
cmd "pcmd 0.15 menu3d setWorldPose SpecSelect 0 -275 0"
cmd "if sym SpecCycling == 0 pcmd_seq VrSpecCycle 0.3 menucmd ChangeSpecSelect"
cmd "if sym SpecCycling == 1 pcmd 0 menucmd ChangeSpecSelect"
cmd "if sym SpecCycling == 0 pcmd_seq VrSpecCycle 0.4 menu3d addAnimScript SpecSelect as_VRMenuTileIn.txt"
cmd "if sym SpecCycling == 0 pcmd_seq VrSpecCycle 0.8 menu3d addAnimScript SpecSelectAButton as_VRMenuIn.txt"
cmd "if sym SpecCycling == 0 pcmd_seq VrSpecCycle 0.4 menu3d addAnimScript MenuSpecInfo as_VRMenuIn.txt"
}
Script NoSpecTiles {
cmd "sym set DrawingSpecPreviews 0"
cmd "pcmd 0.3 menu3d setVisible MenusVRSpec"
cmd "pcmd 0.3 sym set MenuTouchCmd"
cmd "pcmd 0.3 sym set MenuTouchCancelCmd CancelSpectateLobby"
cmd "pcmd 0.3 menucmd ChangeSpecSelect"
cmd "pcmd 0.4 menu3d addAnimScript MenuSpecInfo as_VRMenuIn.txt"
}
Script CycleSpecTilesNext {
ignoreInputTime 0.25
cmd "menu3d addAnimScript #SpecTile@_TileFirst@ as_VRMenuHide.txt"
cmd "sym inc _TileFirst 1"
cmd "sym setFrom _TileSlideIndex _TileFirst"
cmd "sym inc _TileLast 1"
cmd "menucmd SlideSpecTilesNext"
cmd "sym inc _TileIndex 1"
cmd "sym setFrom _SpecIndex _TileLast"
cmd "sym inc _SpecIndex"
cmd "sym set VrSpecRot 150"
cmd "menucmd CreateSpecTile"
}
Script CycleSpecTilesPrev {
ignoreInputTime 0.25
cmd "menu3d addAnimScript #SpecTile@_TileLast@ as_VRMenuHide.txt"
cmd "sym dec _TileFirst 1"
cmd "sym setFrom _TileSlideIndex _TileLast"
cmd "sym dec _TileSlideIndex 1"
cmd "sym dec _TileLast 1"
cmd "menucmd SlideSpecTilesPrev"
cmd "sym dec _TileIndex 1"
cmd "sym setFrom _SpecIndex _TileFirst"
cmd "sym set VrSpecRot 210"
cmd "menucmd CreateSpecTile"
}
Script SlideSpecTilesNext {
rcmd "menu3d addAnimScript #Spec@_TileSlideIndex@ as_VRSpecTileSlideLeft.txt"
rcmd "sym inc _TileSlideIndex 1"
rcmd "if sym _TileSlideIndex < $_TileLast menucmd SlideSpecTilesNext"
rcmd "if sym _TileSlideIndex == $_TileLast sym setZero _TileSlideIndex"
rcmd "if sym _TileSlideIndex == $_TileLast pcmd t6 sym set SpecCycling 0"
}
Script SlideSpecTilesPrev {
rcmd "menu3d addAnimScript #Spec@_TileSlideIndex@ as_VRSpecTileSlideRight.txt"
rcmd "sym dec _TileSlideIndex 1"
rcmd "if sym _TileSlideIndex > $_TileFirst menucmd SlideSpecTilesPrev"
rcmd "if sym _TileSlideIndex == $_TileFirst sym setZero _TileSlideIndex"
rcmd "if sym _TileSlideIndex == $_TileFirst pcmd t6 sym set SpecCycling 0"
}
Script SetupMapTiles {
cmd "sym set VrMapRot 225"
cmd "sym push DrawingMapPreviews 1"
cmd "sym set _TileIndex 0"
cmd "if sym Gamemode != PvP runnow sym op VrMapList getcount _TileMax"
cmd "if sym Gamemode == PvP runnow sym op VrMapListNoSurvival getcount _TileMax"
cmd "sym setFrom _TileMax2 _TileMax"
cmd "sym dec _TileMax2 1"
cmd "menu3d addChild MenusVR MenusVRMaps /noVis /rootRot 0 0 0"
cmd "menu3d setWorldPose MenusVRMaps 0.0 50.0 -10.0"
cmd "sym set _TileDelay 50"
cmd "menucmd CreateMapTile"
}
Script CreateMapTile {
rcmd "sym op VrMapList copyNth $_TileIndex MapActive"
cmd "menu3d addChild MenusVRMaps #Map@_TileIndex@ /rootRot 0 0 $VrMapRot /worldPose 0 0 0"
cmd "menu3d addChild #Map@_TileIndex@ #Map@MapActive@ /model vr/FlairBlock0.amf /material mat_VrPictureAirMech /rootScale 4.0 /noVis /rootRot 20 0 0 /worldPose 0 -225 0
cmd "sym setPair VrDrawMap $MapActive VrSelectMode Maps
cmd "pcmd t1 menu3d updateORTSnapshot2 #Map@MapActive@ 300 120 500 500
cmd "sym inc VrMapRot -12"
cmd "sym inc _TileDelay 4"
cmd "if sym _TileIndex < $_TileMax2 menucmd CreateMapTile"
cmd "if sym _TileIndex < $_TileMax2 runnow sym inc _TileIndex"
cmd "if sym _TileIndex >= $_TileMax2 menucmd FinishMapTiles"
cmd "pcmd #t@_TileDelay@ menu3d addAnimScript #Map@MapActive@ as_VRMenuMapAppear.txt"
}
Script FinishMapTiles_old {
cmd "pcmd 0.1 sym set DrawingMapPreviews 0"
cmd "pcmd 0.3 menu3d setVisible MenusVRMaps"
cmd "pcmd 0.3 sym set MenuTouchCancelCmd SelectMapCancel"
cmd "pcmd 0.1 menu3d addChild MenusVRMaps MapSelectBase /rootRot 0 0 0 /worldPose 0 0 0"
cmd "pcmd 0.1 menu3d addChild MapSelectBase MapSelect /model vr/FlairBlockOutline.amf /material mat_BlockSelectGlowBlue /rootScale 4.5 /rootRot 0 0 0 /noVis"
cmd "pcmd 0.1 menu3d addChild MapSelect MapSelectAButton /model vr/ButtonA.amf /material mat_MenuButtonsGamepad /rootScale 0.6 /rootRot 90 0 0 /worldPose 0 0.5 -4 /noVis"
cmd "pcmd 0.15 menu3d setWorldPose MapSelect 0 -275 0"
cmd "pcmd 0.3 menucmd ChangeMapSelect"
cmd "pcmd 0.2 menu3d addAnimScript MapSelect as_VRMenuTileIn.txt"
cmd "pcmd 0.8 menu3d addAnimScript MapSelectAButton as_VRMenuIn.txt"
}
Script FinishMapTiles {
cmd "pcmd 0.1 sym pop DrawingMapPreviews"
cmd "menu3d addAnimScript MenusVRMaps as_VRMenuTilesOut.txt 3.0"
cmd "pcmd 0.3 menu3d setVisible MenusVRMaps"
cmd "pcmd 0.1 menu3d addChild MenusVRMaps MapSelectBase /rootRot 0 0 225 /worldPose 0 0 0"
cmd "pcmd 0.1 menu3d addChild MapSelectBase MapSelect /model vr/FlairBlockOutline.amf /material mat_BlockSelectGlowBlue /rootScale 4.3 /rootRot 20 0 0 /noVis /worldPose 0 -222 0"
cmd "pcmd 0.1 menu3d addChild MapSelect MapSelect1 /model vr/FlairBlockOutline.amf /material mat_BlockSelectGlowBlue /rootScale 1.1 /rootRot 0 0 0 /parentVisCheck /worldPose 0 -1 0"
cmd "pcmd 0.1 menu3d addAnimScript MapSelect as_VRMenuTileIn.txt"
}
Script SetupLangTiles {
cmd "sym set VrLanguageRot 215"
cmd "sym set DrawingLangFlags 1"
cmd "sym set _TileIndex 0"
cmd "sym op VrLangList getcount _TileMax"
cmd "pcmd 0 sym setFrom _TileMax2 _TileMax"
cmd "pcmd 0 sym dec _TileMax2 1"
cmd "menu3d addChild MenusVR MenusVRLang /noVis /rootRot -11 0 0"
cmd "menu3d setWorldPose MenusVRLang 0.0 -50.0 40.0"
cmd "menucmd CreateLangTile"
}
Script CreateLangTile {
rcmd "sym op VrLangList copyNth $_TileIndex LangActive"
cmd "menu3d addChild MenusVRLang #Lang@_TileIndex@ /rootRot 0 0 $VrLanguageRot /worldPose 0 0 0"
cmd "menu3d addChild #Lang@_TileIndex@ #Lang@LangActive@ /model vr/FlairBlock0.amf /material mat_VrPictureAirMech /rootScale 4.0 /noVis /rootRot 0 0 0 /worldPose 0 -275 0"
cmd "sym setFrom VrDrawFlag LangActive"
cmd "pcmd t1 menu3d updateORTSnapshot #Lang@LangActive@ 10 130 300 300
cmd "sym inc VrLanguageRot -10"
cmd "if sym _TileIndex < $_TileMax2 pcmd t1 menucmd CreateLangTile"
cmd "if sym _TileIndex < $_TileMax2 sym inc _TileIndex"
cmd "if sym _TileIndex >= $_TileMax2 menucmd FinishLangTiles"
cmd "menu3d addAnimScript #Lang@LangActive@ as_VRMenuMapAppear.txt"
}
Script FinishLangTiles {
cmd "sym set DrawingLangFlags 0"
cmd "pcmd 0.3 menu3d setVisible MenusVRLang"
cmd "pcmd 0.3 sym set MenuTouchCancelCmd SelectLanguageCancel"
cmd "pcmd 0.1 menu3d addChild MenusVRLang LangSelectBase /rootRot 0 0 0 /worldPose 0 0 0"
cmd "pcmd 0.1 menu3d addChild LangSelectBase LangSelect /model vr/FlairBlockOutline.amf /material mat_BlockSelectGlowBlue /rootScale 4.5 /rootRot 0 0 0 /worldPose 0 0 0 /noVis"
cmd "pcmd 0.1 menu3d addChild LangSelect LangSelectAButton /model vr/ButtonA.amf /material mat_MenuButtonsGamepad /rootScale 0.6 /rootRot 90 0 0 /worldPose 0 0.5 -4 /noVis"
cmd "pcmd 0.15 menu3d setWorldPose LangSelect 0 -275 0"
cmd "pcmd 0.3 menucmd ChangeLangSelect"
cmd "pcmd 0.4 menu3d addAnimScript LangSelect as_VRMenuTileIn.txt"
cmd "pcmd 0.8 menu3d addAnimScript LangSelectAButton as_VRMenuIn.txt"
}
Script SetupFlairTiles {
rcmd "sym set FlairIndex 0"
rcmd "sym clear VrFlairList"
rcmd "sym set VRFlairSelectMode 1"
rcmd "sym set IsVrFlairUnlockedLast -1"
rcmd "sym set _FlairType $_MArg1_"
rcmd "contentlist getCount $_FlairType _FlairMaxCount"
rcmd "contentlist getRange $_FlairType 0 $_FlairMaxCount VrFlairList"
rcmd "sym setFrom _FlairMaxCount2 _FlairMaxCount"
rcmd "sym dec _FlairMaxCount2 1"
rcmd "if sym _FlairType == pets sym set _FlairSize 2.5"
rcmd "if sym _FlairType == heads sym set _FlairSize 3"
cmd "sym set _FlairIndex 0"
cmd "sym set VrFlairRot 225"
cmd "sym setZero _TileIndex _TileFirst _TileSlideIndex"
cmd "sym set _TileMax 10"
cmd "sym setFrom _TileMax"
cmd "sym setFrom _TileMax2 _TileMax"
cmd "sym dec _TileMax2 1"
cmd "sym setFrom _TileLast _TileMax2"
cmd "menu3d addChild MenusVR MenusVRFlairTiles /noVis /rootRot -11 0 0"
cmd "menu3d setWorldPose MenusVRFlairTiles 0.0 -50.0 70.0"
cmd "menu3d addChild MenusVRFlairTiles MenuFlairInfo /model vr/MenuArmyInfo.amf /material mat_RenderToTextureVR2_UnlitStdBlend /worldPose 0 350 100 /rootScale 2.5 /rootRot 5 0 0 /noVis"
cmd "gameui disableAll VrFlairCL"
cmd "pcmd 0.5 gameui enableAll VrFlairCL"
cmd "menu3d addChild MenusVRFlairTiles MenuFlairArrowLeft /model vr/FlairBlockArrow.amf /material mat_MenuBlockWhite /worldPose -230 170 0 /rootScale 3.5 /rootRot 0 0 50 /noVis"
cmd "menu3d addChild MenusVRFlairTiles MenuFlairArrowRight /model vr/FlairBlockArrow.amf /material mat_MenuBlockWhite /worldPose 225 170 0 /rootScale 3.5 /rootRot 0 180 50 /noVis"
cmd pcmd 0.5 menu3d addAnimScript MenuFlairArrowRight as_VRMenuIn.txt"
cmd "menu3d addChild MenusVRFlairTiles FlairRemoveModel /worldPose 0 0 500 /rootScale 1.0 /rootRot 0 0 0 /noVis"
cmd "menu3d addChild MenuHangar MenuDiskUnlockFlair /model vr/UnlockDisk.amf /material mat_UnlockDisk /noVis /rootScale 0.76 /worldPose 0 67 0"
cmd "menu3d addChild MenuHangar MenuDiskUnlockFlairGo /model vr/MenuDisk.amf /material mat_MenuDiskFocus /noVis /rootScale 0.6 0.6 0.8 /worldPose 0 67 0"
cmd "pcmd 0.48 menu3d writeWorldPos MenuDiskUnlockFlair _WorldPosUnlock /xy"
cmd "pcmd 0.5 spawn VRMenuSphereCol3 /posSym _WorldPosUnlock /posZ -3.4 /label MenuColUnlockFlair"
cmd "menu3d logicFnc MenuDiskUnlockFlair amFocusCapsule /radiusInner 20.0 /height 50.0 /skinDepth 5.0 /cmdfocus [menucmd MenuDiskUnlockFlairContactOn] /cmdunfocus [menucmd MenuDiskUnlockFlairContactOff]"
cmd "pcmd 0.1 menucmd CreateFlairTile"
}
Script CreateFlairTile {
rcmd "sym set DrawingFlairTiles 1"
rcmd "contentlist nthContentIn $_FlairType $_FlairIndex _FlairContentName"
cmd "menu3d addChild MenusVRFlairTiles #Flair@_TileIndex@ /rootRot 0 0 $VrFlairRot /worldPose 0 0 0"
cmd "menu3d addChild #Flair@_TileIndex@ #FlairTile@_FlairIndex@ /model vr/FlairBlock0.amf /material mat_VrPictureAirMech /rootScale 4.0 /noVis /rootRot 0 0 0 /worldPose 0 -275 0"
cmd "collection isUnlockedSym _FlairContentName IsVrFlairUnlockedTemp"
cmd "pcmd t0 if sym IsVrFlairUnlockedTemp == 0 runnow sym set DrawingFlairTileGreyscale 1"
cmd "pcmd t0 if sym IsVrFlairUnlockedTemp == 1 runnow sym set DrawingFlairTileGreyscale 0"
cmd "pcmd t0 if sym IsVrFlairUnlockedTemp == 0 menu3d addChild #FlairTile@_FlairIndex@ #FlairLock@_FlairIndex@ /model vr/Lock.amf  /material mat_VrLock /rootScale 0.15 /rootRot 0 30 0 /worldPose -3 1 -3 /noVis"
cmd "pcmd t0 sym setFrom VrDrawPet _FlairContentName"
cmd "pcmd t1 gameui refreshfiltername VRFlairTile"
cmd "pcmd t4 menu3d updateORTSnapshot #FlairTile@_FlairIndex@ 0 150 300 300
cmd "sym inc VrFlairRot -10"
cmd "if sym _TileIndex < $_TileMax2 pcmd t5 menucmd CreateFlairTile"
cmd "if sym _TileIndex < $_TileMax2 sym inc _TileIndex 1"
cmd "if sym _TileIndex < $_TileMax2 sym inc _FlairIndex 1"
cmd "if sym _TileIndex >= $_TileMax2 menucmd FinishFlairTiles"
cmd "pcmd t5 menu3d addAnimScript #FlairLock@_FlairIndex@ as_VRMenuIn.txt"
cmd "pcmd t5 menu3d addAnimScript #FlairTile@_FlairIndex@ as_VRMenuMapAppear.txt"
cmd "pcmd t5 sym set DrawingFlairTiles 0"
}
Script FinishFlairTiles {
cmd "pcmd 0.3 menu3d setVisible MenusVRFlairTiles"
cmd "pcmd 0.1 if !menu3dexists FlairSelectBase menu3d addChild MenusVRFlairTiles FlairSelectBase /rootRot 0 0 0 /worldPose 0 0 0"
cmd "pcmd 0.1 if !menu3dexists FlairSelect menu3d addChild FlairSelectBase FlairSelect /model vr/FlairBlockOutline.amf /material mat_BlockSelectGlowBlue /rootScale 4.5 /rootRot 0 0 0 /worldPose 0 0 0 /noVis"
cmd "pcmd 0.1 if !menu3dexists FlairSelectAButton menu3d addChild FlairSelect FlairSelectAButton /model vr/ButtonA.amf /material mat_MenuButtonsGamepad /rootScale 0.6 /rootRot 90 0 0 /worldPose 0 0.5 -4 /noVis /hiddenCheckBySymbolInv IsVrFlairUnlocked"
cmd "pcmd 0.15 menu3d setWorldPose FlairSelect 0 -275 0"
cmd "pcmd_seq VrFlairCycle 0.3 menucmd ChangeFlairSelect"
cmd "if sym FlairsCycling == 0 pcmd_seq VrFlairCycle 0.4 menu3d addAnimScript FlairSelect as_VRMenuTileIn.txt"
cmd "if sym FlairsCycling == 0 pcmd_seq VrFlairCycle 0.8 menu3d addAnimScript FlairSelectAButton as_VRMenuIn.txt"
}
Script CycleFlairTiles {
ignoreInputTime 0.175
rcmd "if sym FlairIndex == $FlairIndexClamped menu3d addAnimScript MenuFlairArrowLeft as_VRMenuOut.txt"
rcmd "if sym FlairIndex > $FlairIndexClamped menu3d addAnimScript MenuFlairArrowLeft as_VRMenuIn.txt"
rcmd "if sym FlairIndex == $_FlairMaxCount2 menu3d addAnimScript MenuFlairArrowRight as_VRMenuOut.txt"
rcmd "if sym FlairIndex != $_FlairMaxCount2 menu3d addAnimScript MenuFlairArrowRight as_VRMenuIn.txt"
cmd "if sym _MArg1_ == Next runnow menu3d addAnimScript #FlairTile@_TileFirst@ as_VRMenuHide.txt"
cmd "if sym _MArg1_ == Next sym inc _TileFirst 1"
cmd "if sym _MArg1_ == Next sym setFrom _TileSlideIndex _TileFirst"
cmd "if sym _MArg1_ == Next sym inc _TileLast 1"
cmd "if sym _MArg1_ == Next menucmd SlideFlairTiles $_MArg1_"
cmd "if sym _MArg1_ == Next runnow sym inc _TileIndex 1"
cmd "if sym _MArg1_ == Next runnow sym setFrom _FlairIndex _TileLast"
cmd "if sym _MArg1_ == Next runnow sym inc _FlairIndex"
cmd "if sym _MArg1_ == Next runnow sym set VrFlairRot 135"
cmd "if sym _MArg1_ == Next pcmd 0.1 menucmd CreateFlairTile"
cmd "if sym _MArg1_ == Prev runnow menu3d addAnimScript #FlairTile@_TileLast@ as_VRMenuHide.txt"
cmd "if sym _MArg1_ == Prev runnow sym dec _TileFirst 1"
cmd "if sym _MArg1_ == Prev runnow sym setFrom _TileSlideIndex _TileLast"
cmd "if sym _MArg1_ == Prev runnow sym dec _TileSlideIndex 1"
cmd "if sym _MArg1_ == Prev sym dec _TileLast 1"
cmd "if sym _MArg1_ == Prev menucmd SlideFlairTiles $_MArg1_"
cmd "if sym _MArg1_ == Prev runnow sym dec _TileIndex 1"
cmd "if sym _MArg1_ == Prev runnow sym setFrom _FlairIndex _TileFirst"
cmd "if sym _MArg1_ == Prev runnow sym set VrFlairRot 225"
cmd "if sym _MArg1_ == Prev pcmd 0.1 menucmd CreateFlairTile"
}
Script SlideFlairTiles {
rcmd "if sym _MArg1_ == Next menu3d addAnimScript #Flair@_TileSlideIndex@ as_VRFlairTileSlideLeft.txt"
rcmd "if sym _MArg1_ == Next sym inc _TileSlideIndex 1"
rcmd "if sym _MArg1_ == Next if sym _TileSlideIndex < $_TileLast menucmd SlideFlairTiles $_MArg1_"
rcmd "if sym _MArg1_ == Next if sym _TileSlideIndex == $_TileLast sym setZero _TileSlideIndex FlairsCycling"
rcmd "if sym _MArg1_ == Prev menu3d addAnimScript #Flair@_TileSlideIndex@ as_VRFlairTileSlideRight.txt"
rcmd "if sym _MArg1_ == Prev sym dec _TileSlideIndex 1"
rcmd "if sym _MArg1_ == Prev if sym _TileSlideIndex > $_TileFirst menucmd SlideFlairTiles $_MArg1_"
rcmd "if sym _MArg1_ == Prev if sym _TileSlideIndex == $_TileFirst sym setZero _TileSlideIndex FlairsCycling"
}
Script UpdateAirMechPreviews {
ignoreInputTime 0.3
rcmd "sym set PreviewingAirMechBoxBack 0"
cmd "if sym CurrentAirMechOwned != 1 menucmd VrCustomizeUndo"
cmd "playsound VrSwipeBackward"
cmd "collection initSettings $RookLocal_@AirMechActive@ VRTemp"
cmd "sym set DrawAirMechBox 1"
cmd "gameui refreshfiltername SelectAirMech"
cmd "pcmd 0.2 menu3d updateORTSnapshot2 BoxAirMech 0 0 1920 960"
cmd "menu3d updateCfg AirMechAirPreview $AirMechAirModel $AirMechAirMat"
cmd "menu3d animate AirMechRobotPreview $AirMechRobotAnim stopandhold 0 0.0"
cmd "menu3d animate AirMechAirPreview $AirMechAirAnim stopandhold 0 0.0"
cmd "pcmd 0.21 sym set DrawAirMechBox 0"
cmd "if sym VrCustomizeMode == 1 && sym RookLocal != $AirMechActiveLast && sym VrCustomizeType == class menu3d addAnimScript BoxAirMech as_VRBoxSwap.txt"
cmd "if sym VrCustomizeInLobbyMode == 1 && sym RookLocal != $AirMechActiveLast menu3d addAnimScript BoxAirMech as_VRBoxSwapInLobby.txt"
cmd "pcmd 0.0 sym set AirMechActiveLast null"
}
Script UpdateAirMechBoxText {
cmd "pcmd 0.005 menu3d updateORTSnapshot2 BoxAirMech 0 0 1920 960"
cmd "pcmd 0.01 if sym PreviewingAirMechBoxBack == 1 menucmd UpdateAirMechBoxText"
}
Script VrUnlockRequestSend {
ignoreInputTime 0.5
rcmd "if sym TR_PriceKP2PEnoughVRTemp == 0 menucmd VrUnlockNotEnoughKudos"
rcmd "if sym TR_PriceKP2PEnoughVRTemp == 1 runnow echo Asking to unlock $_MArg1_"
rcmd "if sym TR_PriceKP2PEnoughVRTemp == 1 runnow timer setAsyncWait 1"
rcmd "if sym TR_PriceKP2PEnoughVRTemp == 1 runnow loadmenu AsyncNoticeDialogVr.txt"
rcmd "if sym TR_PriceKP2PEnoughVRTemp == 1 runnow platform unlockP2PStyle $_MArg1_"
rcmd "if sym TR_PriceKP2PEnoughVRTemp == 1 playsound AlertCaptureBank.wav"
cmd "if sym VrCustomizeArmy == 1 && sym VRFlairSelectMode == 0 menucmd ShowUnlockReset"
cmd "if sym VrCustomizeArmy == 1 menu3d updateCfg MenuArmyUnlock /material mat_CoverDisk"
cmd "sym set PreviewingUnlockReady 0"
cmd "if sym TR_PriceKP2PEnoughVRTemp == 1 pfx menu3dspawn KudosBurst /menu3d MenuUnlock"
cmd "if sym TR_PriceKP2PEnoughVRTemp == 1 pfx boneLatchNRTSpawn KudosBurst bone_head /tgt local"
cmd "if sym TR_PriceKP2PEnoughVRTemp == 1 && sym RookLocal_Base != Saucer pfx boneLatchNRTSpawn KudosBurst bone_head /tgt local"
cmd "if sym TR_PriceKP2PEnoughVRTemp == 1 && sym RookLocal_Base == Saucer pfx boneLatchNRTSpawn KudosBurst bone_hat /tgt local"
}
Script VrFlairUnlockRequestSend {
ignoreInputTime 0.5
rcmd "if sym TR_PriceKP2PEnoughVRFlair == 0 menucmd VrUnlockNotEnoughKudos"
rcmd "if sym TR_PriceKP2PEnoughVRFlair == 1 runnow echo Asking to unlock $_MArg1_"
rcmd "if sym TR_PriceKP2PEnoughVRFlair == 1 runnow timer setAsyncWait 1"
rcmd "if sym TR_PriceKP2PEnoughVRFlair == 1 runnow loadmenu AsyncNoticeDialogVr.txt"
rcmd "if sym TR_PriceKP2PEnoughVRFlair == 1 runnow platform unlockP2PStyle $_MArg1_"
rcmd "if sym TR_PriceKP2PEnoughVRFlair == 1 playsound AlertCaptureBank.wav"
cmd "sym set PreviewingUnlockReady 0"
cmd "if sym TR_PriceKP2PEnoughVRFlair == 1 && sym RookLocal_Base != Saucer pfx boneLatchNRTSpawn KudosBurst bone_head /tgt local"
cmd "if sym TR_PriceKP2PEnoughVRFlair == 1 && sym RookLocal_Base == Saucer pfx boneLatchNRTSpawn KudosBurst bone_hat /tgt local"
}
Script VrUnlockNotEnoughKudos {
ignoreInputTime 0.1
cmd "echo VrUnlockNotEnoughKudos"
cmd "playsound AlertOutpostLost.wav"
}
Script VrUnlockRequestOk {
ignoreInputTime 0.1
cmd "timer clearAsyncWait"
cmd "clearmenu AsyncNoticeDialogVr.txt"
cmd "echo VrUnlockRequestOk"
cmd "menucmd ClearUnlockConfirm"
cmd "if sym VrCustomizeArmy == 1 sym set CurrentUnitOwned 1"
cmd "if sym VrCustomizeArmy == 1 sym setFrom #UnitVRLast@_BuildCubeIndex_@ #AS@_BuildCubeIndex_@P@net_local_player@"
cmd "if sym VrCustomizeArmy == 1 menucmd UpdateCubeFace"
cmd "if sym VrCustomizeArmy == 1 menucmd RestoreArmySlotInfo"
cmd "if sym VrCustomizeMode == 1 && sym VRFlairSelectMode == 0 menucmd VrCustomizePurchaseAirMech"
cmd "if sym VrCustomizeMode == 1 && sym VRFlairSelectMode == 0 sym set CurrentAirMechOwned == 1"
cmd "if sym VrCustomizeMode == 1 && sym VRFlairSelectMode == 0 sym set PreviewAirMechOwned == 1"
cmd "if sym VRFlairSelectMode == 1 pcmd 0 menucmd VrFlairUnlocked"
}
Script VrUnlockRequestFailed {
ignoreInputTime 0.1
cmd "timer clearAsyncWait"
cmd "clearmenu AsyncNoticeDialogVr.txt"
cmd "echo VrUnlockRequestFailed"
cmd "menucmd ClearUnlockConfirm"
cmd "playsound AlertOutpostLost.wav"
}
Script VrCustomizeMode_SelectClass {
cmd "echo _SelectClass"
rcmd "player 0 changeToSym #RookLocal_@AirMechActive@ /ownStateSym CurrentAirMechOwned /writeToSym PreviewingAirMech"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "menu3d addAnimScript BoxAirMech as_VRBoxInspect.txt"
cmd "gameui resetAutoScrollWait VrBoxBackText"
cmd "sym set DrawAirMechBox 1"
cmd "gameui flushDrawCache airmech_desc"
cmd "menucmd UpdateAirMechBoxText"
cmd "if sym CurrentAirMechOwned != 1 playsound UIOrderFailCredits.wav"
cmd "if sym CurrentAirMechOwned != 1 menucmd ShowCustomizeLockFloor"
cmd "if sym CurrentAirMechOwned == 1 playsound UI_ChangeLoadout"
cmd "if sym CurrentAirMechOwned == 1 menu3d setInvisible LockGrid LockEdge MenuDiskUnlock MenuDiskUnlockGo"
cmd "if sym CurrentAirMechOwned != 1 sym set MenuTouchCancelCmd VrCustomizeUndo"
cmd "if sym CurrentAirMechOwned == 1 sym set MenuTouchCancelCmd SelectHangarCancel"
cmd "if sym CurrentAirMechOwned == 1 sym setFrom RookLocal PreviewingAirMech"
cmd "if sym CurrentAirMechOwned == 1 sym setFrom PlayerRook@RookIndex@ PreviewingAirMech"
cmd "if sym CurrentAirMechOwned == 1 sym setFrom _LastOwnedCycleRook PreviewingAirMech"
rcmd "if sym CurrentAirMechOwned == 1 runnow sym op AirMechList copyNth $_AirMechFocused RookLocal_Base"
rcmd "if sym CurrentAirMechOwned == 1 sym setFrom _LastOwnedCycleRook_Base RookLocal_Base"
cmd "sym set PreviewingAirMechBoxBack 1"
}
Script VrCustomizeMode_APressed {
ignoreInputTime 0.06
rcmd "if sym VrCustomizeType == class && sym #Has@AirMechActive@ == 1 && sym AirMechActive == $RookLocal_@AirMechActive@ pcmd_seq Voice 0.15 menucmd PlayRookVoice"
rcmd "if sym VrCustomizeType != class && sym IsVrFlairUnlocked == 1 menucmd FlairToggle"
rcmd "if sym VrCustomizeType == class && sym PreviewingAirMechBoxBack == 0 && sym #Has@AirMechActive@ == 1 runnow menucmd VrCustomizeMode_SelectClass"
rcmd "if sym VrCustomizeType == class && sym PreviewingAirMechBoxBack == 0 && sym #Has@AirMechActive@ == 0 runnow menucmd DoQuestForAirMech"
rcmd "if sym VrCustomizeType == class && sym PreviewingAirMechBoxBack == 1 runnow gameui resetAutoScrollWait VrBoxBackText"
rcmd "if sym VrCustomizeType == class && sym PreviewingAirMechBoxBack == 1 runnow gameui flushDrawCache airmech_desc"
}
Script FlairToggle {
ignoreInputTime 0.5
rcmd "if sym VrCustomizeType == pets && sym FlairActive == $Pet1Custom0 player 0 restorePetsToSavedMenu3dBindings $VrCustomizeType /forceMenu3d FlairActiveModel /scalelink $_FlairSize"
rcmd "if sym VrCustomizeType == pets && sym FlairActive == $Pet1Custom0 playsound UI_ChangeLoadout"
rcmd "if sym VrCustomizeType == pets && sym FlairActive != $Pet1Custom0 && sym Pet1Custom0 != null player 0 restorePetsToSavedMenu3dBindings $VrCustomizeType /forceMenu3d FlairRemoveModel /terminateIn 0.2 /excludeContentSym FlairActive"
rcmd "if sym VrCustomizeType == pets && sym FlairActive != $Pet1Custom0 player 0 popPetFromMenu3dBinding FlairActiveModel $VrCustomizeType"
rcmd "if sym VrCustomizeType == pets && sym FlairActive != $Pet1Custom0 playsound UI_UnlockCapsuleRegular"
rcmd "if sym VrCustomizeType == heads && sym FlairActive == $HeadCustom0 player 0 restorePetsToSavedMenu3dBindings $VrCustomizeType /forceMenu3d FlairActiveModel /scalelink $_FlairSize"
rcmd "if sym VrCustomizeType == heads && sym FlairActive == $HeadCustom0 playsound UI_ChangeLoadout"
rcmd "if sym VrCustomizeType == heads && sym FlairActive != $HeadCustom0 && sym HeadCustom0 != NoHead player 0 restorePetsToSavedMenu3dBindings $VrCustomizeType /forceMenu3d FlairRemoveModel /terminateIn 0.2 /excludeContentSym FlairActive"
rcmd "if sym VrCustomizeType == heads && sym FlairActive != $HeadCustom0 player 0 popPetFromMenu3dBinding FlairActiveModel $VrCustomizeType"
rcmd "if sym VrCustomizeType == heads && sym FlairActive != $HeadCustom0 playsound UI_UnlockCapsuleRegular"
cmd "player 0 commitPetStateToLocalSymbols"
}
Script VrCustomizeUndo {
cmd "sym setZero PreviewingUnlockReady PreviewingAirMechBoxBack"
cmd "player 0 changeToSym _LastOwnedCycleRook /ownStateSym CurrentAirMechOwned"
cmd "sym setPair RookLocal $_LastOwnedCycleRook DebugRookSkin $_LastOwnedCycleRook DebugRookSkin3 $_LastOwnedCycleRook"
cmd "sym setPair RookLocal_Base $_LastOwnedCycleRook_Base DebugRook $_LastOwnedCycleRook_Base"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "menu3d setInvisible LockGrid LockEdge MenuDiskUnlock MenuDiskUnlockGo"
cmd "menucmd ShowVrMenuSet Pets"
cmd "menucmd ShowVrMenuSet Hats"
cmd "addanim as_VRMenuColDown.txt /tgt MenuColUnlock /silentFail"
cmd "sym set MenuTouchCancelCmd SelectHangarCancel"
cmd "menu3d addAnimScript BoxAirMech as_VRBoxSwap.txt"
cmd "playsound UIOrderFailCredits.wav"
cmd "pfx stop Locked"
}
Script VrCustomizePurchaseAirMech {
cmd "sym set PreviewingAirMechBoxBack 0"
rcmd "player 0 changeToSym #RookLocal_@AirMechActive@ /ownStateSym CurrentAirMechOwned"
cmd "sym setFrom RookLocal #RookLocal_@AirMechActive@"
cmd "sym setFrom RookLocal_Base AirMechActive"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "menu3d setInvisible LockGrid LockEdge MenuDiskUnlock MenuDiskUnlockGo"
cmd "menucmd ShowVrMenuSet Pets"
cmd "menucmd ShowVrMenuSet Hats"
cmd "addanim as_VRMenuColDown.txt /tgt MenuColUnlock /silentFail"
cmd "sym set MenuTouchCancelCmd SelectHangarCancel"
cmd "menu3d addAnimScript BoxAirMech as_VRBoxSwap.txt"
cmd "pfx stop Locked"
}
Script TouchHangar {
rcmd "sym set MenuTouch 1"
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material  mat_MenuDiskFocus"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusGet.txt"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ #as_VRMenuDeco@_MArg1_@.txt"
rcmd "sym setFrom _VrArg_ _MArg1_"
rcmd "menucmd VrMenuTextFocus $_MArg1_"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root /tag VrMenu"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ #as_VRMenuDeco@_Marg1_@.txt"
rcmd "if sym _MArg1_ == Pets sym set MenuTouchCmd MakePetTiles"
rcmd "if sym _MArg1_ == Hats sym set MenuTouchCmd MakeHeadTiles"
rcmd "if sym _MArg1_ == Mechs sym set MenuTouchCmd SetupAirMechClasses"
rcmd "playsound VrButtonTouch"
}
Script UnTouchHangar {
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoRestore.txt"
rcmd "addanim as_VRMenuColStepOff.txt /tgt #MenuCol@_MArg1_@ /silentFail"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusLose.txt"
rcmd "menucmd VrMenuTextUnfocus #MenuLabel@_MArg1_@"
rcmd "sym set _VrArg_"
rcmd "sym set MenuTouchCmd"
cmd "pfx stop VrMenu"
}
Script SetupCustomize {
cmd "menucmd SaveVRLoadout"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.6 sym set MenuTouch 1"
rcmd "sym set VRAirmechCustomizeMode 0"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectFlairCancel"
cmd "sym set VrSelectMode null"
cmd "worldview scaleto 18.0 /lin 0.1"
cmd "sym set WorldViewZoom 2"
cmd "sym set PrevVrMenu Flair"
cmd "menucmd HideVrMenuSet Flair"
cmd "menu3d remove MenusVRCustomize"
cmd "menu3d addChild MenusVR MenusVRCustomize /rootRot 0 0 42 /worldPose 0 -100 150 /rootScale 1.0"
cmd "if sym VrCustomizeType == class menucmd SetupAirMechClasses"
cmd "if sym VrCustomizeType == heads menucmd MakeHeadTiles"
cmd "if sym VrCustomizeType == pets menucmd MakeHeadTiles"
cmd "worldview moveto -2.8 1 0 /slew 0.1"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.4 sym set FlairCustomizeMode 1"
}
Script MakePetTiles {
ignoreInputTime 2.5
cmd "sym set _VrArg_"
cmd "menucmd HideVrMenuSet Pets"
cmd "if sym VrCustomizeType == class menucmd ResetVrMenuSet Mechs"
cmd "if sym VrCustomizeType == heads menucmd ResetVrMenuSet Hats"
rcmd "menucmd ResetAMCL"
rcmd "sym set PreviewingAirMechBoxBack 0"
rcmd "pcmd 0.3 sym set DrawAirMechBox 0"
cmd "pcmd 0.4 sym set ButtonHintText1 Hint_PetSelect"
cmd "sym set MenuTouchCmd"
rcmd "menucmd VrMenuTextUnfocus MenuLabelPets"
rcmd "if sym VrCustomizeType == class menucmd ResetAirMechBox"
cmd "if sym VrCustomizeType == class menu3d addAnimScript BoxAirMech as_VRMenuBoxOut.txt"
cmd "if sym VrCustomizeType == class runnow menucmd AirMechClassesClear"
cmd "if sym VrCustomizeType == heads runnow menu3d remove MenusVRHeads"
cmd "if sym VrCustomizeType == heads menu3d addAnimScript FlairSelect as_VRMenuOut.txt"
cmd "sym set VrCustomizeType pets"
cmd "pcmd 0.5 sym set VrCustomizeMode 1"
cmd "menucmd RemoveFlairTiles"
cmd "pcmd 0.5 menucmd SetupFlairTiles local pets"
}
Script MakeHeadTiles {
ignoreInputTime 2.5
cmd "sym set _VrArg_"
cmd "menucmd HideVrMenuSet Hats"
cmd "if sym VrCustomizeType == class menucmd ResetVrMenuSet Mechs"
cmd "if sym VrCustomizeType == pets menucmd ResetVrMenuSet Pets"
rcmd "menucmd ResetAMCL"
rcmd "sym set PreviewingAirMechBoxBack 0"
rcmd "pcmd 0.3 sym set DrawAirMechBox 0"
cmd "pcmd 0.4 sym set ButtonHintText1 Hint_HatSelect"
rcmd "menucmd VrMenuTextUnfocus MenuLabelHats"
rcmd "if sym VrCustomizeType == class menucmd ResetAirMechBox"
cmd "if sym VrCustomizeType == class menu3d addAnimScript BoxAirMech as_VRMenuBoxOut.txt"
cmd "if sym VrCustomizeType == pets runnow menu3d remove MenusVRPets"
cmd "if sym VrCustomizeType == class runnow menucmd AirMechClassesClear"
cmd "if sym VrCustomizeType == pets runnow menu3d addAnimScript FlairSelect as_VRMenuOut.txt"
cmd "sym set VrCustomizeType heads"
cmd "sym set MenuTouchCmd"
cmd "pcmd 0.5 sym set VrCustomizeMode 1"
cmd "menucmd RemoveFlairTiles"
cmd "pcmd 0.5 menucmd SetupFlairTiles local heads"
}
Script CycleFlairNext {
cmd "sym set VRFlairSelectMode 1"
cmd "menucmd WorldShiftFx"
cmd "if sym FlairIndex < $_FlairMaxCount2 runnow sym modInt FlairIndexClamped 1 0 9"
cmd "if sym FlairIndex < $_FlairMaxCount2 runnow sym inc FlairIndex 1"
cmd "if sym FlairIndex < $_FlairMaxCount2 runnow sym set FlairIndexAtLast 0"
cmd "if sym FlairIndexAtLast == 0 console flushAllPendingSeq VrFlairCycle"
cmd "if sym FlairIndex > $_TileLast && sym FlairIndex < $_FlairMaxCount menucmd CycleFlairTiles local Next"
cmd "if sym FlairIndex > $_TileLast && sym FlairIndex < $_FlairMaxCount runnow sym set FlairsCycling 1"
cmd "if sym FlairIndexAtLast == 0 && sym FlairsCycling == 0 && sym FlairIndex < $_FlairMaxCount pcmd_seq VrFlairCycle 0 menucmd ChangeFlairSelect"
cmd "if sym FlairIndex == $_FlairMaxCount2 runnow sym set FlairIndexAtLast 1"
cmd "playsound VrSwipeForward"
}
Script CycleFlairPrev {
cmd "sym set VRFlairSelectMode 1"
cmd "menucmd WorldShiftFx"
cmd "if sym FlairIndex >= 0 runnow sym modInt FlairIndexClamped -1 0 9"
cmd "if sym FlairIndex >= 0 runnow sym dec FlairIndex 1"
cmd "if sym FlairIndex >= 0 runnow sym set FlairIndexAtLast 0"
cmd "if sym FlairIndex == -1 runnow sym set FlairIndexAtLast 1"
cmd "if sym FlairIndex == -1 runnow sym set FlairIndex 0"
cmd "if sym FlairIndexAtLast == 0 console flushAllPendingSeq VrFlairCycle"
cmd "if sym FlairIndex < $_TileFirst && sym _TileFirst != 0 menucmd CycleFlairTiles local Prev"
cmd "if sym FlairIndex < $_TileFirst && sym _TileFirst != 0  runnow sym set FlairsCycling 1"
cmd "if sym FlairIndexAtLast == 0 && sym FlairsCycling == 0 pcmd_seq VrFlairCycle 0 menucmd ChangeFlairSelect"
cmd "playsound VrSwipeBackward"
}
Script ChangeFlairSelect {
rcmd "sym op VrFlairList copyNth $FlairIndex FlairActive"
rcmd "collection initSettings $FlairActive VRFlair"
rcmd "sym setFrom VrDrawPet FlairActive"
rcmd "pcmd_seq VrFlairCycle t0 menu3d remove FlairActiveModel"
rcmd "pcmd_seq VrFlairCycle t0 if sym VrCustomizeType == pets menu3d addChild MenusVRFlairTiles FlairActiveModel /rootRot 0 0 0 /worldPose 0 275 75 /noVis"
rcmd "pcmd_seq VrFlairCycle t0 if sym VrCustomizeType == heads menu3d addChild MenusVRFlairTiles FlairActiveModel /rootRot 0 0 0 /worldPose 0 275 65 /noVis"
rcmd "pcmd_seq VrFlairCycle t1 player 0 generatePetFromSym FlairActive /bindToMenu3d FlairActiveModel /offset 0 0 0 /initialPos 5 -5 -5 /scalelink $_FlairSize"
rcmd "menucmd RefreshFlairInfo"
rcmd "if sym VRFlairSelectMode == 1 runnow sym intRemap FlairIndexClamped /tgtSymbol FlairSelectRot 225 215 205 195 185 175 165 155 145 135 125 115 105"
cmd "if sym VRFlairSelectMode == 1 menu3d setRootRot FlairSelectBase 0 0 $FlairSelectRot"
cmd "collection isUnlockedSym FlairActive IsVrFlairUnlocked"
cmd "menucmd UpdateFlairSelect"
}
Script UpdateFlairSelect {
rcmd "if sym IsVrFlairUnlocked == 0 && sym IsVrFlairUnlockedLast != 0 menucmd ShowFlairLockFloor"
rcmd "if sym IsVrFlairUnlocked == 1 && sym IsVrFlairUnlockedLast != 1 menucmd HideFlairLockFloor"
}
Script ShowFlairLockFloor {
cmd "menu3d addAnimScript LockGrid as_VRFloorFadeIn.txt 1.0"
cmd "pfx menu3dspawn VrLockedSpace /menu3d FortInside /bone bone_root /menu3dSpace /tag Locked"
cmd "menu3d updateCfg FlairSelect /material mat_BlockSelectGlowRed"
cmd "menu3d setVisible MenuDiskUnlockFlair"
cmd "addanim as_VRMenuColUp.txt /tgt MenuColUnlockFlair /silentFail"
cmd "sym set IsVrFlairUnlockedLast 0"
}
Script HideFlairLockFloor {
cmd "sym set PreviewingUnlockReady 0"
cmd "pfx stop Locked"
cmd "menu3d setInvisible LockGrid"
cmd "menu3d updateCfg FlairSelect /material mat_BlockSelectGlowBlue"
cmd "menu3d animate MenuDiskUnlockFlair vr/UnlockDiskOpen.aaf playOnceRev 0 1.0"
cmd "menu3d setInvisible MenuDiskUnlockFlair MenuDiskUnlockFlairGo"
cmd "addanim as_VRMenuColDown.txt /tgt MenuColUnlockFlair /silentFail"
cmd "sym set IsVrFlairUnlockedLast 1"
}
Script VrFlairUnlocked {
ignoreInputTime 0.5
rcmd "menu3d remove #FlairLock@FlairIndex@"
rcmd "sym set IsVrFlairUnlocked 1"
rcmd "sym set PreviewingUnlockReady 0"
rcmd "pcmd t0 menucmd HideFlairLockFloor"
rcmd "menucmd VrCustomizeMode_APressed"
rcmd "pcmd t1 sym set DrawingFlairTiles 1"
rcmd "pcmd t1 sym set DrawingFlairTileGreyscale 0"
rcmd "pcmd t2 sym setFrom VrDrawPet FlairActive"
rcmd "pcmd t2 gameui refreshFilterName VRFlairTile"
rcmd "pcmd t3 menu3d updateORTSnapshot #FlairTile@FlairIndex@ 0 130 256 256
rcmd "pcmd t4 sym set DrawingFlairTiles 0"
}
Script RefreshFlairInfo {
cmd "menu3d setVisible MenuFlairInfo"
cmd "gameui disableAll VrFlairInfo"
cmd "pcmd_seq VrFlairCycle 0.0 sym setFrom FlairActiveName TR_NameVRFlair"
cmd "pcmd_seq VrFlairCycle 0.0 sym setFrom FlairActiveKudos TR_PriceKP2PVRFlair"
cmd "pcmd_seq VrFlairCycle 0.0 gameui refreshfiltername VRFlairInfo"
cmd "pcmd_seq VrFlairCycle 0.0 addUIAnim VrFlairInfo mas_VRCollectionIn.txt"
cmd "pcmd_seq VrFlairCycle 0.0 gameui enableAll VrFlairContainer"
}
Script RemoveFlairTiles {
ignoreInputTime 0.5
rcmd "sym set _FlairIndex 0"
rcmd "sym set FlairIndexClamped 0"
rcmd "sym set VRFlairSelectMode 0"
cmd "menu3d remove MenuFlairInfo"
cmd "gameui disableAll VrFlairInfo"
cmd "gameui disableAll VrFlairCL"
cmd "if sym IsVrFlairUnlocked == 0 menu3d animate MenuDiskUnlockFlair vr/UnlockDiskOpen.aaf playOnceRev 0 1.0"
cmd "menu3d setInvisible MenuDiskUnlockFlair MenuDiskUnlockFlairGo"
cmd "addanim as_VRMenuColDown.txt /tgt MenuColUnlockFlair /silentFail"
cmd "if sym IsVrFlairUnlocked == 0 addanim as_VRMenuColDown.txt /tgt MenuColUnlock /silentFail"
cmd "menu3d addAnimScript FlairActiveModel as_VRMenuHide.txt"
cmd "menu3d addAnimScript FlairSelectBase as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenusVRFlairTiles as_VRMenuFlairTilesOut.txt"
cmd "pcmd 0.5 menucmd HideFlairLockFloor"
cmd "pcmd 0.5 sym clear FlairActiveName FlairActiveKudos"
cmd "pcmd 0.5 menu3d remove MenusVRFlairTiles"
}
Script SelectFlairFocus {
cmd "sym set _FlairPosX $_FlairFocused"
cmd "if sym _FlairFocused < 16 && sym _FlairFocused > 7 sym dec _FlairPosX 8"
cmd "if sym _FlairFocused < 24 && sym _FlairFocused > 15 sym dec _FlairPosX 16"
cmd "if sym _FlairFocused < 32 && sym _FlairFocused > 23 sym dec _FlairPosX 24"
cmd "if sym _FlairFocused < 8 sym set _FlairPosY 0"
cmd "if sym _FlairFocused < 16 && sym _FlairFocused > 7 sym set _FlairPosY 1"
cmd "if sym _FlairFocused < 24 && sym _FlairFocused > 15 sym set _FlairPosY 2"
cmd "if sym _FlairFocused < 32 && sym _FlairFocused > 23 sym set _FlairPosY 3"
cmd "pcmd 0 menucmd SelectFlairAnimate"
}
Script SelectFlairAnimate {
cmd "sym multi _FlairPosX -12"
cmd "sym multi _FlairPosY -40"
cmd "menu3d addAnimScript FlairSelectBase as_VRMenuFlairFocus.txt"
cmd "menu3d addAnimScript #Flair@_FlairFocused@ as_VRMenuFlairExpand.txt"
}
Script RemoveHeadTiles {
cmd "sym setZero _FlairIndex _FlairRow _FlairCol _BlockRotZ _BlockPosZ"
cmd "sym set _FlairRowMax 4"
cmd "sym set _FlairColMax 7"
cmd "menucmd RemoveVrTile local Flair 8 4 heads MenusVRHeads"
cmd "menu3d setInvisible MenusVRHeads"
cmd "pcmd 1.0 menu3d remove MenusVRHeads"
rcmd "sym set FlairCustomizeMode 0"
cmd "menu3d addAnimScript FlairSelect as_VRMenuOut.txt"
}
Script RemovePetTiles {
cmd "sym setZero _FlairIndex _FlairRow _FlairCol _BlockRotZ _BlockPosZ"
cmd "sym set _FlairRowMax 4"
cmd "sym set _FlairColMax 7"
cmd "menucmd RemoveVrTile local Flair 8 4 heads MenusVRPets"
cmd "menu3d setInvisible MenusVRPets"
cmd "pcmd 1.0 menu3d remove MenusVRPets"
rcmd "sym set FlairCustomizeMode 0"
cmd "menu3d addAnimScript FlairSelect as_VRMenuOut.txt"
}
Script SelectFlairCancel {
cmd "pcmd 0.3 menucmd SelectHangar"
rcmd "menu3d setInvisible MenusVRCustomize"
cmd "if menu3dexists MenusVRPets menucmd RemovePetTiles"
cmd "if menu3dexists MenusVRHeads menucmd RemoveHeadTiles"
cmd "pcmd 1.0 menu3d remove MenusVRCustomize"
cmd "menucmd SaveVRLoadout"
cmd "kill units 0 silent ignoreLatched"
}
Script MakeVrTile {
rcmd "sym setFrom _MenuName _MArg1_"
rcmd "contentlist nthContentIn $_MArg4_ $_FlairIndex _FlairContentName"
rcmd "player 0 generatePetFromSym _FlairContentName /bindToMenu3d #@_MenuName@@_FlairIndex@ /offset 0 5 0 /scalelink $_FlairSize"
rcmd "menu3d addChild $_MArg5_ #@_MenuName@@_FlairIndex@Base /rootRot 0 0 $_BlockRotZ /worldPose 0 0 $_BlockPosZ"
rcmd "menu3d addChild #@_MenuName@@_FlairIndex@Base #@_MenuName@@_FlairIndex@ /model vr/FlairBlock0.amf /material mat_FlairBlock0 /rootScale 3 /rootRot 0 0 180 /worldPose 0 200 0 /noVis"
rcmd "sym inc _FlairCol 1"
rcmd "if sym _FlairCol > $_FlairColMax runnow sym inc _FlairRow 1"
rcmd "if sym _FlairCol > $_FlairColMax sym dec _BlockPosZ 40"
rcmd "if sym _FlairCol > $_FlairColMax sym set _BlockRotZ 0"
rcmd "if sym _FlairCol > $_FlairColMax sym set _FlairCol 0"
rcmd "if sym _FlairCol <= $_FlairColMax sym dec _BlockRotZ 12"
rcmd "sym inc _BlockAnimDelay 2"
cmd "pcmd t${_BlockAnimDelay} menu3d addAnimScript #@_MenuName@@_FlairIndex@ as_VRMenuTileIn.txt"
rcmd "if sym _FlairRow < $_FlairRowMax runnow sym inc _FlairIndex 1"
rcmd "if sym _FlairRow < $_FlairRowMax menucmd MakeVrTile $_MArg1_ $_MArg2_ $_MArg3_ $_MArg4_ $_MArg5_"
}
Script RemoveVrTile {
rcmd "sym setFrom _MenuName _MArg1_"
rcmd "sym setFrom _MenuRotation _MArg4_"
rcmd "sym inc _FlairCol 1"
rcmd "if sym _FlairCol > $_FlairColMax runnow sym inc _FlairRow 1"
rcmd "if sym _FlairCol > $_FlairColMax sym dec _BlockPosZ 40"
rcmd "if sym _FlairCol > $_FlairColMax sym set _BlockRotZ 0"
rcmd "if sym _FlairCol > $_FlairColMax sym set _FlairCol 0"
rcmd "if sym _FlairCol <= $_FlairColMax sym dec _BlockRotZ 12"
rcmd "menu3d addAnimScript #@_MenuName@@_FlairIndex@ as_VRMenuOut.txt"
rcmd "if sym _FlairRow < $_FlairRowMax runnow sym inc _FlairIndex 1"
rcmd "if sym _FlairRow < $_FlairRowMax runnow pcmd t1 menucmd RemoveVrTile $_MArg1_ $_MArg2_ $_MArg3_ $_MArg4_ "
}
Script SetupAirMechClasses {
ignoreInputTime 1.3
rcmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads menucmd RemoveFlairTiles"
rcmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads menucmd HideVrMenuSet Mechs"
rcmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads sym set _VrArg_"
rcmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads menucmd VrMenuTextUnfocus MenuLabelMechs"
rcmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads runnow sym setFrom AirMechActiveLast #RookLocal_@RookLocal_Base@"
rcmd "if sym VrCustomizeType == pets menucmd ResetVrMenuSet Pets"
rcmd "if sym VrCustomizeType == heads menucmd ResetVrMenuSet Hats"
rcmd "sym set ButtonHintText1 Hint_AirMechSelect"
rcmd "menucmd ResetAirMechSelection"
rcmd "pcmd 0.2 menucmd ShowAMCL"
cmd "pcmd 0.4 sym set ButtonHintText2 Hint_AirMechSelect"
rcmd "sym set MenuTouchCmd"
cmd "if sym VrCustomizeType == pets runnow menu3d remove MenusVRPets"
cmd "if sym VrCustomizeType == pets runnow menu3d addAnimScript FlairSelect as_VRMenuOut.txt"
cmd "if sym VrCustomizeType == heads menu3d addAnimScript FlairSelect as_VRMenuOut.txt"
cmd "if sym VrCustomizeType == heads runnow menu3d remove MenusVRHeads"
cmd "pcmd 0.5 sym set VrCustomizeMode 1"
cmd "sym set VrCustomizeType class"
cmd "menu3d addChild MenusVRCustomize MenuClasses /rootRot 0 0 -10 /worldPose 30 220 50 /rootScale 1.1"
cmd "sym setZero _TileIndex _TileRow _TileCol _BlockRotZ _BlockPosZ _TilePosX _TileRotY"
cmd "sym set _TileRowMax 2"
cmd "sym set _TileColMax 4"
cmd "sym set _TileSize 1.0"
cmd "sym set _CasePosZ 0"
cmd "menucmd MakeAMClassCard local Rook 8 4 heads MenuClasses"
cmd "pcmd 0.3 rook genMenu3dAirMechSkin $AirMechActive 0 /explicit /model AirMechRobotModel /material AirMechRobotMat /anim AirMechRobotAnim /contentName AirMechName /ownStateSym CurrentAirMechOwned"
cmd "pcmd 0.3 rook genMenu3dAirMechSkin $AirMechActive 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim"
cmd "pcmd 0.3 menu3d addChild BoxAirMech AirMechAirPreview $AirMechAirModel $AirMechAirMat /rootScale 17  /attachToParentBone bone_mech /noVis"
cmd "if sym PrevVrMenu == Root menu3d addAnimScript BoxAirMech as_VRMenuBoxIn.txt"
cmd "if sym PrevVrMenu == Lobby pcmd 0.7 menu3d addAnimScript BoxAirMech as_VRMenuBoxIn.txt"
cmd "pcmd 0.7 menu3d addAnimScript MenuAirMechLocked as_VRMenuBoxIn.txt"
cmd "pcmd 0.5 if sym VrCustomizeMode == 0 menucmd DrawAirMechTextures"
cmd "pcmd 0.1 menu3d setVisible AirMechRobotPreview AirMechAirPreview"
}
Script CreateAirMechBox {
ignoreInputTime 1.0
rcmd "sym setFrom AirMechActive RookLocal_Base"
rcmd "sym setFrom #RookLocal_@RookLocal_Base@ RookLocal"
rcmd "menucmd SetFocusedAirMech"
cmd "sym set VrCustomizeType class"
cmd "pcmd 0.1 rook genMenu3dAirMechSkin $AirMechActive 0 /explicit /model AirMechRobotModel /material AirMechRobotMat /anim AirMechRobotAnim /contentName AirMechName /ownStateSym CurrentAirMechOwned"
cmd "pcmd 0.1 rook genMenu3dAirMechSkin $AirMechActive 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim"
cmd "pcmd 0.1 menu3d addChild BoxAirMech AirMechAirPreview $AirMechAirModel $AirMechAirMat /rootScale 17  /attachToParentBone bone_mech /noVis /hiddenCheckBySymbol VrReturnToLobby""
cmd "pcmd 0.1 menu3d addChild BoxAirMech MenuDpadHint0Customize /model vr/Dpad2.amf /material mat_Gamepad  /material mat_RenderToTextureVR_UnlitStdBlend  /rootScale 28 /rootRot 90 0 0 /worldPose 0 0 80 /noVis /hiddenCheckBySymbol _VrTransition_ /hiddenCheckBySymbolInv VrCustomizeInLobbyMode"
cmd "pcmd 0.1 menu3d logicFnc MenuDpadHint0Customize trackDPad /bone bone_root /mag 13"
cmd "pcmd 0.1 menu3d addChild BoxAirMech MenuDpadHint1Customize /model vr/Dpad1.amf /material mat_Gamepad  /material mat_RenderToTextureVR_UnlitStdBlend  /rootScale 28 /rootRot 90 0 0 /worldPose 0 0 80 /noVis /hiddenCheckBySymbol _VrTransition_ /hiddenCheckBySymbolInv VrCustomizeInLobbyMode"
cmd "pcmd 0.1 menu3d logicFnc MenuDpadHint1Customize trackDPad /bone bone_root /mag 13"
cmd "pcmd 0.2 rook genMenu3dAirMechSkin $$RookLocal_@AirMechActive@ 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim"
cmd "pcmd 0.2 sym set DrawAirMechBox 1"
cmd "pcmd 0.2 collection initSettings $RookLocal_@AirMechActive@ VRTemp"
cmd "pcmd 0.2 gameui refreshfiltername SelectAirMech"
cmd "pcmd 0.3 menu3d updateORTSnapshot2 BoxAirMech 0 0 1920 960"
cmd "pcmd 0.2 menu3d updateCfg AirMechAirPreview $AirMechAirModel $AirMechAirMat"
cmd "pcmd 0.2 menu3d animate AirMechRobotPreview $AirMechRobotAnim stopandhold 0 0.0"
cmd "pcmd 0.2 menu3d animate AirMechAirPreview $AirMechAirAnim stopandhold 0 0.0"
cmd "pcmd 0.4 sym set DrawAirMechBox 0"
cmd "pcmd 0.1 if sym _RestoringVRLobby_ == 0 && sym LastVrMenu != Lobby menu3d addAnimScript BoxAirMech as_VRMenuBoxOut.txt"
cmd "pcmd 0.1 if sym _RestoringVRLobby_ == 0 && sym VrReturnToLobby == 1 && sym LastVrMenu == Lobby menu3d addAnimScript BoxAirMech as_VRMenuBoxLobby.txt"
cmd "pcmd 0.2 menucmd DrawAirMechTextures"
}
Script SetFocusedAirMech {
rcmd "if sym RookLocal_Base == FighterA runnow sym set _AirMechFocused 0"
rcmd "if sym RookLocal_Base == Chopper runnow sym set _AirMechFocused 1"
rcmd "if sym RookLocal_Base == Stealth runnow sym set _AirMechFocused 2"
rcmd "if sym RookLocal_Base == Warthog runnow sym set _AirMechFocused 3"
rcmd "if sym RookLocal_Base == Osprey runnow sym set _AirMechFocused 4"
rcmd "if sym RookLocal_Base == Saucer runnow sym set _AirMechFocused 5"
rcmd "if sym RookLocal_Base == FighterNeo runnow sym set _AirMechFocused 6"
rcmd "if sym RookLocal_Base == Paladin runnow sym set _AirMechFocused 7"
rcmd "if sym RookLocal_Base == Angel runnow sym set _AirMechFocused 8"
}
Script ResetAirMechSelection {
rcmd "if sym RookLocal_Base != FighterA runnow sym set RookLocal_FighterA FighterA"
rcmd "if sym RookLocal_Base != Chopper runnow sym set RookLocal_Chopper Chopper"
rcmd "if sym RookLocal_Base != Stealth runnow sym set RookLocal_Stealth Stealth"
rcmd "if sym RookLocal_Base != Warthog runnow sym set RookLocal_Warthog Warthog"
rcmd "if sym RookLocal_Base != Osprey runnow sym set RookLocal_Osprey Osprey"
rcmd "if sym RookLocal_Base != Saucer runnow sym set RookLocal_Saucer Saucer"
rcmd "if sym RookLocal_Base != FighterNeo runnow sym set RookLocal_FighterNeo FighterNeo"
rcmd "if sym RookLocal_Base != Paladin runnow sym set RookLocal_Paladin Paladin"
rcmd "if sym RookLocal_Base != Angel runnow sym set RookLocal_Angel Angel"
}
Script MakeAMClassCard {
rcmd "sym set _MenuName MenuFrame"
rcmd "sym op AirMechList copyNth $_TileIndex AirMechActive"
rcmd "menu3d addChild MenuClasses #AirMechCase@_TileIndex@ /rootRot 0 0 0 /worldPose 0 0 $_CasePosZ /model vr/AirMechLabel.amf /material mat_VrPictureAirMech /rootScale 1.8 /noVis"
rcmd "if sym #Has@AirMechActive@ == 0 runnow menu3d addChild #AirMechCase@_TileIndex@ #AirMechLock@_TileIndex@ /model vr/Lock.amf  /material mat_VrLock  /rootScale 0.33  /worldPose 22 1.5 -1  /rootRot 0 150 0 /noVis"
rcmd "if sym #Has@AirMechActive@ == 0 runnow menu3d addChild #AirMechCase@_TileIndex@ #AirMechLock2@_TileIndex@ /model vr/Lock.amf  /material mat_VrLock  /rootScale 0.33  /worldPose 22 -1.5 -1.5  /rootRot 0 30 0 /noVis"
rcmd "gameui refreshfiltername AirMechClass"
rcmd "pcmd t1 menu3d updateORTSnapshot2 #AirMechCase@_TileIndex@ 0 0 500 200"
rcmd "sym inc _TileCol 1"
rcmd "sym inc _TileRotY 3"
rcmd "sym inc _TilePosX 10"
rcmd "sym dec _CasePosZ 21"
rcmd "if sym _TileIndex < 0 menu3d addAnimScript #@_MenuName@@_TileIndex@ as_VRMenuCardLeft.txt"
rcmd "if sym _TileIndex == 0 menu3d addAnimScript #@_MenuName@@_TileIndex@ as_VRMenuCardCenter.txt"
rcmd "if sym _TileIndex > 0 menu3d addAnimScript #@_MenuName@@_TileIndex@ as_VRMenuCardRight.txt"
rcmd "if sym _TileRow < $_TileRowMax runnow sym inc _TileIndex 1"
rcmd "if sym _TileIndex < 9 runnow pcmd t4 menucmd MakeAMClassCard $_MArg1_ $_MArg2_ $_MArg3_ $_MArg4_ $_MArg5_"
rcmd "sym set _TileIndexLast $_TileIndex"
rcmd "sym dec _TileIndexLast 1"
rcmd "sym inc _TileIndexCount 1"
rcmd "if sym _TileIndex == 9 sym set AirMechActive $RookLocal_Base"
rcmd "if sym _TileIndex == 9 sym set _MenuClassesPosZ 0"
rcmd "if sym _TileIndex == 9 sym intRemap _TileIndexCount /tgtSymbol _MenuClassesPosZ -50 -50 -30 -30 -10 -10 10 30 30 50"
rcmd "if sym _TileIndex == 9 menu3d setWorldPose MenuClasses 30 220 $_MenuClassesPosZ"
rcmd "if sym _TileIndex == 9 sym setZero _TileIndex"
rcmd "if sym _TileIndex == 9 menucmd ShowAMClassCards"
}
Script ShowAMClassCards {
rcmd "menu3d addAnimScript #AirMechCase@_TileIndex@ as_VRMenuTileIn.txt"
rcmd "if menu3dexists #AirMechLock@_TileIndex@ menu3d addAnimScript #AirMechLock@_TileIndex@ as_VRMenuIn.txt"
rcmd "if menu3dexists #AirMechLock2@_TileIndex@ menu3d addAnimScript #AirMechLock2@_TileIndex@ as_VRMenuIn.txt"
rcmd "sym inc _TileIndex 1"
rcmd "if sym _TileIndex < 9 runnow pcmd t2 menucmd ShowAMClassCards"
rcmd "if sym _TileIndex == 9 pcmd 0.3 menucmd FocusAirMechTab"
rcmd "if sym _TileIndex == 9 sym setZero _TileIndexCount"
}
Script HideAMClassCards {
rcmd "menu3d addAnimScript #AirMechCase@_TileIndex@ as_VRMenuOut.txt"
rcmd "if menu3dexists #AirMechLock@_TileIndex@ menu3d addAnimScript #AirMechLock@_TileIndex@ as_VRMenuOut.txt"
rcmd "if menu3dexists #AirMechLock2@_TileIndex@ menu3d addAnimScript #AirMechLock2@_TileIndex@ as_VRMenuOut.txt"
rcmd "sym dec _TileIndex 1"
rcmd "if sym _TileIndex > -1 runnow pcmd t2 menucmd HideAMClassCards"
rcmd "if sym _TileIndex == -1 sym setZero _TileIndex"
}
Script SelectAirMechFocus {
cmd "menu3d animate #AirMechCase@_AirMechFocused@ vr/CaseOpen.aaf playonce 0 1"
cmd "menucmd AirMechChangedVr"
cmd "if sym VrSelectMode != null playsound VrSwipeBackward"
}
Script AirMechClassesClear {
cmd "menu3d remove MenuClasses"
cmd "menu3d setInvisible LockGrid LockEdge MenuDiskUnlock AirMechAirPreview"
}
Script SelectAirMechAnimate {
cmd "sym multi _FlairPosX -12"
cmd "sym multi _FlairPosY -40"
cmd "menu3d addAnimScript FlairSelectBase as_VRMenuFlairFocus.txt"
cmd "menu3d addAnimScript #Flair@_FlairFocused@ as_VRMenuFlairExpand.txt"
}
Script TeleportStartEffect {
sym_value_block WorldZoomOk==1
cmd "mdlprop /mdl effects/TeleportStreak.amf /mtl mat_TeleportStreakBlue /anim effects/TeleportStreakSpin1.aaf 1 looping /latchTo amLocal /lifespan 2000 /scale 3.5 /id 1007"
cmd "pcmd_seq VrTeleportFx 0.2 mdlprop /mdl effects/TeleportStreak.amf /mtl mat_TeleportStreakBlue /anim effects/TeleportStreakSpin2.aaf 1 looping /latchTo amLocal /lifespan 2000 /scale 3.5 /id 1007 /tpLineTo _CamGoOk _CamGoPos"
cmd "pcmd_seq VrTeleportFx 0.4 mdlprop /mdl effects/TeleportStreak.amf /mtl mat_TeleportStreakBlue /anim effects/TeleportStreakSpin3.aaf 1 looping /latchTo amLocal /lifespan 2000 /scale 3.5 /id 1007"
}
Script TouchQuestCards {
rcmd "menucmd VrMenuTextFocus Quests"
cmd "menu3d addAnimScript MenuQuestCards as_VRQuestCardsFocus.txt 2"
rcmd "addanim as_VRMenuColStepOn.txt /tgt MenuColQuests /silentFail"
rcmd "sym set VRQuestSelectMode 1"
rcmd "sym set MenuTouchCmd QuestCardSelect"
cmd "pcmd 0.1 sym set MenuTouch 1"
cmd "menucmd TouchRoot Quests"
}
Script UnTouchQuestCards {
ignoreInputTime 0.4
rcmd "menucmd VrMenuTextUnfocus MenuLabelQuests"
rcmd "sym setZero VRQuestSelectMode MenuTouch"
cmd "menucmd UnTouchRoot Quests"
cmd "pcmd 0.3 if sym VRQuestSelected == 1 menucmd QuestCardUnSelect"
rcmd "addanim as_VRMenuColStepOff.txt /tgt MenuColQuests /silentFail"
cmd "sym set MenuTouchCmd"
cmd "menu3d addAnimScript MenuQuestCards as_VRQuestCardsUnFocus.txt 2"
}
Script QuestCardSelect {
ignoreInputTime 1.0
rcmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
rcmd "sym op VRQuestList copyFirst VrQuestActive"
rcmd "sym set VRQuestSelected 1"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouchCmd"
rcmd "pcmd 0.5 sym set MenuTouchCmd QuestStartMission"
cmd "pcmd 0.25 sym set MenuTouchCancelCmd QuestCardCancel"
cmd "menu3d addAnimScript $$VrQuestCardActive as_VRQuestCardSelect.txt 1.5"
cmd "menu3d animate $$VrQuestCardActive vr/QuestCardSelect.aaf playonce 0 1.0"
cmd "menu3d addChild $$VrQuestCardActive QuestCardButtonPrompt /model vr/ButtonA.amf /material mat_MenuButtonsGamepad  /attachToParentBone bone_twist /rootScale 0.45 /rootRot 0 0 0 /noVis /worldPose 8.5 -4.0 0.5"
cmd "pcmd 0.8 menu3d addAnimScript QuestCardButtonPrompt as_VRMenuIn.txt 0.8"
rcmd "playsound VrCardFlipOut"
rcmd "playerinputpause 1 local"
cmd "menu3d addAnimScript MenuDecoPlay as_VRMenuHide.txt"
cmd "menu3d logicFnc $$VrQuestCardActive trackStickL /bone bone_twist /mag 10"
cmd "menucmd HideVrMenuSet Play"
cmd "menucmd HideVrMenuSet Hangar"
cmd "menucmd HideVrMenuSet Options"
cmd "menucmd HideVrMenuSet Army"
}
Script QuestCardCancel {
ignoreInputTime 1.0
rcmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
rcmd "sym op VRQuestList copyFirst VrQuestActive"
rcmd "sym set VRQuestSelected 0"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouchCmd"
cmd "pcmd 0.1 playerinputpause 0 local"
cmd "pcmd 1.0 if sym MenuTouchCmd isEmpty sym set MenuTouchCmd QuestCardSelect"
cmd "menu3d addAnimScript $$VrQuestCardActive as_VRMenuDecoRestore.txt 1.0"
cmd "menu3d animate $$VrQuestCardActive vr/QuestCardReturn.aaf playOnce 0 1.5"
cmd "menu3d addAnimScript QuestCardButtonPrompt as_VRMenuOut.txt"
cmd "pcmd 0.6 menu3d remove QuestCardButtonPrompt"
rcmd "playsound VrCardFlipIn"
cmd "menu3d clearLogicFncs $$VrQuestCardActive"
cmd "menu3d releaseBoneDirectControl $$VrQuestCardActive bone_twist"
cmd "menucmd ShowVrMenuSet Play"
cmd "menucmd ShowVrMenuSet Hangar"
cmd "menucmd ShowVrMenuSet Options"
cmd "menucmd ShowVrMenuSet Army"
cmd "kill units 0 silent ignoreLatched"
}
Script QuestCardUnSelect {
ignoreInputTime 1.0
rcmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
rcmd "sym op VRQuestList copyFirst VrQuestActive"
rcmd "sym set VRQuestSelected 0"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouchCmd QuestCardSelect"
cmd "menu3d addAnimScript $$VrQuestCardActive as_VRMenuDecoRestore.txt 1.0"
cmd "menu3d clearLogicFncs $$VrQuestCardActive"
cmd "menu3d releaseBoneDirectControl $$VrQuestCardActive bone_twist"
cmd "menu3d animate $$VrQuestCardActive vr/QuestCardReturn.aaf playOnce 0 1.5"
cmd "menu3d addAnimScript QuestCardButtonPrompt as_VRMenuOut.txt"
cmd "pcmd 0.6 menu3d remove QuestCardButtonPrompt"
rcmd "playsound VrCardFlipIn"
cmd "pcmd 0.1 playerinputpause 0 local"
cmd "menucmd ShowVrMenuSet Play"
cmd "menucmd ShowVrMenuSet Hangar"
cmd "menucmd ShowVrMenuSet Options"
cmd "menucmd ShowVrMenuSet Army"
}
Script QuestStartMission {
ignoreInputTime 0.3
sym_value_block SG_InGroup==0
rcmd "playerinputpause 1 local"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouchCmd"
cmd "sym set LoadNormalMapInVR 1"
cmd "sym set WorldZoomOk 1"
cmd "sym set VRQuestSelected 0"
cmd "menucmd UnTouchQuestCards"
cmd "menucmd HideVrMenuSet Play"
cmd "menucmd HideVrMenuSet Hangar"
cmd "menucmd HideVrMenuSet Quests"
cmd "menucmd HideVrMenuSet Army"
cmd "menucmd HideVrQuests"
cmd "pcmd 0.2 menucmd TransToMatch quest"
}
Script CycleQuestNext {
ignoreInputTime 0.55
rcmd "sym set MenuTouchCmd"
rcmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
rcmd "sym op VrQuestCardList copyFirst VrQuestCardSent"
rcmd "sym op VRQuestList copyFirst VrQuestActive"
cmd "menu3d animate $$VrQuestCardActive vr/QuestCardNext.aaf playonce 0 1.5"
cmd "pcmd 0.15 menu3d addAnimScript $$VrQuestCardActive #as_VRQuestCardFirstToLast@VRQuestsN@.txt 1.0"
cmd "playsound VrSwipeForward"
cmd "pcmd 0.1 menucmd QuestCardStackForward"
cmd "if sym VRQuestsN == 2 pcmd 0.15 menucmd QuestCardStackFinish"
cmd "if sym VRQuestsN > 2 pcmd 0.15 menucmd QuestCardStackForward"
cmd "if sym VRQuestsN == 3 pcmd 0.2 menucmd QuestCardStackFinish"
cmd "if sym VRQuestsN > 3 pcmd 0.2 menucmd QuestCardStackForward"
cmd "if sym VRQuestsN == 4 pcmd 0.25 menucmd QuestCardStackFinish"
rcmd "pcmd 0.55 sym set MenuTouchCmd QuestCardSelect"
}
Script QuestCardStackFinish {
cmd "sym op VrQuestCardList firstToBack"
cmd "sym op VrQuestCardList firstToBack"
cmd "sym op VRQuestList firstToBack"
cmd "sym op VRQuestList firstToBack"
cmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
cmd "sym op VRQuestList copyFirst VrQuestActive"
}
Script QuestCardStackFinish2 {
cmd "sym op VrQuestCardList lastToFront"
cmd "sym op VRQuestList lastToFront"
cmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
cmd "sym op VRQuestList copyFirst VrQuestActive"
}
Script QuestCardStackForward {
cmd "sym op VrQuestCardList firstToBack"
cmd "sym op VRQuestList firstToBack"
cmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
cmd "sym op VRQuestList copyFirst VrQuestActive"
cmd "menu3d addAnimScript $$VrQuestCardActive as_VRQuestCardForward.txt 1.5"
}
Script QuestCardStackBack {
cmd "sym op VrQuestCardList lastToFront"
cmd "sym op VRQuestList lastToFront"
cmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
cmd "sym op VRQuestList copyFirst VrQuestActive"
cmd "menu3d addAnimScript $$VrQuestCardActive as_VRQuestCardBack.txt 1.5"
}
Script CycleQuestPrev {
ignoreInputTime 0.55
rcmd "sym set MenuTouchCmd"
rcmd "sym op VrQuestCardList lastToFront"
rcmd "sym op VRQuestList lastToFront"
rcmd "sym op VrQuestCardList copyFirst VrQuestCardSent"
rcmd "sym op VrQuestCardList copyFirst VrQuestCardActive"
rcmd "sym op VRQuestList copyFirst VrQuestActive"
cmd "menu3d animate $$VrQuestCardActive vr/QuestCardLast.aaf playonce 0 1.5"
cmd "pcmd 0.15 menu3d addAnimScript $$VrQuestCardActive #as_VRQuestCardLastToFirst@VRQuestsN@.txt 1.0"
rcmd "playsound VrSwipeBackward"
cmd "pcmd 0.1 menucmd QuestCardStackBack"
cmd "if sym VRQuestsN == 2 pcmd 0.15 menucmd QuestCardStackFinish2"
cmd "if sym VRQuestsN > 2 pcmd 0.15 menucmd QuestCardStackBack"
cmd "if sym VRQuestsN == 3 pcmd 0.2 menucmd QuestCardStackFinish2"
cmd "if sym VRQuestsN > 3 pcmd 0.2 menucmd QuestCardStackBack"
cmd "if sym VRQuestsN == 4 pcmd 0.25 menucmd QuestCardStackFinish2"
rcmd "pcmd 0.55 sym set MenuTouchCmd QuestCardSelect"
}
Script SGSymbolsUpdated_VR {
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 0 sym setPair VrLobbyStatusTitle VrMenu_ReadyPrompt VrLobbyStatusDesc VrMenu_ReadyPromptDesc"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 && sym SG_IsOwner != 1 sym setPair VrLobbyStatusTitle VrMenu_ReadyWait VrLobbyStatusDesc VrMenu_ReadyWaitDesc"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 && sym SG_IsOwner == 1 sym setPair VrLobbyStatusTitle VrMenu_Launch VrLobbyStatusDesc VrMenu_LaunchDesc"
cmd "if sym SG_Members == 0 menu3d updateCfg MenuDiskLaunch /material mat_MenuDisk"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
cmd "if sym SG_Members != 0 && sym SG_AmIReady != 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskNotReady"
cmd "gameui refreshFilterName AvatarChests"
}
Script SGPlayerJoined_VR {
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
cmd "if sym SG_Members != 0 && sym SG_AmIReady != 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskNotReady"
cmd "gameui refreshFilterName AvatarChests"
}
Script SGJoinedGroup_VR {
}
Script SGPlayerLeft_VR {
cmd "gameui refreshFilterName AvatarChests"
}
Script SelectMap {
ignoreInputTime 1.0
rcmd "sym set _VrArg_"
rcmd "sym setFrom LastMapIndex MapIndex"
cmd "menucmd SetupMapTiles"
cmd "sym set VRMapSelectMode 1"
cmd "sym set VRMapMenuMode 1"
cmd "sym set LastVrMenu Map"
cmd "gameui refreshFilterName VRMapSelect"
cmd "worldview moveto -4.2 -3 0 /slew 0.1"
cmd "menu3d setInvisible MenusVRLobby"
cmd "menucmd VrMenuTextUnfocus #MenuLabel@_VrArg_@"
cmd "pcmd 0.3 menu3d setVisible MenusVRMaps"
rcmd "addanim as_VRMenuColDown.txt /tgt MenuColMap /silentFail"
rcmd "addanim as_VRMenuColDown.txt /tgt MenuColCustomize /silentFail"
rcmd "addanim as_VRMenuColDown.txt /tgt MenuColSandbox /silentFail"
rcmd "addanim as_VRMenuColDown.txt /tgt MenuColLobbyFriends /silentFail"
cmd "pcmd 0 menu3d addAnimScript MenuDiskMap as_VRMenuHide.txt"
cmd "pcmd 0.1 menu3d addAnimScript MenuRingMap as_VRMenuHide.txt"
cmd "menucmd HideVrMenuSet Customize"
cmd "if sym FriendInvite == 0  menucmd HideVrMenuSet Sandbox"
cmd "if sym FriendInvite == 1  menucmd HideVrMenuSet LobbyFriends"
cmd "menucmd HideVrMenuSet Launch"
cmd "menu3d addAnimScript MenuInfoLaunch as_VRMenuHide.txt"
rcmd "sym set MenuTouch 0"
cmd "menu3d addAnimScript MenuDecoMap as_VRMenuDecoMapFeature.txt"
cmd "menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyOut.txt"
cmd "pcmd 0.5 sym set MenuTouch 1"
rcmd "sym set MenuTouchCmd SelectCurrentMap"
rcmd "sym set MenuTouchCancelCmd"
rcmd "playsound VrButtonSelect"
}
Script SelectMapCancel {
ignoreInputTime 0.5
rcmd "playerinputpause 1 local"
rcmd "sym setFrom MapIndex LastMapIndex"
rcmd "sym set VRMapSelectMode 0"
rcmd "sym set VRMapMenuMode 0"
rcmd "menucmd ChangeMapSelect"
cmd "menucmd MapChangedVr"
cmd "kill units 0 silent ignoreLatched"
cmd "pcmd 0.5 menu3d setVisible MenusVRLobby"
rcmd "sym set _VrMapTransition_ 1"
cmd "if sym PrevVrMenu == Lobby pcmd 0.1 player 0 setPosition 3.2 -1.88 0.55"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
rcmd "pcmd 0 menu3d setVisible MenuDiskMap"
cmd "pcmd 0.1 menucmd ReturnToVrMenuSetNoDeco Map"
cmd "pcmd 0.1 menu3d addAnimScript MenuDecoMap as_VRMenuDecoMapUnfeature.txt"
cmd "if sym FriendInvite == 0  pcmd 0.1 menucmd ResetVrMenuSet Sandbox"
cmd "if sym FriendInvite == 1  pcmd 0.1 menucmd ResetVrMenuSet LobbyFriends"
cmd "pcmd 0.1 menucmd ResetVrMenuSet Customize"
cmd "pcmd 0.1 menucmd ResetVrMenuSet Launch"
rcmd "pcmd 0 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobby.txt"
cmd "pcmd 0.1 menu3d addAnimScript MenuInfoLaunch as_VRMenuAppear.txt"
rcmd "pcmd 0 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobby.txt"
cmd "pcmd 0.1 menu3d addAnimScript MenuInfoLaunch as_VRMenuAppear.txt"
cmd "sym set FromVrMenu Map"
cmd "worldview moveto -3.2 -2 0 /slew 0.1"
cmd "menu3d setInvisible MenusVRMaps"
cmd "menu3d addAnimScript MenusVRMaps as_VRMenuTilesOut.txt"
rcmd "sym set MenuTouch 0"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
cmd "if sym Gamemode == Solo pcmd 0.2 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
cmd "pcmd 0.5 menu3d setVisible MenusVRLobby"
cmd "pcmd 0.5 sym set MenuTouch 1"
rcmd "pcmd 0.5 sym set MenuTouchCancelCmd SetupLobbyCancel"
cmd "pcmd 0.5 menu3d remove MenusVRMaps"
rcmd "pcmd 0.5 playerinputpause 0 local"
rcmd "pcmd 0.8 sym set _VrMapTransition_ 0"
rcmd "playsound VrButtonSelect"
}
Script SetupLobby {
ignoreInputTime 1.0
rcmd "playerinputpause 1 local"
rcmd "sym set VRMapSelectButton 0"
rcmd "sym set InVrLobby 1"
rcmd "menucmd SetVrFortState closed"
cmd "sym set _VrTransition_ 1"
rcmd "sym set FriendInvite 0"
rcmd "if sym Gamemode != Solo && sym DevMode == 1 runnow sym set FriendInvite 1"
rcmd "if sym Gamemode != Solo && sym FriendInvitePublic == 1 runnow sym set FriendInvite 1"
cmd "exec vr_menuLobby.txt"
cmd "menucmd RotateAvatars Default"
cmd "sym set FromVrMenu Root"
cmd "sym set LastVrMenu Lobby"
cmd "sym set VRMapSelectMode 0"
cmd "worldview moveto 0 0 0 /slew 0.1"
cmd "menu3d setInvisible MenusVRPlay MenuDiskCoop MenuDiskSolo MenuDiskPvP MenuDiskSpectate"
cmd "pcmd 0.7 menu3d remove MenusVRPlay"
cmd "if sym _RestoringVRLobby_ == 0 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobby.txt"
cmd "if sym _RestoringVRLobby_ == 0 menu3d setVisible AirMechAirPreview"
cmd "if sym _RestoringVRLobby_ == 1 pcmd 0.3 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobby.txt"
cmd "if sym _RestoringVRLobby_ == 1 pcmd 0.3 menu3d setVisible AirMechAirPreview"
cmd "menucmd VrMenuTextUnfocus #MenuLabel@_VrArg_@"
rcmd "if sym _RestoringVRLobby_ == 1 runnow sym setFrom Gamemode _VrArg_Last_"
rcmd "if sym _RestoringVRLobby_ == 1 runnow sym setFrom _VrArg_ _VrArg_Last_"
rcmd "if sym _RestoringVRLobby_ == 0 runnow sym setFrom _VrArg_Last_ _VrArg_"
cmd "menucmd SelectPlayCleanup"
cmd "if sym _VrArg_ != Solo && sym _RestoringVRLobby_ == 0 && sym _VrArg_ == Coop sg lfg /size 3 /mode $_VrArg_"
cmd "if sym _VrArg_ != Solo && sym _RestoringVRLobby_ == 0 && sym _VrArg_ == PlayFriends sg lfg /size 3 /mode $_VrArg_ /friendsonly 1"
cmd "if sym _VrArg_ != Solo && sym _RestoringVRLobby_ == 0 && sym _VrArg_ != Coop && sym _VrArg_ != PlayFriends sg lfg /size 4 /mode $_VrArg_"
cmd "if sym _VrArg_ != Solo && sym _RestoringVRLobby_ == 1 sg nextgame"
cmd "if sym _VrArg_ == Solo pcmd 0.2 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
cmd "menucmd LobbyGetReady"
cmd "menu3d addAnimScript LobbyAvatar0 as_VRAvatarIn.txt"
cmd "menu3d addAnimScript LobbyAvatar1 as_VRAvatarIn.txt"
cmd "menu3d addAnimScript LobbyAvatar2 as_VRAvatarIn.txt"
cmd "menu3d addAnimScript LobbyAvatar3 as_VRAvatarIn.txt"
cmd "menu3d addAnimScript LobbyAvatar4 as_VRAvatarIn.txt"
cmd "menu3d addAnimScript LobbyAvatar5 as_VRAvatarIn.txt"
cmd "sym setZero _TileIndex MapIndex"
cmd "if sym Gamemode != PvP runnow sym op VrMapList getcount _TileMax"
cmd "if sym Gamemode == PvP runnow sym op VrMapListNoSurvival getcount _TileMax"
cmd "sym setFrom _TileMax2 _TileMax"
cmd "sym dec _TileMax2 1"
cmd "sym set VrSelectMode Maps"
cmd "pcmd 0 menucmd ChangeMapSelect"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.7 sym set MenuTouch 1"
cmd "pcmd 0.7 sym set _VrTransition_ 0"
rcmd "pcmd 0.5 sym set MenuTouchCancelCmd SetupLobbyCancel_Pre"
rcmd "playsound VrButtonSelect"
rcmd "sym set VRMapSelectMode 1"
rcmd "sym set ButtonHintText1 Hint_MapSelect"
rcmd "if sym Gamemode == Solo sym set MenuTouchCmd VRGame"
rcmd "if sym Gamemode != Solo sym set MenuTouchCmd PressLobbyButtonSG"
rcmd "sym set MenuTouchCancelCmd SetupLobbyCancel_Pre"
cmd "pcmd 0.5 menucmd SetupMapTiles"
cmd "pcmd 1.0 playerinputpause 0 local"
}
Script RemoveLobbyMaps {
cmd "menu3d addAnimScript MenuDpadHintMap as_VRMenuOut.txt"
cmd "pcmd 0.05 menu3d addAnimScript NewMapScreen as_VRMapScreenOut.txt"
cmd "pcmd 0.05 menu3d addAnimScript NewMapScreenName as_VRMapScreenOff.txt
cmd "pcmd 0.05 menu3d addAnimScript MapScreen1 as_VRMapScreenOut.txt"
cmd "pcmd 0.1 menu3d addAnimScript MapScreen2 as_VRMapScreenOut.txt"
cmd "pcmd 0.05 menu3d addAnimScript MapScreen3 as_VRMapScreenOut.txt 0.9"
cmd "pcmd 0.1 menu3d addAnimScript MapScreen4 as_VRMapScreenOut.txt 0.8"
cmd "menu3d addAnimScript MenusVRMaps as_VRMenuTilesOut.txt"
cmd "pcmd 0.5 menu3d remove MenusVRMaps"
cmd "pcmd 0.5 menu3d remove NewMapScreen"
cmd "pcmd 0.1 menu3d remove MenuDpadHintMap"
}
Script SetupLobbyCancel {
ignoreInputTime 1.5
rcmd "menucmd SetVrFortState open"
rcmd "sym set _VrArg_"
rcmd "sym setZero InVrLobby VrCustomizeInLobbyMode MapIndex VRMapSelectButton"
cmd "menucmd RemoveLobbyMaps"
cmd "exec vr_menuPlay.txt"
cmd "sym set FromVrMenu Play"
cmd "sym set VrSelectMode"
cmd "sym set VRMapSelectMode 0"
cmd "worldview moveto 0 0 0 /slew 0.1"
cmd "menu3d setInvisible MenusVRLobby MenusVRLobbyL"
cmd "menucmd VrMenuTextUnfocus MenuLabelPlay"
cmd "pcmd 0.3 menu3d setVisible MenusVRPlay"
cmd "kill units 0 silent ignoreLatched"
cmd "menucmd HideVrMenuSet Customize"
cmd "menucmd HideVrMenuSet Launch"
cmd "menucmd HideVrMenuSet Map"
cmd "if sym FriendInvite == 0 menucmd HideVrMenuSet Sandbox"
cmd "if sym FriendInvite == 1 menucmd HideVrMenuSet LobbyFriends"
cmd "menucmd UnTouchFriendList"
cmd "pcmd 0.1 menu3d addAnimScript MenuLaunchModeIcon as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuInfoLaunch as_VRMenuHide.txt"
cmd "menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyOut.txt"
cmd "state .MenuColCustomize terminate"
cmd "state .MenuColMap terminate"
cmd "state .MenuColLaunch terminate"
cmd "state .MenuColSandbox terminate"
cmd "sym set Gamemode"
rcmd "sym set MenuTouch 0"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
cmd "sg quit /msg SetupLobbyCancel"
cmd "sym setZero _RestoringVRLobby_"
cmd "pcmd 0.7 sym set MenuTouch 1"
rcmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectPlayCancel"
cmd "pcmd 0.7 menu3d remove NewMapScreen"
cmd "pcmd 0.7 menu3d remove MenusVRLobby"
cmd "pcmd 0.7 menu3d remove MenuDecoMap"
cmd "pcmd 0.7 menu3d remove MenusVRLobbyL"
rcmd "playsound VrButtonSelect"
}
Script DrawAirMechSingleTexture {
rcmd "player 0 gndStateToSym AirMechDisplayRobot"
cmd "echo this probably shouldn't be called"
cmd "gameui refreshfiltername SelectAirMech"
}
Script SetupVrQuests {
rcmd "sym op VRQuestList copyNth $VRQuestCur VRQuestSel"
rcmd "quests writeSingleQuest $VRQuestSel VRQuest"
rcmd "menucmd DrawVrQuest local $VRQuestCurLevel"
rcmd "sym inc VRQuestCurLevel 1"
rcmd "sym inc VRQuestCur 1"
rcmd "if sym VRQuestCur < $VRQuestsN pcmd t1 menucmd SetupVrQuests"
cmd "if sym VRQuestCur == $VRQuestsN sym setZero VRQuestCurLevel VRQuestCur ShowQuestCard QVRRewardKudos"
}
Script DrawVrQuest {
rcmd "sym set VrQuestLevel $_MArg1_"
rcmd "sym set QVRTitle $VRQuestName0"
rcmd "sym set QVRText $VRQuestDesc0"
rcmd "sym set QVRRewardItem $VRQuestRewardItem0"
rcmd "sym set QVRRewardDisp $VRQuestRewardItemDisp0"
rcmd "sym set QVRRewardKudos $VRQuestRewardK0"
rcmd "sym set QVRImage $VRQuestMissionImg0"
rcmd "sym set QVRDifficulty $VRQuestDifficulty0"
rcmd "customize contentLookup QVRRewardItem QVRRewardItemLink QVRRewardItemType QVRRewardItemDisp"
rcmd "gameui refreshfiltername VrQuest"
rcmd "pcmd t1 menu3d updateORTSnapshot2 #MenuQuestCard@_MArg1_@ 0 105 512 1024"
}
Script GotMissionQuestRewardItem {
cmd "menucmd DoEndGameSequenceMessage questReward item $_MArg1_"
}
Script GotMissionQuestRewardKudos {
cmd "menucmd DoEndGameSequenceMessage questReward kudos $_MArg1_"
}
Script GotEndGameKudos {
#if vr
cmd "pcmd 0.1 menucmd DoEndGameSequenceMessage questReward kudos $_MArg1_"
#endif
}
Script ShowQuestCrate {
rcmd "menu3d addChild QuestRewardItem0 QuestRewardCrate /model vr/Crate.amf /material mat_VRCrate /attachToParentBone bone_twist /rootScale 0.8 /rootRot -55 15 0 /noVis /worldPose -0.25 -3.5 3.0"
rcmd "pcmd 0.4 menu3d addAnimScript QuestRewardCrate as_VRMenuIn.txt 0.8"
rcmd "pcmd 0.6 menu3d animate QuestRewardCrate vr/CrateShake.aaf loop 0 1.0"
rcmd "pcmd 1.1 menu3d animate QuestRewardCrate vr/CrateOpen.aaf playonce 0 1.0"
rcmd "pcmd 1.4 pfx menu3dspawn HammerSparks /menu3d QuestRewardCrate /bone bone_root"
rcmd "if sym QVRRewardItemType == misc menu3d addChild QuestRewardItem0 QuestRewardCrateItem /model flair/HeadRamSkulls/HeadRamSkull1.amf /material mat_HeadRamSkull1 /attachToParentBone bone_twist /rootScale 8.0 /rootRot 80 15 180 /noVis /worldPose 0 -3.5 3.0"
rcmd "if sym QVRRewardItemType == misc pcmd 1.6 menu3d addAnimScript QuestRewardCrateItem as_VRMenuIn.txt 0.8"
rcmd "pcmd 1.2 menu3d addAnimScript QuestRewardCrate as_VRCrateOut.txt 1.5"
rcmd "if sym QVRRewardItemType == misc pcmd 1.6 sym set QVRRewardItem HeadRamSkull1
rcmd "if sym QVRRewardItemType == misc pcmd 1.7 menucmd DrawVrQuestRewardItem
}
Script ShowKudosCoin {
ignoreInputTime 0.2
rcmd "playsound AlertCaptureBank.wav"
rcmd "menu3d addChild QuestRewardItem0 QuestRewardKudosCoin /model vr/KudosCoin.amf /material mat_VRKudosCoin /attachToParentBone bone_twist /rootScale 0.7 /rootRot -90 0 0 /noVis /worldPose 0 -3.0 3.0"
rcmd "pcmd 0.1 menu3d addAnimScript QuestRewardKudosCoin as_VRMenuIn.txt 0.8
rcmd "pcmd 0.3 menu3d addZSpin QuestRewardKudosCoin bone_spin 20"
}
Script UpdateRewardAirMech {
ignoreInputTime 0.2
rcmd "rook genMenu3dAirMechSkin $QVRRewardItem 0 /explicit /mode air /model RewardAirMechAirModel /material RewardAirMechAirMat
rcmd "menu3d addChild QuestRewardItem0 BoxRewardAirMech /model vr/BoxAirMech.amf /material mat_FlairBlock0 /attachToParentBone bone_twist /rootRot -90 10 0 /rootScale 0.14 /worldPose -0.25 -2.5 2.0 /noVis"
rcmd "menu3d addChild BoxRewardAirMech RewardAirMechAirPreview $RewardAirMechAirModel $RewardAirMechAirMat /rootScale 17 /attachToParentBone bone_mech /noVis"
rcmd "menucmd UpdateRewardAirMechPreview"
rcmd "pcmd 0.2 menu3d addAnimScript BoxRewardAirMech as_VRMenuIn.txt"
rcmd "pcmd 0.3 menu3d setVisible RewardAirMechAirPreview"
rcmd "pcmd 0.2 playsound AlertCaptureBank.wav"
}
Script UpdateRewardAirMechPreview {
ignoreInputTime 0.3
cmd "collection initSettings $QVRRewardItem VRTemp"
cmd "sym set DrawAirMechRewardBox 1"
cmd "gameui refreshfiltername SelectAirMech"
cmd "pcmd 0.2 menu3d updateORTSnapshot2 BoxRewardAirMech 0 0 1920 960"
cmd "menu3d updateCfg RewardAirMechAirPreview $RewardAirMechAirModel $RewardAirMechAirMat"
cmd "pcmd 0.21 sym set DrawAirMechRewardBox 0"
}
Script DrawVrQuestRewardItem {
rcmd "sym set ShowQuestRewardItemCard 1"
rcmd "sym set QVRTitle QVRRewardItemTitle"
rcmd "if sym QVRRewardItemType != kudos sym set QVRText QVRRewardItemText"
rcmd "if sym QVRRewardItemType == kudos sym set QVRText QVRRewardKudosText"
rcmd "ECHO QVRRewardItemType: $QVRRewardItemType"
rcmd "if sym QVRRewardItemType != kudos customize contentLookup QVRRewardItem QVRRewardItemLink QVRRewardItemType QVRRewardItemDisp"
rcmd "gameui refreshfiltername VrQuest"
rcmd "pcmd t1 menu3d updateORTSnapshot2 QuestRewardItem0 0 105 512 1024"
rcmd "pcmd t2 sym set ShowQuestRewardItemCard 0"
}
Script QuestRewardItemClose {
ignoreInputTime 1.0
rcmd "sym set VrShowingRewardDialog 0"
rcmd "sym set MenuDialogCmd"
rcmd "sym set MenuDialogCancelCmd"
rcmd "playsound VrCardFlipIn"
cmd "pcmd 0.2 player 0 enableFn move aim fire fireGuns transform"
cmd "menu3d addAnimScript QuestRewardItem0 as_VRQuestRewardItemHide.txt"
cmd "menu3d clearLogicFncs QuestRewardItem0"
cmd "menu3d addAnimScript QuestCardButtonPrompt as_VRMenuOut.txt"
cmd "pcmd 0.2 menu3d remove QuestCardButtonPrompt"
cmd "pcmd 0.5 sym set _EndGameSeqMsg_ 0"
}
Script DrawAirMechTextures {
rcmd "player 0 gndStateToSym AirMechDisplayRobot"
rcmd "sym set VrSelectModeAirMech 1"
cmd "sym set VrDrawAirMech FighterA"
cmd "gameui refreshfiltername SelectAirMech"
cmd "pcmd t0 menu3d updateORTSnapshot MenuFrame0 512 0 512 1024"
cmd "pcmd t0 sym set VrDrawAirMech Chopper"
cmd "pcmd t0 gameui refreshfiltername SelectAirMech"
cmd "pcmd t1 menu3d updateORTSnapshot MenuFrame1 512 0 512 1024"
cmd "pcmd t1 sym set VrDrawAirMech Warthog"
cmd "pcmd t1 gameui refreshfiltername SelectAirMech"
cmd "pcmd t2 menu3d updateORTSnapshot MenuFrame2 512 0 512 1024"
cmd "pcmd t2 sym set VrDrawAirMech Stealth"
cmd "pcmd t2 gameui refreshfiltername SelectAirMech"
cmd "pcmd t3 menu3d updateORTSnapshot MenuFrame3 512 0 512 1024"
cmd "pcmd t3 sym set VrDrawAirMech Saucer"
cmd "pcmd t3 gameui refreshfiltername SelectAirMech"
cmd "pcmd t4 menu3d updateORTSnapshot MenuFrame4 512 0 512 1024"
cmd "pcmd t4 sym set VrDrawAirMech Paladin"
cmd "pcmd t4 gameui refreshfiltername SelectAirMech"
cmd "pcmd t5 menu3d updateORTSnapshot MenuFrame5 512 0 512 1024"
cmd "pcmd t5 sym set VrDrawAirMech FighterNeo"
cmd "pcmd t5 gameui refreshfiltername SelectAirMech"
cmd "pcmd t6 menu3d updateORTSnapshot MenuFrame6 512 0 512 1024"
cmd "pcmd t6 sym set VrDrawAirMech Osprey"
cmd "pcmd t6 gameui refreshfiltername SelectAirMech"
cmd "pcmd t7 menu3d updateORTSnapshot MenuFrame7 512 0 512 1024"
cmd "pcmd t7 sym set VrDrawAirMech Angel"
cmd "pcmd t7 gameui refreshfiltername SelectAirMech"
cmd "pcmd t8 menu3d updateORTSnapshot MenuFrame8 512 0 512 1024"
cmd "pcmd t9 sym set VrSelectModeAirMech 0"
}
Script CheckDrawAirMechTextures {
cmd "player 0 gndStateToSym _CheckMode_"
cmd "if sym _CheckMode_ !=sym AirMechDisplayRobot && sym VrDrawAirMech != Quick menucmd DrawAirMechTextures"
cmd "if sym _CheckMode_ !=sym AirMechDisplayRobot && sym VrDrawAirMech == Quick menucmd DrawAirMechSingleTexture"
}
Script VrFrameAirMechFocusLeft {
cmd "if sym RookLocal_Base == Angel menu3d animate MenuFramePaladin vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Angel menu3d animate MenuFrameChopper vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterA menu3d animate MenuFrameFighterNeo vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterA menu3d animate MenuFrameWarthog vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Chopper menu3d animate MenuFrameOsprey vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Chopper menu3d animate MenuFrameStealth vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Warthog menu3d animate MenuFrameAngel vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Warthog menu3d animate MenuFrameSaucer vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Stealth menu3d animate MenuFrameFighterA vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Stealth menu3d animate MenuFramePaladin vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Saucer menu3d animate MenuFrameChopper vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Saucer menu3d animate MenuFrameFighterNeo vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Paladin menu3d animate MenuFrameWarthog vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Paladin menu3d animate MenuFrameOsprey vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterNeo menu3d animate MenuFrameStealth vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterNeo menu3d animate MenuFrameAngel vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Osprey menu3d animate MenuFrameSaucer vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Osprey menu3d animate MenuFrameFighterA vr/MenuPictureFrameIn.aaf playonce 0 0.7"
}
Script VrFrameAirMechFocusRight {
cmd "if sym RookLocal_Base == Angel menu3d animate MenuFrameWarthog vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Angel menu3d animate MenuFrameFighterNeo vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterA menu3d animate MenuFrameStealth vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterA menu3d animate MenuFrameOsprey vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Chopper menu3d animate MenuFrameSaucer vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Chopper menu3d animate MenuFrameAngel vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Warthog menu3d animate MenuFramePaladin vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Warthog menu3d animate MenuFrameFighterA vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Stealth menu3d animate MenuFrameFighterNeo vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Stealth menu3d animate MenuFrameChopper vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Saucer menu3d animate MenuFrameOsprey vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Saucer menu3d animate MenuFrameWarthog vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Paladin menu3d animate MenuFrameAngel vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Paladin menu3d animate MenuFrameStealth vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterNeo menu3d animate MenuFrameFighterA vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == FighterNeo menu3d animate MenuFrameSaucer vr/MenuPictureFrameIn.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Osprey menu3d animate MenuFrameChopper vr/MenuPictureFrameOut.aaf playonce 0 0.7"
cmd "if sym RookLocal_Base == Osprey menu3d animate MenuFramePaladin vr/MenuPictureFrameIn.aaf playonce 0 0.7"
}
Script PreviewAirMechSkin {
ignoreInputTime 0.05
rcmd "if sym _MArg1_ == Prev runnow rook genNextSkin AirMechActive #RookLocal_@AirMechActive@ /prev /ownStateSym PreviewAirMechOwned"
rcmd "if sym _MArg1_ == Next runnow rook genNextSkin AirMechActive #RookLocal_@AirMechActive@ /ownStateSym PreviewAirMechOwned"
cmd "rook genMenu3dAirMechSkin $RookLocal_${AirMechActive} 0 /explicit /model AirMechRobotModel /material AirMechRobotMat /anim AirMechRobotAnim /contentName AirMechName"
cmd "rook genMenu3dAirMechSkin $RookLocal_${AirMechActive} 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim"
cmd "menucmd UpdateAirMechPreviews"
}
Script VrMenuCycleOptionNext {
ignoreInputTime 0.08
rcmd "sym setFrom VrSelectMode _MArg1_"
rcmd "if sym VrSelectMode == AirMech runnow rook genNextAirMech DebugRook DebugRookSkin3 /ownStateSym _CycleRookOwned /noReqOwnIf VRAirmechFullCustomize"
cmd "if sym VrSelectMode == AirMech player 0 changeToSym RookLocal_${DebugRook} /ownStateSym _CycleRookOwned"
cmd "if sym VrSelectMode == AirMech sym setFrom RookLocal_Base DebugRook"
cmd "if sym VrSelectMode == AirMech sym setFrom RookLocal RookLocal_${DebugRook}"
rcmd "if sym VrSelectMode == Skin runnow rook genNextSkin RookLocal_Base DebugRookSkin /ownStateSym _CycleRookOwned /noReqOwnIf VRAirmechFullCustomize"
cmd "if sym VrSelectMode == Skin player 0 changeToSym DebugRookSkin"
cmd "if sym VrSelectMode == Skin sym setFrom RookLocal_${RookLocal_Base} DebugRookSkin"
cmd "if sym VrSelectMode == Skin sym setFrom RookLocal DebugRookSkin"
cmd "if sym VrSelectMode == Skin && sym VrDrawAirMech != Quick menucmd DrawAirMechTextures"
cmd "pcmd 0 if sym _CycleRookOwned == 1 sym setFrom _LastOwnedCycleRook RookLocal"
cmd "pcmd 0 if sym _CycleRookOwned == 1 sym setFrom _LastOwnedCycleRook_Base RookLocal_Base"
cmd "if sym VrSelectMode == AirMech || sym VrSelectMode == Skin menucmd VrMenuCheckAirMechLock"
cmd "if sym VrSelectMode != null playsound VrSwipeBackward"
cmd "if sym VrSelectMode != null pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "if sym VrSelectMode != null pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "if sym VrDrawAirMech == Quick menucmd DrawAirMechSingleTexture"
cmd "menucmd AirMechChangedVr"
}
Script VrMenuCycleOptionPrev {
ignoreInputTime 0.08
rcmd "sym setFrom VrSelectMode _MArg1_"
rcmd "if sym VrSelectMode == AirMech runnow rook genNextAirMech DebugRook DebugRookSkin3 /prev /ownStateSym _CycleRookOwned /noReqOwnIf VRAirmechFullCustomize"
cmd "if sym VrSelectMode == AirMech player 0 changeToSym RookLocal_${DebugRook} /ownStateSym _CycleRookOwned"
cmd "if sym VrSelectMode == AirMech sym setFrom RookLocal_Base DebugRook"
cmd "if sym VrSelectMode == AirMech sym setFrom RookLocal RookLocal_${DebugRook}"
rcmd "if sym VrSelectMode == Skin runnow rook genNextSkin RookLocal_Base DebugRookSkin /prev /ownStateSym _CycleRookOwned /noReqOwnIf VRAirmechFullCustomize"
cmd "if sym VrSelectMode == Skin player 0 changeToSym DebugRookSkin"
cmd "if sym VrSelectMode == Skin sym setFrom RookLocal_${RookLocal_Base} DebugRookSkin"
cmd "if sym VrSelectMode == Skin sym setFrom RookLocal DebugRookSkin"
cmd "if sym VrSelectMode == Skin && sym VrDrawAirMech != Quick menucmd DrawAirMechTextures"
cmd "pcmd 0 if sym _CycleRookOwned == 1 sym setFrom _LastOwnedCycleRook RookLocal"
cmd "pcmd 0 if sym _CycleRookOwned == 1 sym setFrom _LastOwnedCycleRook_Base RookLocal_Base"
cmd "if sym VrSelectMode == AirMech || sym VrSelectMode == Skin menucmd VrMenuCheckAirMechLock"
cmd "if sym VrSelectMode != null playsound VrSwipeForward"
cmd "if sym VrSelectMode != null pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "if sym VrSelectMode != null pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "if sym VrDrawAirMech == Quick menucmd DrawAirMechSingleTexture"
cmd "menucmd AirMechChangedVr"
}
Script VrMenuCheckAirMechLock {
cmd "if sym _CycleRookOwned == 1 menu3d addAnimScript MenuLockFrame as_VRMenuOut.txt"
cmd "if sym _CycleRookOwned == 0 menu3d addAnimScript MenuLockFrame as_VRMenuIn.txt"
cmd "if sym _CycleRookOwned == 0 pcmd 0.05 menu3d animate MenuLockFrame vr/LockClose.aaf playonce 0 1.5"
}
Script SetupWorldViewZoom {
rcmd "sym setZero _VrZoomOut_ _VrZoomIn_ _VrZoomOutOk_ _VrZoomInOk_"
rcmd "sym set WorldViewPosZ 0"
rcmd "sym intRemap WorldViewZoom /tgtSymbol WorldViewScale 	3.2		5	7	9	15"
rcmd "sym intRemap WorldViewZoom /tgtSymbol WorldCamExtMod 	-8		0	0	14	15"
rcmd "sym intRemap WorldViewZoom /tgtSymbol HeadModelScale 	80		90	100	100	300"
rcmd "sym intRemap WorldViewZoom /tgtSymbol WorldViewPosY 	50 		35 	25 	20	10"
rcmd "sym intRemap WorldViewZoom /tgtSymbol WorldMode 	0 		0 	0 	0	1"
rcmd "worldview setCameraExtentsMod $$WorldCamExtMod"
rcmd "pcmd t2 worldview scaleto $$WorldViewScale /lin 0.05"
rcmd "pcmd t2 worldview moveto $$WorldViewPosX $$WorldViewPosY $$WorldViewPosZ /airmech /lin 0.05"
rcmd "if sym _MapTransition != 1 && sym WorldViewZoom != 4 runnow menucmd SwitchToTableMode"
rcmd "if sym _MapTransition != 1 && sym WorldViewZoom == 4 runnow menucmd SwitchToWorldMode"
}
Script SetupMenuViewZoom {
cmd "sym setZero _VrZoomOut_ _VrZoomIn_ _VrZoomOutOk_ _VrZoomInOk_"
cmd "sym set WorldViewPosZ 0"
cmd "sym intRemap WorldViewZoom /tgtSymbol WorldViewScale 	5		10	18	28	40"
cmd "worldview setCameraExtentsMod $$WorldCamExtMod"
cmd "worldview scaleto $$WorldViewScale /lin 0.1"
cmd "worldview moveto $$WorldViewPosX $$WorldViewPosY $$WorldViewPosZ /airmech /lin 0.1"
}
Script VR_hitbarrier_null {
}
Script VR_hitbarrier_back {
cmd "if sym WorldViewScale > 9 && !gamecheck watchAmAir && sym WorldMode != 1 worldview scaleto 9 /lin 0.1"
cmd "if sym WorldViewScale > 9 && !gamecheck watchAmAir && sym WorldMode != 1 menucmd SwitchToTableMode"
cmd "if sym WorldViewScale > 9 && !gamecheck watchAmAir && sym WorldMode != 1 runnow sym set WorldViewScale 9"
cmd "if sym WorldViewScale > 7 && gamecheck watchAmAir worldview scaleto 7 /lin 0.1"
cmd "if sym WorldViewScale > 7 && gamecheck watchAmAir menucmd SwitchToTableMode"
cmd "if sym WorldViewScale > 7 && gamecheck watchAmAir runnow sym set WorldViewScale 7"
cmd "worldview moveto $WorldViewPosX $$WorldViewPosY $WorldViewPosZ /airmech /lin 0.1"
}
Script VR_hitbarrier {
cmd "if sym _VrMapTransition_ == 0 && sym WorldViewScale > 9 && !gamecheck watchAmAir sym set WorldViewZoom 3"
cmd "if sym _VrMapTransition_ == 0 && sym WorldViewScale > 9 && !gamecheck watchAmAir runnow menucmd SetupWorldViewZoom"
cmd "if sym _VrMapTransition_ == 0 && sym WorldViewScale == 9 && !gamecheck watchAmAir worldview moveto $WorldViewPosX $WorldViewPosY $WorldViewPosZ /airmech /lin 0.1"
cmd "if sym _VrMapTransition_ == 0 && sym WorldViewScale > 7 && gamecheck watchAmAir sym set WorldViewZoom 2"
cmd "if sym _VrMapTransition_ == 0 && sym WorldViewScale > 7 && gamecheck watchAmAir runnow menucmd SetupWorldViewZoom"
cmd "if sym _VrMapTransition_ == 0 && sym WorldViewScale <= 7 worldview moveto $WorldViewPosX $WorldViewPosY $WorldViewPosZ /airmech /lin 0.1"
cmd "if sym _VrMapTransition_ == 0 playsound CameraTeleport"
rcmd "if sym _VrMapTransition_ == 0 && sym _VrTpOk_ == 1 && gamecheck watchAmAir runnow player local tgtCameraInfo _CamGoOk _CamGoPos WorldViewRotation /airFacingForced"
rcmd "if sym _VrMapTransition_ == 0 && sym _VrTpOk_ == 1 && gamecheck watchAmAir runnow echo HOLDING TELEPORT"
rcmd "if sym _VrMapTransition_ == 0 && sym _VrTpOk_ == 1 && gamecheck watchAmAir && sym _CamGoOk == 1 worldview rotateto $$WorldViewRotation /lin 0.1"
rcmd "if sym _VrMapTransition_ == 0 && sym _VrTpOk_ == 1 && gamecheck watchAmAir sym set _BarrierTp 1"
rcmd "if sym _VrMapTransition_ == 0 && sym _VrTpOk_ == 1 && gamecheck watchAmAir menucmd ClearTeleportEffects"
}
Script ClearTeleportEffects {
cmd "mdlprop clearids 1007"
cmd "console flushAllPendingSeq VrTeleportFx"
cmd "sym setZero _VrTpDown_ _VrTpOk_ _CamGoQuick _CamGoOk _CamGoPartial"
cmd "menu3d remove TeleportTarget"
cmd "sym setZero _CameraHoldR _CameraHoldL"
}
}
Script HeadScaleDo {
cmd "gfx lerp vrHeadMdlScale /current $HeadModelScale 0.1"
}
Script SelectLanguage {
ignoreInputTime 1.5
rcmd "sym set VRLangSelectMode 1"
rcmd "sym setFrom LastLangIndex LangIndex"
cmd "menu3d setInvisible MenusVROptions"
cmd "exec vr_menuLang.txt"
cmd "menucmd SetupLangTiles"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Credits"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
cmd "menu3d addAnimScript MenuSpeakerL as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuSpeakerR as_VRMenuHide.txt"
cmd "worldview moveto -4 -2 0 /slew 0.1"
rcmd "sym set MenuTouchCmd SelectCurrentLang"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectLanguageCancel"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.1 menu3d addChild MenusVRLang MenuLangGlobe /model vr/Earth.amf /material mat_GlobeSolid /noVis /worldPose 0 200 60 /rootScale 500 /rootRot 0 0 0"
cmd "pcmd 0.3 menu3d addAnimScript MenuLangGlobe as_VRLangGlobeIn.txt 0.5"
}
Script SelectLanguageCancel {
ignoreInputTime 1.0
rcmd "sym set VRLangSelectMode 0"
rcmd "sym setFrom LangIndex LastLangIndex"
rcmd "pcmd 0.1 menucmd ChangeLangSelect"
rcmd "menu3d setInvisible MenusVRLang"
cmd "pcmd 0 worldview moveto -1 -3 0 /slew 0.1"
cmd "pcmd 0.3 exec vr_menuOptions.txt"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectOptionsCancel"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 sym set MenuTouchCmd SelectLanguage"
cmd "pcmd 0.4 menu3d addAnimScript MenuSpeakerL as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuSpeakerR as_VRMenuAppear.txt"
cmd "kill units 0 silent ignoreLatched"
cmd "menu3d addAnimScript MenuLangGlobe as_VRLangGlobeOut.txt 0.5"
cmd "menu3d addAnimScript MenusVRLang as_VRMenuTilesOut.txt"
cmd "pcmd 0.7 menu3d remove MenusVRLang"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.1 player 0 setPosition $_WorldPosLang"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.35 menu3d setVisible MenusVROptions"
cmd "backend save"
}
Script RestoreLanguage {
rcmd "if sym LangIndex == 0 lang set 0"
rcmd "if sym LangIndex == 1 lang set 0"
rcmd "if sym LangIndex == 2 lang set 0"
rcmd "if sym LangIndex == 3 lang set 0"
rcmd "if sym LangIndex == 4 lang set 0"
rcmd "if sym LangIndex == 5 lang set 1"
rcmd "if sym LangIndex == 6 lang set 3"
rcmd "if sym LangIndex == 7 lang set 4"
rcmd "if sym LangIndex == 8 lang set 2"
}
Script SelectArmy {
ignoreInputTime 0.8
rcmd "pcmd 0.4 menucmd ShowArmyInfo"
rcmd "pcmd 0.1 sym clear VrMenuText VrMenuTextDesc"
rcmd "menu3d setInvisible MenuLabelArmy"
rcmd "sym set VrCustomizeArmy 1"
cmd "menu3d setInvisible MenusVRRoot"
cmd "sym set _BuildCubeIndex_ 0"
cmd "collection genUnitCategory AS0P0 CurrentCategory"
cmd "sym setFrom FinalUnitToBuild AS0P0"
cmd "pcmd 0 exec vr_menuArmy.txt"
cmd "menucmd HideVrMenuSet Play"
cmd "menucmd HideVrMenuSet Hangar"
cmd "menucmd HideVrMenuSet Options"
cmd "menucmd HideVrMenuSet Quests"
cmd "menucmd HideVrMenuSet Army"
cmd "menucmd HideVrQuests"
cmd "sym setFrom OriginalTeamColor TeamColor"
cmd "worldview moveto -2 1 0 /slew 0.1"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.35 menu3d setVisible MenusVRArmy"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectArmyCancel"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 menu3d remove MenusVRRoot"
cmd "pcmd 0.5 state .MenuColPlay terminate"
cmd "pcmd 0.5 state .MenuColOptions terminate"
cmd "pcmd 0.5 state .MenuColHangar terminate"
cmd "pcmd 0.5 state .MenuColQuests terminate"
cmd "pcmd 0.5 state .MenuColArmy terminate"
rcmd "pcmd 0.55 playerinputpause 0 local"
rcmd "playsound VrButtonSelect"
cmd "player 0 disableFn pickup"
rcmd "sym setOne CurrentUnitOwned"
cmd "sym setFrom UnitVRLast0 AS0P0"
cmd "sym setFrom UnitVRLast1 AS1P0"
cmd "sym setFrom UnitVRLast2 AS2P0"
cmd "sym setFrom UnitVRLast3 AS3P0"
cmd "sym setFrom UnitVRLast4 AS4P0"
cmd "sym setFrom UnitVRLast5 AS5P0"
cmd "sym setFrom UnitVRLast6 AS6P0"
cmd "sym setFrom UnitVRLast7 AS7P0"
cmd "sym setFrom ArmySlotVRLast0 AS0P0"
cmd "sym setFrom ArmySlotVRLast1 AS1P0"
cmd "sym setFrom ArmySlotVRLast2 AS2P0"
cmd "sym setFrom ArmySlotVRLast3 AS3P0"
cmd "sym setFrom ArmySlotVRLast4 AS4P0"
cmd "sym setFrom ArmySlotVRLast5 AS5P0"
cmd "sym setFrom ArmySlotVRLast6 AS6P0"
cmd "sym setFrom ArmySlotVRLast7 AS7P0"
}
Script ClearArmyText {
cmd "sym set FinalUnitToBuildST"
cmd "sym set DispSlotCost"
cmd "sym set DispSlotTime"
cmd "sym set DispSlotName"
}
Script ShowArmyInfo {
cmd "menu3d remove MenuArmyInfo"
cmd "menu3d add MenuArmyInfo /model vr/MenuArmyInfo.amf /material mat_RenderToTextureVR2_UnlitStdBlend /worldPose 0 200 -10 /rootScale 2.2 /rootRot 0 0 0"
cmd "menu3d addChild MenuArmyInfo MenuArmyInfoBg /model vr/MenuInfoBg.amf /material mat_MenuInfoBg /worldPose 0 1 -10 /rootScale 1.5 1 1.3 /rootRot 0 0 0"
cmd "pcmd 0.1 addUIAnim VRArmyCL mas_VRCollectionIn.txt"
cmd "pcmd 0.1 addUIAnim VrArmyCLTitle mas_VRCollectionIn.txt"
cmd "pcmd 0.2 gameui enableAll VRArmyCL"
cmd "pcmd 0.2 gameui enableAll VrArmyCLTitle"
cmd "menu3d addAnimScript MenuArmyInfoBg as_VRInfoBgIn.txt"
}
Script ResetArmyInfo {
cmd "menu3d remove MenuArmyInfo MenuArmyInfoBg"
cmd "addUIAnim VrArmyUnitDesc mas_VRCollectionOut.txt"
cmd "gameui disable VrArmyUnitDesc"
cmd "addUIAnim VRArmyCL mas_VRCollectionOut.txt"
cmd "addUIAnim VrArmyCLTitle mas_VRCollectionOut.txt"
cmd "gameui disableAll VRArmyCL"
cmd "gameui disableAll VrArmyCLTitle"
cmd "pcmd 1.0 menu3d remove MenuArmyInfo"
}
Script RefreshArmyInfo {
cmd "gameui disable VrArmyUnitDesc"
cmd "addUIAnim VrArmyUnitDesc mas_VRCollectionOut.txt"
cmd "gameui disable VrArmyUnitDesc"
cmd "pcmd_seq VRUnitPreview 0.35 gameui flushDrawCache unit_desc2"
cmd "pcmd_seq VRUnitPreview 0.45 addUIAnim VrArmyUnitDesc mas_VRCollectionIn.txt"
cmd "pcmd_seq VRUnitPreview 0.45 gameui enable VrArmyUnitDesc"
}
Script SelectArmyCancel {
ignoreInputTime 1.0
rcmd "menucmd ResetArmyInfo"
rcmd "playerinputpause 1 local"
rcmd "sym setZero VrCustomizeArmy ShowingUnlockConfirm"
rcmd "console flushAllPendingSeq VRUnitPreview"
rcmd "menu3d setInvisible MenusVRArmy ArmyLockGrid"
rcmd "playsound VrButtonSelect"
rcmd "sym set PreviewingUnlockReady 0"
cmd "pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "kill units 0 silent ignoreLatched"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd ClearArmyText"
cmd "menucmd ClearUnlockConfirm"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "state .Army terminate"
cmd "menucmd ClearBuildBar"
cmd "sym setFrom TeamColor OriginalTeamColor"
cmd "sym setZero BuildCubeActive BuildCubeActiveLook"
cmd "menu3d addAnimScript MenuArmyUnlock as_VRMenuDisappear.txt 1.0"
cmd "sym setToNSyms UnitVRLast0 AS0P0 ArmySlot0Custom0"
cmd "sym setToNSyms UnitVRLast1 AS1P0 ArmySlot1Custom0"
cmd "sym setToNSyms UnitVRLast2 AS2P0 ArmySlot2Custom0"
cmd "sym setToNSyms UnitVRLast3 AS3P0 ArmySlot3Custom0"
cmd "sym setToNSyms UnitVRLast4 AS4P0 ArmySlot4Custom0"
cmd "sym setToNSyms UnitVRLast5 AS5P0 ArmySlot5Custom0"
cmd "sym setToNSyms UnitVRLast6 AS6P0 ArmySlot6Custom0"
cmd "sym setToNSyms UnitVRLast7 AS7P0 ArmySlot7Custom0"
cmd "pcmd 0.1 player 0 setPosition $_WorldPosArmy 1"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 state .MenuColBlock terminate"
cmd "pcmd 0.1 state .MenuColUnlock terminate"
cmd "pcmd 0.25 if !menu3dexists MenusVR runnow exec vr_menuCore.txt"
cmd "pcmd 0.3 exec vr_menuMain.txt"
cmd "pcmd 0.5 menu3d remove MenusVRArmy"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 sym set MenuTouchCmd SelectArmy"
cmd "pcmd 0.8 playerinputpause 0 local"
cmd "player 0 enableFn pickup"
cmd "menucmd SaveVRLoadout"
}
Script SelectOptions {
ignoreInputTime 0.8
rcmd "playerinputpause 1 local"
cmd "menu3d setInvisible MenusVRRoot"
cmd "exec vr_menuOptions.txt"
cmd "menucmd HideVrMenuSet Play"
cmd "menucmd HideVrMenuSet Hangar"
cmd "menucmd HideVrMenuSet Options"
cmd "menucmd HideVrMenuSet Quests"
cmd "menucmd HideVrMenuSet Army"
cmd "menucmd HideVrQuests"
rcmd "menucmd ChangeLangSelect"
cmd "worldview moveto -1 -3 0 /slew 0.1"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.35 menu3d setVisible MenusVROptions"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectOptionsCancel"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 menu3d remove MenusVRRoot"
cmd "pcmd 0.5 state .MenuColPlay terminate"
cmd "pcmd 0.5 state .MenuColOptions terminate"
cmd "pcmd 0.5 state .MenuColHangar terminate"
cmd "pcmd 0.5 state .MenuColQuests terminate"
cmd "pcmd 0.5 state .MenuColArmy terminate"
cmd "pcmd 0.2 menu3d addAnimScript MenuSpeakerL as_VRMenuAppear.txt"
cmd "pcmd 0.3 menu3d addAnimScript MenuSpeakerR as_VRMenuAppear.txt"
rcmd "pcmd 0.5 playerinputpause 0 local"
rcmd "playsound VrButtonSelect"
}
Script SelectOptionsCancel {
ignoreInputTime 0.8
rcmd "playerinputpause 1 local"
rcmd "menu3d setInvisible MenusVROptions"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "kill units 0 silent ignoreLatched"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Credits"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
cmd "menucmd HideVrMenuSet Kudos"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "menu3d addAnimScript MenuSpeakerL as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuSpeakerR as_VRMenuHide.txt"
cmd "pcmd 0.1 player 0 setPosition $_WorldPosOptions 0.35"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 state .MenuColLang terminate"
cmd "pcmd 0.1 state .MenuColAudio terminate"
cmd "pcmd 0.1 state .MenuColGamepad terminate"
cmd "pcmd 0.1 state .MenuColCredits terminate"
cmd "pcmd 0.1 state .MenuColTutorial terminate"
cmd "pcmd 0.1 state .MenuColKudos terminate"
cmd "pcmd 0.25 if !menu3dexists MenusVR runnow exec vr_menuCore.txt"
cmd "pcmd 0.3 exec vr_menuMain.txt"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 sym set MenuTouchCmd SelectOptions"
cmd "pcmd 0.8 playerinputpause 0 local"
cmd "backend save"
}
Script TouchOptions {
rcmd "sym set MenuTouch 1"
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDiskFocus"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusGet.txt"
rcmd "if sym _MArg1_ == Audio menucmd TouchOptionsAudio"
rcmd "if sym _MArg1_ == Audio sym set MenuTouchCmd SelectAudio"
rcmd "if sym _MArg1_ == Gamepad menu3d addAnimScript MenuDecoGamepad as_VROptionsGamepadFocus.txt"
rcmd "if sym _MArg1_ == Gamepad sym set MenuTouchCmd SelectGamepad"
rcmd "if sym _MArg1_ == Credits menu3d addAnimScript MenuDecoCredits as_VROptionsCreditsFocus.txt"
rcmd "if sym _MArg1_ == Credits sym set MenuTouchCmd SelectCredits"
rcmd "if sym _MArg1_ == Lang menu3d addAnimScript MenuDecoLang as_VRMenuDecoCountry.txt"
rcmd "if sym _MArg1_ == Lang sym set MenuTouchCmd SelectLanguage"
rcmd "if sym _MArg1_ == Tutorial sym set MenuTouchCmd VRTutStart"
rcmd "if sym _MArg1_ == Tutorial menu3d animate MenuDecoTutorial rooks/Mechy/Mechy_Horray_3.aaf looping 0 1.0"
rcmd "if sym _MArg1_ == Tutorial2 menu3d animate MenuDecoTutorial2 rooks/Mechy/Mechy_Horray_2.aaf looping 0 1.0"
rcmd "if sym _MArg1_ == Tutorial menu3d addAnimScript MenuDecoTutorial as_VROptionsMechyFocus.txt 1"
rcmd "if sym _MArg1_ == Tutorial2 menu3d addAnimScript MenuDecoTutorial2 as_VROptionsMechyFocus.txt 1"
rcmd "if sym _MArg1_ == Tutorial2 sym set MenuTouchCmd TutorialBSetup"
rcmd "if sym _MArg1_ == Tutorial3 sym set MenuTouchCmd TutorialCSetup"
rcmd "if sym _MArg1_ == Kudos sym set MenuTouchCmd"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ #as_VRMenuDeco@_MArg1_@.txt"
rcmd "menucmd VrMenuTextFocus $_MArg1_"
rcmd "sym setFrom _VrArg_ _MArg1_"
rcmd "playsound VrButtonTouch"
cmd "sym set MenuTouchCancelCmd SelectOptionsCancel"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root /tag VrMenu"
}
Script TouchOptionsAudio {
rcmd "menu3d addAnimScript MenuSpeakerL as_VRSpeakerFocusL.txt"
rcmd "menu3d addAnimScript MenuSpeakerR as_VRSpeakerFocusR.txt 0.8"
}
Script UnTouchOptionsAudio {
rcmd "menu3d addAnimScript MenuSpeakerL as_VRMenuDecoRestore.txt 0.8"
rcmd "menu3d addAnimScript MenuSpeakerR as_VRMenuDecoRestore.txt"
}
Script UnTouchOptions {
rcmd "sym set MenuTouch 1"
rcmd "if sym _MArg1_ == Audio menucmd UnTouchOptionsAudio"
rcmd "if sym _MArg1_ == Lang menu3d addAnimScript MenuDecoLang as_VRMenuDecoRestore.txt"
rcmd "if sym _MArg1_ == Gamepad menu3d addAnimScript MenuDecoGamepad as_VRMenuDecoRestore.txt 2"
rcmd "if sym _MArg1_ == Credits menu3d addAnimScript MenuDecoCredits as_VRMenuDecoRestore.txt 2"
rcmd "if sym _MArg1_ == Tutorial menu3d animate MenuDecoTutorial rooks/Mechy/Mechy_Hover_1.aaf looping 0 1.0"
rcmd "if sym _MArg1_ == Tutorial2 menu3d animate MenuDecoTutorial2 rooks/Mechy/Mechy_Hover_1.aaf looping 0 1.0"
cmd "pfx stop VrMenu"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoRestore.txt"
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusLose.txt"
rcmd "menucmd VrMenuTextUnfocus #MenuLabel@_MArg1_@"
rcmd "sym set MenuTouchCmd"
rcmd "sym set _VrArg_"
}
Script SelectAudio {
ignoreInputTime 1.0
cmd "menu3d setInvisible MenusVROptions"
cmd "exec vr_menuAudio.txt"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Credits"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
cmd "worldview moveto -1 -2 0 /slew 0.1"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.35 menu3d setVisible MenusVRAudio"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectAudioCancel"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.5 sym set VRAdjustAudio 1"
rcmd "menu3d addAnimScript MenuSpeakerL as_VRSpeakerSelectL.txt"
rcmd "menu3d addAnimScript MenuSpeakerR as_VRSpeakerSelectR.txt"
}
Script SelectAudioCancel {
ignoreInputTime 0.5
rcmd "playerinputpause 1 local"
rcmd "menu3d setInvisible MenusVRAudio"
cmd "pcmd 0 worldview moveto -1 -3 0 /slew 0.1"
cmd "sym set VRAdjustAudio 0"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
rcmd "menu3d addAnimScript MenuAudioMasterVisual as_VRMenuOut.txt"
rcmd "menu3d addAnimScript MenuAudioMasterVolume as_VRMenuOut.txt"
rcmd "menu3d addAnimScript MenuAudioEffectsVisual as_VRMenuOut.txt"
rcmd "menu3d addAnimScript MenuAudioEffectsVolume as_VRMenuOut.txt"
rcmd "menu3d addAnimScript MenuAudioVoiceVisual as_VRMenuOut.txt"
rcmd "menu3d addAnimScript MenuAudioVoiceVolume as_VRMenuOut.txt"
rcmd "menu3d addAnimScript MenuAudioMusicVisual as_VRMenuOut.txt"
rcmd "menu3d addAnimScript MenuAudioMusicVolume as_VRMenuOut.txt"
rcmd "pcmd 0 menu3d addAnimScript MenuSpeakerL as_VRSpeakerFocusL.txt 0.6"
rcmd "pcmd 0 menu3d addAnimScript MenuSpeakerR as_VRSpeakerFocusR.txt 0.5"
cmd "kill units 0 silent ignoreLatched"
cmd "pcmd 0.1 player 0 setPosition $_WorldPosAudio"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.3 exec vr_menuOptions.txt"
cmd "pcmd 0.5 menu3d remove MenusVRAudio"
cmd "pcmd 0.5 menu3d setVisible MenusVROptions"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectOptionsCancel"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 sym set MenuTouchCmd SelectAudio"
cmd "pcmd 0.5 playerinputpause 0 local"
cmd "backend save"
}
Script BuildVolumeBars {
rcmd "sym set BarZ 5"
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V10 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V20 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V30 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V40 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V50 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V60 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V70 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V80 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V90 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "sym inc BarZ 5
rcmd "menu3d addChild #MenuAudio@_MArg1_@Volume #MenuAudio@_MArg1_@V100 /model vr/MenuAudioBar0.amf /material mat_IconsAudio /worldPose 0 0 $$BarZ  /rootScale 4.5
rcmd "if sym _MArg1_ == Master runnow sym setPair VolToChange MasterVol VolumeLabel Master"
rcmd "if sym _MArg1_ == Effects runnow sym setPair VolToChange SoundVol VolumeLabel Effects"
rcmd "if sym _MArg1_ == Voice runnow sym setPair VolToChange AnnouncerVol VolumeLabel Voice"
rcmd "if sym _MArg1_ == Music runnow sym setPair VolToChange MusicVol VolumeLabel Music"
rcmd "pcmd $_MArg2_ menucmd SetVolumeBarLevels $$VolToChange $$VolumeLabel"
}
Script SetVolumeBarLevels {
rcmd "if sym $_MArg1_ > 0 runnow menu3d updateCfg #MenuAudio@_MArg2_@V10 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 10 runnow pcmd t3 menu3d updateCfg #MenuAudio@_MArg2_@V20 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 20 runnow pcmd t6 menu3d updateCfg #MenuAudio@_MArg2_@V30 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 30 runnow pcmd t9 menu3d updateCfg #MenuAudio@_MArg2_@V40 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 40 runnow pcmd t12 menu3d updateCfg #MenuAudio@_MArg2_@V50 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 50 runnow pcmd t15 menu3d updateCfg #MenuAudio@_MArg2_@V60 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 60 runnow pcmd t18 menu3d updateCfg #MenuAudio@_MArg2_@V70 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 70 runnow pcmd t21 menu3d updateCfg #MenuAudio@_MArg2_@V80 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 80 runnow pcmd t24 menu3d updateCfg #MenuAudio@_MArg2_@V90 /model vr/MenuAudioBar1.amf"
rcmd "if sym $_MArg1_ > 90 runnow pcmd t27 menu3d updateCfg #MenuAudio@_MArg2_@V100 /model vr/MenuAudioBar1.amf"
}
Script LowerVolumeBarLevels {
rcmd "if sym $_MArg1_ <= 0 runnow menu3d updateCfg #MenuAudio@_MArg2_@V10 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 10 runnow menu3d updateCfg #MenuAudio@_MArg2_@V20 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 20 runnow menu3d updateCfg #MenuAudio@_MArg2_@V30 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 30 runnow menu3d updateCfg #MenuAudio@_MArg2_@V40 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 40 runnow menu3d updateCfg #MenuAudio@_MArg2_@V50 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 50 runnow menu3d updateCfg #MenuAudio@_MArg2_@V60 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 60 runnow menu3d updateCfg #MenuAudio@_MArg2_@V70 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 70 runnow menu3d updateCfg #MenuAudio@_MArg2_@V80 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 80 runnow menu3d updateCfg #MenuAudio@_MArg2_@V90 /model vr/MenuAudioBar0.amf"
rcmd "if sym $_MArg1_ <= 90 runnow menu3d updateCfg #MenuAudio@_MArg2_@V100 /model vr/MenuAudioBar0.amf"
}
Script VrVolumePress {
cmd "if sym $VolToChange < 100 menucmd VrVolumeUp"
cmd "if sym $VolToChange >= 100 sym set $VolToChange 0"
cmd "menucmdtry #@VolToChange@Update"
cmd "if sym $VolToChange >= 100 menucmd LowerVolumeBarLevels $VolToChange $VolumeLabel"
}
Script VrVolumeUp {
cmd "sym modInt $VolToChange 10 0 100"
cmd "menu3d updateCfg ##MenuAudio@VolumeLabel@V&@VolToChange@& /model vr/MenuAudioBar1.amf"
cmd "menucmdtry #@VolToChange@Update"
}
Script VrVolumeDown {
cmd "sym modInt $VolToChange -10 0 100"
cmd "menu3d updateCfg #MenuAudio@VolumeLabel@V&@VolToChange@& /model vr/MenuAudioBar0.amf"
cmd "menucmdtry #@VolToChange@Update"
}`
Script TouchAudio {
cmd "sym set VRAdjustAudio 1"
cmd "sym set MenuTouchCmd VrVolumePress"
rcmd "if sym _MArg1_ == Master sym setPair VolToChange MasterVol VolumeLabel Master"
rcmd "if sym _MArg1_ == Effects sym setPair VolToChange SoundVol VolumeLabel Effects"
rcmd "if sym _MArg1_ == Voice sym setPair VolToChange AnnouncerVol VolumeLabel Voice"
rcmd "if sym _MArg1_ == Music sym setPair VolToChange MusicVol VolumeLabel Music"
rcmd "menu3d updateCfg MenuAudioMasterVisual /model vr/MenuAudioMaster.amf"
rcmd "menu3d updateCfg MenuAudioEffectsVisual /model vr/MenuAudioEffects.amf"
rcmd "menu3d updateCfg MenuAudioVoiceVisual /model vr/MenuAudioVoice.amf"
rcmd "menu3d updateCfg MenuAudioMusicVisual /model vr/MenuAudioMusic.amf"
rcmd "menu3d updateCfg #MenuAudio@_MArg1_@Visual /model vr/MenuAudio@_MArg1_@Sel.amf"
}
Script UnTouchAudio {
cmd "sym set VolToChange"
cmd "sym set VolumeLabel"
cmd "sym set MenuTouchCmd"
cmd "menu3d updateCfg MenuAudioMasterVisual /model vr/MenuAudioMaster.amf"
cmd "menu3d updateCfg MenuAudioEffectsVisual /model vr/MenuAudioEffects.amf"
cmd "menu3d updateCfg MenuAudioVoiceVisual /model vr/MenuAudioVoice.amf"
cmd "menu3d updateCfg MenuAudioMusicVisual /model vr/MenuAudioMusic.amf"
}
Script TouchCountry {
rcmd "sym set MenuTouch 1"
cmd "sym set MenuTouchCancelCmd SelectLanguageCancel"
rcmd "sym setFrom LastCountryTouch _MArg1_"
rcmd "if sym _MArg1_ == US lang set 0"
rcmd "if sym _MArg1_ == US menucmd SetGlobeRot local -70 50 120"
rcmd "if sym _MArg1_ == Canada lang set 0"
rcmd "if sym _MArg1_ == Canada menucmd SetGlobeRot local -70 50 130"
rcmd "if sym _MArg1_ == UK lang set 0"
rcmd "if sym _MArg1_ == UK menucmd SetGlobeRot local 50 10 10"
rcmd "if sym _MArg1_ == Ireland lang set 0"
rcmd "if sym _MArg1_ == Ireland menucmd SetGlobeRot local 50 10 15"
rcmd "if sym _MArg1_ == Australia lang set 0"
rcmd "if sym _MArg1_ == Australia menucmd SetGlobeRot local 30 15 -130"
rcmd "if sym _MArg1_ == Germany lang set 1"
rcmd "if sym _MArg1_ == Germany menucmd SetGlobeRot local 50 10 0"
rcmd "if sym _MArg1_ == France lang set 3"
rcmd "if sym _MArg1_ == France menucmd SetGlobeRot local 50 10 5"
rcmd "if sym _MArg1_ == SouthKorea lang set 4"
rcmd "if sym _MArg1_ == SouthKorea menucmd SetGlobeRot local -45 -50 -135"
rcmd "if sym _MArg1_ == Spain lang set 2"
rcmd "if sym _MArg1_ == Spain menucmd SetGlobeRot local -70 50 70"
rcmd "pfx menu3dspawn VrMenuButtonPress /menu3d #Lang@_MArg1_@  /bone Sphere01 /try"
rcmd "playsound VrButtonTouch"
}
Script SetGlobeRot {
rcmd "sym setPair _GlobeRotX $_MArg1_ _GlobeRotY $_MArg2_ _GlobeRotZ $_MArg3_"
cmd "if sym VRLangSelectMode == 1 pcmd 0.5 menu3d addAnimScript MenuLangGlobe as_VRGlobeRot.txt"
}
Script UnTouchCountry {
cmd "pcmd 0.1 sym set MenuTouch 1"
rcmd "if sym _MArg1_ == Usa "
rcmd "if sym _MArg1_ == Canada "
rcmd "if sym _MArg1_ == Uk "
}
Script TouchMap {
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.1 sym set MenuTouch 1"
rcmd "menu3d addAnimScript #Map@_MArg1_@ as_VRMenuMapFocus.txt"
rcmd "sym setFrom MapName _MArg1_ "
rcmd "sym set VrDrawMap $_MArg1_"
cmd "menucmd MapChangedVr"
rcmd "playsound VrButtonTouch"
rcmd "menucmd SortMapList"
}
Script SortMapList {
rcmd "sym op VrMapList copyFirst VrMapListFirst"
rcmd "if sym MapName != $VrMapListFirst runnow sym op VrMapList firstToBack"
rcmd "if sym MapName != $VrMapListFirst menucmd SortMapList"
}
Script CycleMapNext {
cmd "sym set VrSelectMode Maps"
cmd "menucmd MapChangeFx"
rcmd "if sym MapIndex < $_TileMax runnow sym inc MapIndex 1"
rcmd "if sym MapIndex == $_TileMax runnow sym set MapIndex 0"
rcmd "pcmd 0 menucmd ChangeMapSelect"
cmd "pcmd 0 menucmd MapChangedVr"
rcmd "playsound VrSwipeForward"
}
Script CycleMapPrev {
cmd "sym set VrSelectMode Maps"
cmd "menucmd MapChangeFx"
rcmd "if sym MapIndex >= 0 runnow sym dec MapIndex 1"
rcmd "if sym MapIndex == -1 runnow sym setFrom MapIndex _TileMax2"
rcmd "pcmd 0 menucmd ChangeMapSelect"
cmd "pcmd 0 menucmd MapChangedVr"
rcmd "playsound VrSwipeBackward"
}
Script ChangeMapSelect {
rcmd "if sym Gamemode != PvP runnow sym op VrMapList copyNth $MapIndex MapName"
rcmd "if sym Gamemode == PvP runnow sym op VrMapListNoSurvival copyNth $MapIndex MapName"
rcmd "sym setFrom VrDrawMap MapName"
rcmd "sym intRemap MapIndex /tgtSymbol MapSelectRot 225 213 201 189 177 165 153 141 129 117 105 93 81"
rcmd "sym setFrom MapFocusRot MapIndex"
rcmd "sym setFrom MapRingRot MapIndex"
rcmd "sym multi MapFocusRot -12"
rcmd "if sym Gamemode == PvP runnow sym multi MapRingRot 3"
rcmd "if sym Gamemode != PvP runnow sym multi MapRingRot 4"
cmd "if sym VRMapSelectMode == 1 menu3d addAnimScript MapSelectBase as_VRMapFocusUpdate.txt"
cmd "if sym VRMapSelectMode == 1 && sym VRMapSelectButton == 1 menu3d addAnimScript MenusVRMaps as_VRMapRingUpdate.txt"
cmd "if sym VRMapSelectMode == 1 && sym VRMapSelectButton == 0 menu3d addAnimScript MenusVRMaps as_VRMapRingUpdateHidden.txt"
cmd "sym push DrawingMapPreviews 1"
cmd "pcmd t1 menu3d updateORTSnapshot2 NewMapScreen 0 90 1024 512"
cmd "pcmd t2 sym pop DrawingMapPreviews"
cmd "pcmd t1 sym set DrawingMapScreens 1
cmd "pcmd t3 menu3d updateORTSnapshot2 MapScreen1 1 1 958 510"
cmd "pcmd t3 menu3d updateORTSnapshot2 MapScreen2 961 1 958 510"
cmd "pcmd t3 menu3d updateORTSnapshot2 MapScreen3 1 513 958 510"
cmd "pcmd t3 menu3d updateORTSnapshot2 MapScreen4 961 513 958 510"
cmd "pcmd t4 sym set DrawingMapScreens 0
cmd "if sym MapName != survival_vr && sym MapName != laststand_vr && sym MapName != spiral_vr runnow sym set MapType MapTypeOther"
cmd "if sym MapName == survival_vr || sym MapName == laststand_vr || sym MapName == spiral_vr runnow sym set MapType MapTypeSurvival"
rcmd "menucmd MapScreensFlash"
cmd "gameui refreshFilterName VRMapSelect"
cmd "menucmd PlayMapVoice"
}
Script PlayMapVoice {
rcmd "sound fadeOutBus 1 0.25"
rcmd "console flushAllPendingSeq Voice"
rcmd "pcmd_seq Voice 0.3 playsound #Map_@MapName@ /onMenu3dBone NewMapScreen bone_screen /busId 1"
}
Script MapScreensFlash {
rcmd "console flushAllPendingSeq MapScreenFlash"
rcmd "menu3d addAnimScript NewMapScreenGlow as_VRMapScreenGlow.txt 0.5"
rcmd "menu3d addAnimScript NewMapScreenName as_VRMapScreenNameChange.txt
cmd "pcmd_seq MapScreenFlash 0.05 menu3d addAnimScript MapScreen1Glow as_VRMapScreenGlow.txt
cmd "pcmd_seq MapScreenFlash  0.15 menu3d addAnimScript MapScreen2Glow as_VRMapScreenGlow.txt
cmd "pcmd_seq MapScreenFlash  0.1 menu3d addAnimScript MapScreen3Glow as_VRMapScreenGlow.txt
cmd "pcmd_seq MapScreenFlash  0.2 menu3d addAnimScript MapScreen4Glow as_VRMapScreenGlow.txt
}
Script MapScreensFade {
cmd "echo ECHO MapScreensFade"
rcmd "sym set VRMapSelectMode 0"
cmd "menu3d addAnimScript MenuDpadHintMap as_VRMenuOut.txt"
cmd "menu3d addAnimScript NewMapScreen as_VRMapScreenFade.txt
cmd "menu3d addAnimScript NewMapScreenName as_VRMapScreenOff.txt
cmd "menu3d addAnimScript MapScreen1 as_VRMapScreenFade.txt
cmd "menu3d addAnimScript MapScreen2 as_VRMapScreenFade.txt
cmd "menu3d addAnimScript MapScreen3 as_VRMapScreenFade.txt
cmd "menu3d addAnimScript MapScreen4 as_VRMapScreenFade.txt
cmd "menu3d addAnimScript MenuBotDifficulty as_VRMapScreenFade.txt
}
Script MapScreensFadeAll {
cmd "echo ECHO MapScreensFadeAll"
rcmd "sym set VRMapSelectMode 0"
cmd "menu3d addAnimScript MenuDpadHintMap as_VRMenuOut.txt"
cmd "menu3d addAnimScript NewMapScreen as_VRMapScreenFadeAll.txt
cmd "menu3d addAnimScript NewMapScreenName as_VRMapScreenOff.txt
cmd "menu3d addAnimScript MapScreen1 as_VRMapScreenFadeAll.txt
cmd "menu3d addAnimScript MapScreen2 as_VRMapScreenFadeAll.txt
cmd "menu3d addAnimScript MapScreen3 as_VRMapScreenFadeAll.txt
cmd "menu3d addAnimScript MapScreen4 as_VRMapScreenFadeAll.txt
cmd "menu3d addAnimScript MenuBotDifficulty as_VRBotDifficultyFadeAll.txt
}
Script MapScreensRestore {
cmd "echo ECHO MapScreensRestore"
rcmd "sym set ButtonHintText1 Hint_MapSelect"
cmd "pcmd 0.1 menu3d addAnimScript MenuDpadHintMap as_VRMenuIn.txt"
cmd "menu3d addAnimScript NewMapScreen as_VRMapScreenRestore.txt
cmd "menu3d addAnimScript NewMapScreenName as_VRMapScreenOn.txt
cmd "menu3d addAnimScript MapScreen1 as_VRMapScreenRestore.txt
cmd "menu3d addAnimScript MapScreen2 as_VRMapScreenRestore.txt
cmd "menu3d addAnimScript MapScreen3 as_VRMapScreenRestore.txt
cmd "menu3d addAnimScript MapScreen4 as_VRMapScreenRestore.txt
cmd "menu3d addAnimScript MenuBotDifficulty as_VRBotDifficultyRestore.txt
}
Script MapChangeFx {
cmd "pcmd_seq MapChangePfx 0.1 pfx menu3dspawn MapScreenParticles /menu3d FortInside /bone bone_root /menu3dSpace /tag MapChangePfx"
cmd "pcmd_seq MapChangePfx 0.1 pfx menu3dspawn MapScreenParticlesSmall /menu3d FortInside /bone bone_root /menu3dSpace /tag MapChangePfx"
}
Script SelectCurrentMap {
ignoreInputTime 0.1
rcmd "sym setFrom LastMapIndex MapIndex"
rcmd "menucmd SelectMapCancel"
}
Script MapChangedVr {
cmd "if sym SG_InGroup == 1 sg setMapVote $MapName"
}
Script CycleSpecNext {
rcmd "console flushAllPendingSeq VrSpecCycle"
cmd "sym set VrSelectMode Spec"
cmd "menucmd WorldShiftFx"
rcmd "if sym SpecIndex < $_SpecMaxCount2 runnow sym modInt SpecIndexClamped 1 0 4"
rcmd "if sym SpecIndex < $_SpecMaxCount2 runnow sym inc SpecIndex 1"
rcmd "if sym SpecIndex > $_TileLast && sym SpecIndex < $_SpecMaxCount menucmd CycleSpecTilesNext"
rcmd "if sym SpecIndex > $_TileLast && sym SpecIndex < $_SpecMaxCount runnow sym set SpecCycling 1"
rcmd "if sym SpecCycling == 0 && sym SpecIndex != $_SpecMaxCount pcmd_seq VrSpecCycle 0 menucmd ChangeSpecSelect"
rcmd "playsound VrSwipeForward"
}
Script CycleSpecPrev {
rcmd "console flushAllPendingSeq VrSpecCycle"
cmd "sym set VrSelectMode Spec"
cmd "menucmd WorldShiftFx"
rcmd "if sym SpecIndex >= 0 runnow sym modInt SpecIndexClamped -1 0 4"
rcmd "if sym SpecIndex >= 0 runnow sym dec SpecIndex 1"
rcmd "if sym SpecIndex == -1 runnow sym set SpecIndex 0"
rcmd "if sym SpecIndex < $_TileFirst && sym _TileFirst != 0 menucmd CycleSpecTilesPrev"
rcmd "if sym SpecIndex < $_TileFirst && sym _TileFirst != 0 runnow sym set SpecCycling 1"
rcmd "if sym SpecCycling == 0 && sym SpecIndex > -1 pcmd_seq VrSpecCycle 0 menucmd ChangeSpecSelect"
rcmd "playsound VrSwipeBackward"
}
Script ChangeSpecSelect {
rcmd "sym intRemap SpecIndexClamped /tgtSymbol SpecSelectRot 210 195 180 165 150"
cmd "menu3d setRootRot SpecSelectBase 0 0 $SpecSelectRot"
cmd "pcmd t0 sym set DrawingSpecPreviews 1"
cmd "pcmd t0 gameui refreshFilterName VRSpecSelect"
cmd "pcmd t1 menu3d updateORTSnapshot2 MenuSpecInfo 0 600 1920 300"
cmd "pcmd t2 sym set DrawingSpecPreviews 0"
cmd "if sym TouchingRefreshRooms == 0 && sym Spec0Hidden == 0 sym set MenuTouchCmd SpectateGame"
cmd "if sym TouchingRefreshRooms == 1 sym set MenuTouchCmd RefreshSpectateRooms"
}
Script CycleLangNext {
cmd "sym set VRLangSelectMode 1"
cmd "menucmd WorldShiftFx"
rcmd "if sym LangIndex < $_TileMax runnow sym inc LangIndex 1"
rcmd "if sym LangIndex == $_TileMax runnow sym set LangIndex 0"
rcmd "pcmd 0 menucmd ChangeLangSelect"
rcmd "playsound VrSwipeForward"
}
Script CycleLangPrev {
cmd "sym set VRLangSelectMode 1"
rcmd "if sym LangIndex >= 0 runnow sym dec LangIndex 1"
rcmd "if sym LangIndex == -1 runnow sym setFrom LangIndex _TileMax2"
rcmd "pcmd 0 menucmd ChangeLangSelect"
rcmd "playsound VrSwipeBackward"
}
Script ChangeLangSelect {
rcmd "sym op VrLangList copyNth $LangIndex LangName"
rcmd "sym set LangActive $LangName"
rcmd "if sym VRLangSelectMode == 1 runnow sym intRemap LangIndex /tgtSymbol LangSelectRot 215 205 195 185 175 165 155 145 135 125 115 105"
cmd "if sym VRLangSelectMode == 1 menu3d setRootRot LangSelectBase 0 0 $LangSelectRot"
cmd "menucmd TouchCountry $LangName"
}
Script SelectCurrentLang {
rcmd "sym set VRLangSelectMode 0"
rcmd "sym setFrom LangActive LangName"
rcmd "sym setFrom LastLangIndex LangIndex"
rcmd "backend save"
rcmd "menucmd SelectLanguageCancel"
}
Script AirMechChangedVr {
cmd "if sym SG_InGroup == 1 console flushAllPendingSeq VrSgLoadoutUpdate"
cmd "if sym SG_InGroup == 1 pcmd_seq VrSgLoadoutUpdate 0.5 sg sendloadout"
cmd "if sym VrSelectMode == AirMech if sym VrAirMechHint == 1 menu3d addAnimScript MenuDpadHint1Customize as_VRMenuOut.txt"
cmd "if sym VrSelectMode == AirMech if sym VrAirMechHint == 1 menu3d addAnimScript MenuDpadHint0Customize as_VRMenuIn.txt"
cmd "if sym VrSelectMode == AirMech if sym VrAirMechHint == 1 sym set VrAirMechHint 0"
cmd "if sym VrSelectMode == Skin if sym VrAirMechHint == 0 menu3d addAnimScript MenuDpadHint0Customize as_VRMenuOut.txt"
cmd "if sym VrSelectMode == Skin if sym VrAirMechHint == 0 menu3d addAnimScript MenuDpadHint1Customize as_VRMenuIn.txt"
cmd "if sym VrSelectMode == Skin if sym VrAirMechHint == 0 sym set VrAirMechHint 1"
}
Script UnTouchMap {
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.1 sym set MenuTouch 1"
rcmd "menu3d addAnimScript #Map@_MArg1_@ as_VRMenuMapUnfocus.txt"
cmd "gameui focusid 0"
cmd "sym set MenuTouchCmd"
}
Script LoadRootVrMenu {
cmd "worldview moveToImmediate 0 0 0"
cmd "gfx set VR_Settings /shadowFocusDistance 200.0 /shadowRange 1500.0"
cmd "sym set MenuTouchCancelCmd"
cmd "sym set VrSelectMode null"
cmd "if !menu3dexists MenusVR runnow exec vr_menuCore.txt"
cmd "pcmd 1.5 sym set _EndGameSeqMsg_ 0"
cmd "sym setFrom RookLocal_${DebugRook} RookLocal"
}
Script HideRootMenu {
cmd "menu3d setInvisible MenusVRRoot"
cmd "menu3d addAnimScript MenuDiskPlay as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDiskMultiplayer as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDiskCountry as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuRingPlay as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuRingMultiplayer as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuRingCountry as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDecoCountry as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDecoHangar as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDecoPlay as_VRMenuHide.txt"
}
Script SelectSingleplayer {
cmd "menu3d setInvisible MenusVRRoot"
cmd "menu3d addAnimScript MenuDiskSingleplayer as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDiskMultiplayer as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDiskHangar as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDecoSingleplayer as_VRMenuDecoSPMenu.txt"
cmd "menu3d addAnimScript MenuDecoMultiplayer as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDecoHangar as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDecoCountry as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuDiskCountry as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuRingSingleplayer as_VRMenuRingSoloGrow.txt"
cmd "menu3d addAnimScript MenuRingCountry as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuRingHangar as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuRingMultiplayer as_VRMenuHide.txt"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.3 sym set MenuTouch 1"
rcmd "gameui focusid 0"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd SelectSingleplayerCancel"
cmd "worldview moveto -4 -4 0 /slew 0.1"
cmd "pcmd 0.3 menu3d setVisible MenusVRMaps"
cmd "pcmd 0.3 menu3d addAnimScript MapSimple as_VRMenuMapAppear.txt
cmd "pcmd 0.4 menu3d addAnimScript MapSurvival as_VRMenuMapAppear.txt
cmd "pcmd 0.5 menu3d addAnimScript MapSpiral as_VRMenuMapAppear.txt
cmd "pcmd 0.6 menu3d addAnimScript MapSandrim as_VRMenuMapAppear.txt
}
Script SelectSingleplayerCancel {
ignoreInputTime 0.7
cmd "pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "pcmd 0.3 menu3d addAnimScript MenuDiskHangar as_VRMenuAppear.txt"
cmd "pcmd 0.3 menu3d addAnimScript MenuDiskSingleplayer as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDiskMultiplayer as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDiskHangar as_VRMenuAppear.txt"
cmd "pcmd 0.1 menu3d addAnimScript MenuDecoSingleplayer as_VRMenuDecoSPMenuCancel.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDecoHangar as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDecoMultiplayer as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDecoCountry as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuDiskCountry as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuRingCountry as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuRingHangar as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuRingMultiplayer as_VRMenuAppear.txt"
cmd "pcmd 0.0 menu3d addAnimScript MenuRingSingleplayer as_VRMenuRingSoloShrink.txt"
cmd "pcmd 0.7 menu3d setVisible MenusVRRoot"
cmd "menu3d setInvisible MenusVRMaps"
rcmd "sym set MenuTouch 0"
rcmd "gameui focusid 0"
rcmd "sym set MenuTouchCmd"
cmd "pcmd 0.4 sym set MenuTouchCmd SelectSingleplayer"
rcmd "sym set MenuTouchCancelCmd"
cmd "pcmd 0.0 menu3d addAnimScript MapSimple as_VRMenuHide.txt
cmd "pcmd 0.05 menu3d addAnimScript MapSurvival as_VRMenuHide.txt
cmd "pcmd 0.1 menu3d addAnimScript MapSpiral as_VRMenuHide.txt
cmd "pcmd 0.15 menu3d addAnimScript MapSandrim as_VRMenuHide.txt
}
Script ReturnToLobbyVR {
rcmd "echo ReturnToLobbyVR"
ignoreInputTime 0.8
rcmd "sym set _VrMapTransition_ 1"
rcmd "clearmenu VrEndgame.txt"
rcmd "pausegame 0"
rcmd "console flushAllPendingSeq Tutorial Hint"
rcmd "sound fadeOutBus 1 0.25"
rcmd "net disconnect"
rcmd "sym set AvatarHead0_Cleared 1"
rcmd "sym set AvatarHead1_Cleared 1"
rcmd "sym set AvatarHead2_Cleared 1"
rcmd "sym set AvatarHead3_Cleared 1"
rcmd "sym set AvatarHead4_Cleared 1"
rcmd "sym set AvatarHead5_Cleared 1"
cmd "sym set VrTutorialStage 0"
cmd "sym set GameRangeMarkers 0"
cmd "rook toggleGameRangeMarkers 0"
rcmd "rook toggleDisplayRadarVR 0"
cmd "menu3d animate FortInside vr/FortDamage0.aaf playonce 0 1.0"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar0 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar1 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar2 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar3 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar4 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar5 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar0 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar1 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar2 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar3 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar4 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar5 as_VRAvatarIn.txt"
rcmd "menu3d remove Countdown"
rcmd "menu3d remove MenusVR"
rcmd "menu3d remove FortHealth"
rcmd "menu3d remove OverheadAirMech"
rcmd "menu3d remove BuildCubeRoot"
rcmd "menu3d remove StartMenuVR"
rcmd "menu3d remove Mechy"
cmd "menu3d remove Gamepad"
cmd "menu3d remove TextTestT"
cmd "menu3d remove TextTestS"
cmd "menu3d remove AirMechLogoVR"
cmd "menu3d remove UnitWedgeRoot"
cmd "menu3d remove AirMech"
cmd "menu3d remove TextObjective4"
cmd "menu3d remove TextObjective3"
cmd "menu3d remove TextObjective2"
cmd "menu3d remove TextObjective1"
cmd "menu3d remove TextObjectiveC"
cmd "menu3d remove Gamepad"
cmd "menu3d remove OverheadAirMech"
cmd "menu3d remove EdgeGrid"
cmd "menu3d remove BarrierGrid"
rcmd "gameui focusid 0"
rcmd "sym set VRMenuLoaded 0"
rcmd "sym set VrTutorial 0"
rcmd "sym set FortDestroyedVR 0"
rcmd "sym set SplashVR 0"
cmd "sym set VrSelectMode null"
cmd "sym set _VrTpDown_ 0"
cmd "sym set _VrTpOk_ 0"
cmd "sym set VrCustomizeArmy 0"
cmd "sym set WorldMode 0"
cmd "sym set VRMainMenu 1"
cmd "sym set LoadNormalMapInVR 0"
cmd "sym set WorldZoomOk 0"
cmd "sym set WorldViewZoom 1"
cmd "sym set IsSpectator 0"
cmd "pcmd 0.1 clearmenu AsyncNoticeDialogVr.txt"
cmd "menucmd SwitchToTableMode"
cmd "music stop"
cmd "pcmd 0.2 menucmd ResetToMainFromMatch"
rcmd "playsound VrButtonSelect"
}
Script VrEndgameLeave {
ignoreInputTime 0.1
rcmd "console flushAllPendingSeq VrEndgameWait"
cmd "menu3d remove EndgameLeavePrompt"
cmd "menucmd ReturnToMainMenuVR"
cmd "pcmd 1.0 menu3d addAnimScript EndgameBar as_VREndgameOut.txt 0.5"
cmd "pcmd 1.2 menu3d addAnimScript EndgameMechy as_VREndgameOut.txt 1.0"
cmd "pcmd 5.0 menu3d remove EndgameMechy EndgameBar"
cmd "menu3d animate EndgameMechy rooks/Mechy/Mechy_IntroWave.aaf playeOnce 0 1.0"
}
Script ReturnToMainMenuVR {
rcmd "sym set _MapTransition 1"
rcmd "sym setZero VrCustomizeArmy"
rcmd "menucmd RemoveObjectives"
rcmd "if sym VrMatchType == spec sym set VrMenuDestination ReturnToRootMenuVR"
rcmd "if sym VrMatchType == quest sym set VrMenuDestination ReturnToRootMenuVR"
rcmd "if sym VrMatchType == tutorial sym set VrMenuDestination ReturnToRootMenuVR"
rcmd "if sym VrMatchType == Solo sym set VrMenuDestination ReturnToLobbyVR"
rcmd "if sym VrMatchType == Solo sym set VrReturnToLobby 1"
rcmd "if netgame sym set VrMenuDestination ReturnToLobbyVR"
cmd "if sym VrMenuDestination != empty menucmd $$VrMenuDestination"
}
Script ReturnToRootMenuVR {
ignoreInputTime 0.8
cmd "if !menuloaded VrEndgame.txt sym set VrEndgameLoaded 0"
rcmd "sym set _VrMapTransition_ 1"
cmd "sym setZero VrCustomizeArmy VRMapSelectMode"
rcmd "clearmenu VrEndgame.txt"
rcmd "if sym VRMainMenu == 1 && sym MapName != survivaltutorial_vr && sym VrMatchType != spec runnow sym set ReturnFromVrTutorial 1"
rcmd "if sym VrTutorial == 1 && sym MapName == lobby_vr sym set ReturnFromVrTutorial 1"
rcmd "if sym VrTutorial == 1 && sym _TutorialStage == C runnow sym set TutorialVrCompleted 2"
rcmd "backend save"
rcmd "pausegame 0"
rcmd "sym set _TutorialStage A"
rcmd "console flushAllPendingSeq Tutorial Hint"
rcmd "sound fadeOutBus 1 0.25"
rcmd "net disconnect"
rcmd "sg quit /msg ReturnToMainMenuVR"
rcmd "sym setZero _RestoringVRLobby_"
rcmd "sym set SG_InGroup 0"
rcmd "sym set SG_Mem0_Present 0"
rcmd "sym set SG_Mem1_Present 0"
rcmd "sym set SG_Mem2_Present 0"
rcmd "sym set SG_Mem3_Present 0"
rcmd "sym set SG_Mem4_Present 0"
rcmd "sym set SG_Mem5_Present 0"
rcmd "sym set P_Player0IsOtherHuman 0"
rcmd "sym set P_Player1IsOtherHuman 0"
rcmd "sym set P_Player2IsOtherHuman 0"
rcmd "sym set P_Player3IsOtherHuman 0"
rcmd "sym set P_Player4IsOtherHuman 0"
rcmd "sym set P_Player5IsOtherHuman 0"
rcmd "sym set P_Player0IsOther 0"
rcmd "sym set P_Player1IsOther 0"
rcmd "sym set P_Player2IsOther 0"
rcmd "sym set P_Player3IsOther 0"
rcmd "sym set P_Player4IsOther 0"
rcmd "sym set P_Player5IsOther 0"
rcmd "sym set P_Player0Exists 0"
rcmd "sym set P_Player1Exists 0"
rcmd "sym set P_Player2Exists 0"
rcmd "sym set P_Player3Exists 0"
rcmd "sym set P_Player4Exists 0"
rcmd "sym set P_Player5Exists 0"
rcmd "sym set AvatarHead0_Cleared 1"
rcmd "sym set AvatarHead1_Cleared 1"
rcmd "sym set AvatarHead2_Cleared 1"
rcmd "sym set AvatarHead3_Cleared 1"
rcmd "sym set AvatarHead4_Cleared 1"
rcmd "sym set AvatarHead5_Cleared 1"
cmd "sym set VrTutorialStage 0"
cmd "sym set GameRangeMarkers 0"
cmd "rook toggleGameRangeMarkers 0"
rcmd "rook toggleDisplayRadarVR 0"
cmd "pcmd 0.5 menu3d animate FortInside vr/FortDamage0.aaf playonce 0 1.0"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar0 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar1 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar2 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar3 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar4 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GameAvatar5 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar0 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar1 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar2 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar3 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar4 as_VRAvatarIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript LobbyAvatar5 as_VRAvatarIn.txt"
rcmd "menu3d remove Countdown"
rcmd "menu3d remove MenusVR"
rcmd "menu3d remove FortHealth"
rcmd "menu3d remove OverheadAirMech"
rcmd "menu3d remove BuildCubeRoot"
rcmd "menu3d remove StartMenuVR"
rcmd "pfx stop Mechy"
rcmd "menu3d remove Mechy"
cmd "menu3d remove Gamepad"
cmd "menu3d remove TextTestT"
cmd "menu3d remove TextTestS"
cmd "menu3d remove AirMechLogoVR"
cmd "menu3d remove UnitWedgeRoot"
cmd "menu3d remove AirMech"
cmd "menu3d remove TextObjective4"
cmd "menu3d remove TextObjective3"
cmd "menu3d remove TextObjective2"
cmd "menu3d remove TextObjective1"
cmd "menu3d remove TextObjectiveC"
cmd "menu3d remove Gamepad"
cmd "menu3d remove OverheadAirMech"
cmd "menu3d remove EdgeGrid"
cmd "menu3d remove BarrierGrid"
cmd "menu3d remove ObjectiveMainBg"
cmd "menu3d remove ObjectiveMainText"
cmd "sym set DrawingObjectiveMainText 0"
rcmd "gameui focusid 0"
rcmd "sym set VRMenuLoaded 0"
rcmd "sym set FortDestroyedVR 0"
rcmd "sym set SplashVR 0"
cmd "sym set VrSelectMode null"
cmd "sym set _VrTpDown_ 0"
cmd "sym set _VrTpOk_ 0"
cmd "sym set VrTutorial 0"
cmd "console flushAllPendingSeq Tutorial Hint"
cmd "sym set WorldMode 0"
cmd "sym set LoadNormalMapInVR 0"
cmd "sym set WorldZoomOk 0"
cmd "sym set WorldViewZoom 1"
cmd "sym set IsSpectator 0"
cmd "sym set VrCustomizeArmy 0"
cmd "sym set HideGamepadText 1"
cmd "pcmd 0.1 clearmenu AsyncNoticeDialogVr.txt"
cmd "if sym ReturnFromVrTutorial == 0 && sym MapName != survivaltutorial_vr menucmd SwitchToTableMode"
cmd "sym set VRMainMenu 0"
cmd "pcmd 2.1 gfx set uniform fogargs 20000 1000"
cmd "music stop"
cmd "if sym ReturnFromVrTutorial == 0 pcmd 0.2 menucmd ResetToMainFromMatch"
cmd "if sym ReturnFromVrTutorial == 1 pcmd 0.2 menucmd ResetToMainFromTutorial"
rcmd "playsound VrButtonSelect"
}
Script SwitchToWorldMode {
rcmd "echo WorldMode"
rcmd "sym setZero _VrZoomIn_ _VrZoomOut_"
rcmd "rook toggleDisplayRadarVR 0"
rcmd "menu3d addAnimScript BuildCubeRoot as_VRBuildCubesBig.txt"
rcmd "menu3d addAnimScript GameAvatar0 as_VRAvatarBig.txt"
rcmd "menu3d addAnimScript GameAvatar1 as_VRAvatarBig.txt"
rcmd "menu3d addAnimScript GameAvatar2 as_VRAvatarBig.txt"
rcmd "menu3d addAnimScript GameAvatar3 as_VRAvatarBig.txt"
rcmd "menu3d addAnimScript GameAvatar4 as_VRAvatarBig.txt"
rcmd "menu3d addAnimScript GameAvatar5 as_VRAvatarBig.txt"
rcmd "menu3d addAnimScript Mechy as_VRMechyBig.txt"
cmd "gfx hmd setPosition 0 -340 150"
rcmd "worldview pixelclipto 3000 /lin 0.02"
rcmd "menu3d setInvisible TableGrid EdgeGrid FortInside FortInside2 InfoBanner NetworkStateOk"
rcmd "menu3d setRootScale BarrierGrid 640"
rcmd "gfx set uniform restoremapdfogcolor2"
rcmd "gfx set uniform restoremapdfogargs2"
rcmd "gfx set VR_Settings /shadowFocusDistance 1150.0 /shadowRange 2500.0"
rcmd "gfx set VR_Settings /forceRadius 640 /forceRadiusOffsetFwd 0 /menuCmdOnHitBarrier VR_hitbarrier"
rcmd "pcmd 0.02 gfx set VR_Settings /edgeClipColorDim 0.0"
rcmd "console flushAllPendingSeq WorldShiftPfx"
rcmd "pfx stopImmediate WorldShiftPfx"
}
Script SwitchToTableMode {
rcmd "echo TableMode"
rcmd "sym setZero _VrZoomIn_ _VrZoomOut_"
rcmd "pcmd 0.1 if sym MatchOver == 0 rook toggleDisplayRadarVR 1"
rcmd "menu3d addAnimScript FortHealth as_VRBuildCubesReset.txt"
rcmd "menu3d addAnimScript BuildCubeRoot as_VRBuildCubesReset.txt"
rcmd "menu3d addAnimScript GameAvatar0 as_VRAvatarReset.txt"
rcmd "menu3d addAnimScript GameAvatar1 as_VRAvatarReset.txt"
rcmd "menu3d addAnimScript GameAvatar2 as_VRAvatarReset.txt"
rcmd "menu3d addAnimScript GameAvatar3 as_VRAvatarReset.txt"
rcmd "menu3d addAnimScript GameAvatar4 as_VRAvatarReset.txt"
rcmd "menu3d addAnimScript GameAvatar5 as_VRAvatarReset.txt"
rcmd "if sym VrTutorial == 0 || sym VrTutorialStage > 6 runnow menu3d addAnimScript Mechy as_VRMechyNormal.txt"
cmd "if sym VrMatchFromDome == 0 gfx hmd setPosition /sym CamPositionGame"
rcmd "if sym VrMatchFromDome == 0 worldview pixelclipto 360 /lin 0.1
rcmd "menu3d setInvisible BarrierGrid"
rcmd "menu3d setRootScale BarrierGrid 320"
rcmd "pcmd t10 if sym WorldViewZoom != 4 runnow menu3d setVisible FortInside FortInside2 TableGrid EdgeGrid BarrierGrid InfoBanner NetworkStateOk"
rcmd "gfx set uniform restoremapdfogcolor"
rcmd "gfx set uniform restoremapdfogargs"
rcmd "gfx set VR_Settings /shadowFocusDistance 160.0 /shadowRange 800.0"
rcmd "gfx set VR_Settings /forceRadius 320 /forceRadiusOffsetFwd 0 /menuCmdOnHitBarrier VR_hitbarrier"
rcmd "gfx set VR_Settings /edgeClipColorDim 6.0"
}
Script TouchRoot {
rcmd "sym set MenuTouch 1"
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDiskFocus"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusGet.txt"
rcmd "if sym _MArg1_ == Play sym set MenuTouchCmd SelectPlay"
rcmd "if sym _MArg1_ == Options sym set MenuTouchCmd SelectOptions"
rcmd "if sym _MArg1_ == Hangar sym set MenuTouchCmd SelectHangar"
rcmd "if sym _MArg1_ == Army sym set MenuTouchCmd SelectArmy"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ #as_VRMenuDeco@_MArg1_@.txt"
rcmd "menucmdtry #TouchRoot@_MArg1_@"
rcmd "menucmd VrMenuTextFocus $_MArg1_"
rcmd "sym setFrom _VrArg_ _MArg1_"
rcmd "playsound VrButtonTouch"
rcmd "addanim as_VRMenuColStepOn.txt /tgt #MenuCol@_MArg1_@ /silentFail"
rcmd "pfx menu3dspawn VrMenuButtonTouch /menu3d #MenuDisk@_MArg1_@ /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActive /menu3d #MenuDisk@_MArg1_@ /bone bone_root /tag VrMenu"
}
Script TouchRootOptions {
rcmd "pcmd 0.05 menu3d addAnimScript MenuGear1 as_VRTouchGear1.txt 0.7"
rcmd "menu3d addAnimScript MenuGear2 as_VRTouchGear2.txt"
rcmd "menu3d addAnimScript MenuGear3 as_VRTouchGear3.txt"
}
Script UnTouchRootOptions {
rcmd "menu3d addAnimScript MenuGear1 as_VRMenuDecoRestore.txt"
rcmd "pcmd 0.1 menu3d addAnimScript MenuGear2 as_VRMenuDecoRestore.txt 0.9"
rcmd "pcmd 0.12 menu3d addAnimScript MenuGear3 as_VRMenuDecoRestore.txt"
}
Script UnTouchRoot {
rcmd "sym set MenuTouch 0"
cmd "pfx stop VrMenu"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoRestore.txt"
rcmd "addanim as_VRMenuColStepOff.txt /tgt #MenuCol@_MArg1_@ /silentFail"
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusLose.txt"
rcmd "menucmd VrMenuTextUnfocus #MenuLabel@_MArg1_@"
rcmd "menucmdtry #UnTouchRoot@_MArg1_@"
rcmd "menucmd UnTouchRootOptions"
rcmd "sym set _VrArg_"
}
Script TouchPlay {
rcmd "sym set MenuTouch 1"
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material  mat_MenuDiskFocus"
rcmd "addanim as_VRMenuColStepOn.txt /tgt #MenuCol@_MArg1_@ /silentFail"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusGet.txt"
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ #as_VRMenuDeco@_MArg1_@.txt"
rcmd "sym setFrom _VrArg_ _MArg1_"
rcmd "sym setFrom Gamemode _MArg1_"
rcmd "menucmd VrMenuTextFocus $_MArg1_"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root /tag VrMenu"
rcmd "if sym _MArg1_ != Spectate sym set MenuTouchCmd SetupLobby"
rcmd "if sym _MArg1_ == Spectate sym set MenuTouchCmd SelectSpectateLobby"
rcmd "if sym _MArg1_ == Spectate menu3d addAnimScript MenuDecoSpectate as_VROptionsCreditsFocus.txt 2"
rcmd "playsound VrButtonTouch"
}
Script UnTouchPlay {
rcmd "menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoRestore.txt"
rcmd "menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusLose.txt"
rcmd "addanim as_VRMenuColStepOff.txt /tgt #MenuCol@_MArg1_@ /silentFail"
rcmd "menucmd VrMenuTextUnfocus #MenuLabel@_MArg1_@"
rcmd "if sym _MArg1_ == Spectate rcmd menu3d addAnimScript MenuDecoSpectate as_VRMenuDecoRestore.txt 2"
rcmd "sym set _VrArg_"
rcmd "sym set MenuTouchCmd"
cmd "pfx stop VrMenu"
}
Script TouchLobby {
rcmd "sym set MenuTouch 1"
rcmd "if sym _MArg1_ != Launch menu3d updateCfg #MenuDisk@_MArg1_@ /material  mat_MenuDiskFocus"
rcmd "if sym _MArg1_ == Launch && sym SG_Members != 0 menu3d updateCfg #MenuDisk@_MArg1_@ /material  mat_MenuDiskFocus"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusGet.txt"
rcmd "addanim as_VRMenuColStepOn.txt /tgt #MenuCol@_MArg1_@ /silentFail"
rcmd "if sym _MArg1_ != Map menu3d addAnimScript #MenuDeco@_MArg1_@ #as_VRMenuDeco@_MArg1_@.txt"
rcmd "sym setFrom _VrArg_ _MArg1_"
rcmd "if sym _MArg1_ == Sandbox sym set MenuTouchCmd SelectSandbox"
rcmd "if sym _MArg1_ == Map sym set MenuTouchCmd LobbyGetReady"
rcmd "if sym _MArg1_ == Map menu3d addAnimScript MenusVRMaps as_VRMenuTilesIn.txt"
rcmd "if sym _MArg1_ == Map menu3d addAnimScript NewMapScreen as_VRMapScreenUp.txt"
rcmd "if sym _MArg1_ == Customize || sym _MArg1_ == Sandbox menucmd MapScreensFade"
rcmd "if sym _MArg1_ == Map sym set VRMapSelectButton 1"
rcmd "if sym _MArg1_ == Map || sym _MArg1_ == Launch sym set VRMapSelectMode 1"
rcmd "if sym _MArg1_ == Map menu3d addAnimScript MenuBotDifficulty as_VRBotDifficultyFade.txt"
rcmd "if sym _MArg1_ == Map || sym _MArg1_ == Launch sym set ButtonHintText1 Hint_MapSelect"
rcmd "if sym _MArg1_ == Customize gameui ignoreInputTime 0.2"
rcmd "if sym _MArg1_ == Customize runnow sym set VrAirMechHint 0"
rcmd "if sym _MArg1_ == Customize runnow sym set VrCustomizeInLobbyMode 1"
rcmd "if sym _MArg1_ == Customize sym set ButtonHintText1 Hint_VariantSelect"
rcmd "if sym _MArg1_ == Customize runnow sym set ButtonHintText2 Hint_AirMechSelect"
rcmd "if sym _MArg1_ == Customize menu3d addAnimScript MenuDpadHint1Customize as_VRMenuOut.txt"
rcmd "if sym _MArg1_ == Customize menu3d addAnimScript MenuDpadHint0Customize as_VRMenuIn.txt"
rcmd "if sym _MArg1_ == Customize menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyUp.txt"
rcmd "if sym _MArg1_ == Customize sym setPair VRAirmechCustomizeMode 1 VRAirmechFullCustomize 0"
rcmd "if sym _MArg1_ == Customize sym set MenuTouchCmd SelectHangar"
rcmd "if sym _MArg1_ == Customize || sym _MArg1_ == Map sym set MenuTouchCancelCmd SetupLobbyCancel_Pre"
rcmd "if sym _MArg1_ == PvP menucmd VrMenuTextFocus MenuLabelPvP VrMenu_PvP"
rcmd "menucmdtry #TouchLobby@_MArg1_@"
rcmd "playsound VrButtonTouch"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d #MenuDisk@_MArg1_@ /bone bone_root /tag VrMenu"
rcmd "if sym _MArg1_ == Launch runnow if sym Gamemode == Solo sym set MenuTouchCmd VRGame"
rcmd "if sym _MArg1_ == Launch runnow if sym Gamemode != Solo sym set MenuTouchCmd PressLobbyButtonSG"
}
Script TouchLobbySandbox {
cmd "menu3d addZSpin MenuDecoSandbox bone_root 150"
cmd "menucmd VrMenuTextFocus Sandbox"
}
Script UntouchLobbySandbox {
cmd "menu3d addZSpin MenuDecoSandbox bone_root 250 /tgt 0"
cmd "menucmd VrMenuTextUnfocus Sandbox"
}
Script TouchLobbyMap {
rcmd "sym init _VrMapTransition_ 0"
rcmd "if sym _VrMapTransition_ == 0 && sym _VrTransition_ != 1 playsound VrMapUnfold"
cmd "if sym _VrMapTransition_ == 0 && sym _VrTransition_ != 1 menu3d addAnimScript MenuDecoMap as_VRMenuDecoMapTouch.txt"
rcmd "if sym _VrMapTransition_ == 0 && sym _VrTransition_ == 1 pcmd_seq VrTouchMap 0.5 playsound VrMapUnfold"
cmd "if sym _VrMapTransition_ == 0 && sym _VrTransition_ == 1 pcmd_seq VrTouchMap 0.5 menu3d addAnimScript MenuDpadHintMap as_VRMenuIn.txt"
cmd "if sym _VrMapTransition_ == 0 && sym _VrTransition_ == 1 pcmd_seq VrTouchMap 0.5 menu3d addAnimScript MenuDecoMap as_VRMenuDecoMapTouch.txt"
cmd "sym set _VrTransition_ 0"
}
Script UntouchLobbyMap {
rcmd "console flushAllPendingSeq VrTouchMap"
rcmd "playsound VrMapFold"
}
Script PressLobbyButtonSG {
rcmd "if sym SG_Members == 0 playsound UIOrderFailCredits.wav"
rcmd "if sym SG_Members != 0 && sym SG_AmIReady == 0 sg setReady 1"
rcmd "if sym SG_Members != 0 && sym SG_AmIReady == 0 playsound UIOrderPatrol.wav"
rcmd "if sym SG_Members != 0 && sym SG_AmIReady == 0 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
rcmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 && sym SG_IsOwner == 1 && sym SG_OthersInGame == 0 menucmd SGVrLaunch"
rcmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 && sym SG_IsOwner == 0 sg setReady 0"
rcmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 && sym SG_IsOwner == 0 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskNotReady"
rcmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 && sym SG_IsOwner == 0 playsound UICockpitDismiss.wav"
}
Script SGVrLaunch {
ignoreInputTime 3.0
rcmd "ECHO SGVrLaunch $MapName"
rcmd "sg checkMapVote MapName $MapName"
rcmd "if sym MapName == survival_vr || sym MapName == spiral_vr || sym MapName == laststand_vr runnow sym set Gamemode PvE"
cmd "if sym Gamemode == Coop sg startgame $MapName /mode coop"
cmd "if sym Gamemode == PvP sg startgame $MapName /mode pvp"
cmd "if sym Gamemode == PvE sg startgame $MapName /mode pve"
}
Script PressLobbyButtonSG_Results {
cmd "if sym SG_Members == 0 playsound UIOrderFailCredits.wav"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 playsound UIOrderPatrol.wav"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 0 playsound UICockpitDismiss.wav"
cmd "if sym SG_AmIReady == 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
cmd "if sym SG_AmIReady != 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskNotReady"
}
Script UnTouchLobby {
ignoreInputTime 0.25
rcmd "if sym _MArg1_ == Map menu3d addAnimScript MenusVRMaps as_VRMenuTilesOut.txt"
rcmd "if sym _MArg1_ == Map menu3d addAnimScript NewMapScreen as_VRMapScreenDown.txt"
rcmd "if sym _MArg1_ == Map menu3d addAnimScript MenuBotDifficulty as_VRBotDifficultyRestore.txt"
rcmd "if sym _MArg1_ == Customize || sym _MArg1_ == Sandbox menu3d animate MenuDecoMap vr/MenuMapScreenToBig.aaf playOnce 0 1"
rcmd "if sym _MArg1_ == Map sym set VRMapSelectButton 0"
rcmd "if sym _MArg1_ != Map menu3d addAnimScript MenuDecoMap as_VRMenuDecoMapTouch.txt"
rcmd "addanim as_VRMenuColStepOff.txt /tgt #MenuCol@_MArg1_@ /silentFail"
rcmd "if sym _MArg1_ != Map menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoRestore.txt"
rcmd "menucmdtry #UntouchLobby@_MArg1_@"
rcmd "if sym _MArg1_ != Launch menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "if sym _MArg1_ == Launch if sym Gamemode == Solo menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
rcmd "if sym _MArg1_ == Launch if sym SG_Members == 0 && sym Gamemode != Solo menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskNotReady"
rcmd "if sym _MArg1_ == Launch if sym SG_Members != 0 && sym SG_AmIReady == 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
rcmd "if sym _MArg1_ == Launch if sym SG_Members != 0 && sym SG_AmIReady != 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskNotReady"
rcmd "if sym _MArg1_ == Customize menu3d addAnimScript #MenuDpadHint@VrAirMechHint@Customize as_VRMenuOut.txt"
rcmd "if sym _MArg1_ == Customize || sym _MArg1_ == Sandbox menucmd MapScreensRestore"
rcmd "if sym _MArg1_ == Customize sym set ButtonHintText2 Hint_DifficultySelect"
rcmd "if sym _MArg1_ == Customize pcmd 0 sym set VrCustomizeInLobbyMode 0"
rcmd "if sym _MArg1_ == Customize sym setZero VRAirmechCustomizeMode VRAirmechFullCustomize"
rcmd "if sym _MArg1_ == Customize if sym VrMatchFromDome == 0 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyDown.txt"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRDiskFocusLose.txt"
rcmd "menucmd VrMenuTextUnfocus #MenuLabel@_MArg1_@"
cmd "pfx stop VrMenu"
rcmd "sym set _VrArg_"
rcmd "sym set MenuTouchCancelCmd SetupLobbyCancel_Pre"
rcmd "if menu3dexists MenuClasses runnow sym set MenuTouchCancelCmd"
rcmd "if menu3dexists MenuSandbox runnow sym set MenuTouchCancelCmd SelectSandboxCancel"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd SetupLobbyCancel_Pre"
rcmd "if menu3dexists MenuClasses sym set MenuTouchCmd"
rcmd "if menu3dexists MenuClasses sym set MenuTouchCancelCmd SelectHangarCancel"
rcmd "if menu3dexists MenuSandbox sym set MenuTouchCmd SelectSandboxCancel"
rcmd "if menu3dexists MenuSandbox sym set MenuTouchCancelCmd SelectSandboxCancel"
rcmd "sym set VRMapSelectMode 1"
rcmd "sym set ButtonHintText1 Hint_MapSelect"
}
Script SetupLobbyCancel_Pre {
cmd "if sym SG_Members == 0 menucmd SetupLobbyCancel"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 sg setReady 0"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 playsound UICockpitDismiss.wav"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 1 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskNotReady"
cmd "if sym SG_Members != 0 && sym SG_AmIReady == 0 menucmd SetupLobbyCancel"
}
Script VrMenuTextFocus {
rcmd "sym set VrMenuText"
rcmd "sym set VrMenuTextDesc"
rcmd "pcmd 0.3 if sym VrCustomizeArmy == 0 sym set VrMenuText #VrMenu_@_MArg1_@"
rcmd "pcmd 0.3 if sym VrCustomizeArmy == 0 sym set VrMenuTextDesc #VrMenu_@_MArg1_@Desc"
rcmd "menu3d addAnimScript #MenuLabel@_MArg1_@ as_VRMenuTextFocus.txt 1.0"
cmd "floatsym set S_VrMenuText 0.0"
}
Script VrMenuTextUnfocus {
rcmd "menu3d addAnimScript $_MArg1_ as_VRMenuTextUnfocus.txt 1.0"
}
Script SelectMultiplayerCancel {
ignoreInputTime 0.7
cmd "pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "pcmd 0.3 menu3d addAnimScript MenuDiskSingleplayer as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDiskMultiplayer as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDiskHangar as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDecoHangar as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDecoSingleplayer as_VRMenuAppear.txt"
cmd "pcmd 0.1 menu3d addAnimScript MenuDecoMultiplayer as_VRMenuDecoMPMenuCancel.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuDecoCountry as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuDiskCountry as_VRMenuAppear.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuRingCountry as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuRingSingleplayer as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuRingHangar as_VRMenuAppear.txt"
cmd "pcmd 0.0 menu3d addAnimScript MenuRingMultiplayer as_VRMenuRingMultiShrink.txt"
cmd "pcmd 0.7 menu3d setVisible MenusVRRoot"
cmd "menu3d setInvisible MenusVRMaps"
rcmd "sym set MenuTouch 0"
rcmd "gameui focusid 0"
rcmd "sym set MenuTouchCmd"
cmd "pcmd 0.4 sym set MenuTouchCmd SelectMultiplayer"
rcmd "sym set MenuTouchCancelCmd"
cmd "menucmd RemoveGlobe"
cmd "sg quit /msg SelectMultiplayerCancel"
cmd "sym setZero _RestoringVRLobby_"
}
Script ShowVrMenuSet {
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0.1 menu3d addAnimScript #MenuRing@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0.2 menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0.6 addanim as_VRMenuColStepOff.txt /tgt #MenuCol@_MArg1_@ /silentFail"
}
Script ShowVrMenuSetFocused {
rcmd "pcmd 0 menu3d setVisible #MenuDisk@_MArg1_@"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusGet.txt"
rcmd "pcmd 0.1 menu3d addAnimScript #MenuRing@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0 menu3d setVisible #MenuDeco@_MArg1_@"
rcmd "pcmd 0 menu3d addAnimScript #MenuDeco@_MArg1_@ #as_VRMenuDeco@_MArg1_@.txt"
}
Script ShowVrMenuSetLobbyFromMap {
rcmd "pcmd 0 menu3d setVisible #MenuDisk@_MArg1_@"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusGet.txt"
rcmd "pcmd 0.1 menu3d addAnimScript #MenuRing@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0 menu3d setVisible #MenuDeco@_MArg1_@"
rcmd "pcmd 0 menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoMapUnfeature.txt"
}
Script HideVrMenuSet {
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuHide.txt"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusLose.txt"
rcmd "pcmd 0.1 menu3d addAnimScript #MenuRing@_MArg1_@ as_VRMenuHide.txt"
rcmd "pcmd 0.2 menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuHide.txt"
rcmd "addanim as_VRMenuColDown.txt /tgt #MenuCol@_MArg1_@ /silentFail"
}
Script ResetVrMenuSet {
rcmd "pcmd 0 menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusLose.txt"
rcmd "pcmd 0.1 menu3d addAnimScript #MenuRing@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0.2 menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoRestore.txt"
rcmd "pcmd 0.6 addanim as_VRMenuColStepOff.txt /tgt #MenuCol@_MArg1_@ /silentFail"
}
Script ReturnToVrMenuSet {
rcmd "pcmd 0 menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusLose.txt"
rcmd "pcmd 0.1 menu3d addAnimScript #MenuRing@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0.2 menu3d addAnimScript #MenuDeco@_MArg1_@ as_VRMenuDecoRestore.txt"
rcmd "pcmd 0.2 addanim as_VRMenuColStartOn.txt /tgt #MenuCol@_MArg1_@ /silentFail"
}
Script ReturnToVrMenuSetNoDeco {
rcmd "pcmd 0 menu3d updateCfg #MenuDisk@_MArg1_@ /material mat_MenuDisk"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0 menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusLose.txt"
rcmd "pcmd 0.1 menu3d addAnimScript #MenuRing@_MArg1_@ as_VRMenuAppear.txt"
rcmd "pcmd 0.2 addanim as_VRMenuColStartOn.txt /tgt #MenuCol@_MArg1_@ /silentFail"
}
Script HideVrQuests {
rcmd "pcmd 0 menu3d addAnimScript MenuQuestCards as_VRMenuHide.txt"
}
Script SelectPlay {
ignoreInputTime 0.6
cmd "exec vr_menuPlay.txt"
cmd "sym set LastVrMenu Play"
cmd "worldview moveto 3 0 0 /slew 0.1"
cmd "menu3d setInvisible MenusVRRoot"
cmd "menucmd VrMenuTextUnfocus MenuLabelPlay"
cmd "pcmd 1.0 menu3d setVisible MenusVRPlay"
cmd "menucmd HideVrMenuSet Play"
cmd "menucmd HideVrMenuSet Hangar"
cmd "menucmd HideVrMenuSet Options"
cmd "menucmd HideVrMenuSet Quests"
cmd "menucmd HideVrMenuSet Army"
cmd "menucmd HideVrQuests"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 menu3d remove MenusVRRoot"
cmd "pcmd 0.5 state .MenuColPlay terminate"
cmd "pcmd 0.5 state .MenuColOptions terminate"
cmd "pcmd 0.5 state .MenuColHangar terminate"
cmd "pcmd 0.5 state .MenuColQuests terminate"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectPlayCancel"
rcmd "playsound VrButtonSelect"
}
Script SelectPlayCleanup {
ignoreInputTime 0.6
rcmd "sym set VrSelectMode null"
rcmd "menu3d setInvisible MenusVRPlay"
rcmd "pcmd 0.6 menu3d remove MenusVRPlay"
rcmd "menucmd HideVrMenuSet Solo"
rcmd "pcmd 0.1 menucmd HideVrMenuSet Coop"
rcmd "pcmd 0.2 menucmd HideVrMenuSet PvP"
rcmd "pcmd 0.2 menucmd HideVrMenuSet Spectate"
rcmd "pcmd 0.2 menucmd HideVrMenuSet PlayFriends"
rcmd "pcmd 0.4 state .MenuColPvP terminate"
rcmd "pcmd 0.2 state .MenuColSolo terminate"
rcmd "pcmd 0.3 state .MenuColCoop terminate"
rcmd "pcmd 0.3 state .MenuColSpectate terminate"
rcmd "pcmd 0.3 state .MenuColPlayFriends terminate"
}
Script SelectPlayCancel {
ignoreInputTime 0.6
rcmd "menucmd SelectPlayCleanup"
cmd "pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "pcmd 0.25 if !menu3dexists MenusVR runnow exec vr_menuCore.txt"
cmd "pcmd 0.3 exec vr_menuMain.txt"
rcmd "sym set MenuTouch 0"
rcmd "sym setZero VRAirmechCustomizeMode VRAirmechFullCustomize"
rcmd "sym set MenuTouchCmd"
cmd "pcmd 0.5 sym set MenuTouchCmd SelectPlay"
rcmd "sym set MenuTouchCancelCmd"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.1 menucmd ReturnPlayerToMenu Play"
}
Script ReturnPlayerToMenu {
rcmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
rcmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
rcmd "pcmd t1 player 0 setPosition $_WorldPos@_MArg1_@ 1"
cmd "pfx stop VrMenu"
cmd "pcmd t3 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd t3 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
}
Script SelectSandbox {
ignoreInputTime 0.5
cmd "exec vr_menuSandbox.txt"
cmd "if sym PrevVrMenu == Root state .MenuColPlay terminate"
cmd "if sym PrevVrMenu == Root state .MenuColOptions terminate"
cmd "if sym PrevVrMenu == Root state .MenuColHangar terminate"
cmd "if sym PrevVrMenu == Root state .MenuColQuests terminate"
rcmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColDown.txt /tgt MenuColMap /silentFail"
rcmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColDown.txt /tgt MenuColCustomize /silentFail"
rcmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColDown.txt /tgt MenuColSandbox /silentFail"
cmd "if sym PrevVrMenu == Lobby menucmd UntouchLobbySandbox"
cmd "if sym PrevVrMenu == Lobby menucmd HideVrMenuSet Map"
cmd "if sym PrevVrMenu == Lobby menucmd HideVrMenuSet Customize"
cmd "if sym PrevVrMenu == Lobby menucmd HideVrMenuSet Sandbox"
cmd "if sym PrevVrMenu == Lobby menucmd HideVrMenuSet Launch"
cmd "if sym PrevVrMenu == Lobby menu3d addAnimScript MenuInfoLaunch as_VRMenuHide.txt"
cmd "if sym PrevVrMenu == Lobby menu3d setInvisible MenusVRLobby"
cmd "if sym PrevVrMenu == Lobby menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyOut.txt"
cmd "menucmd VrMenuTextUnfocus MenuLabelSandbox"
cmd "if sym PrevVrMenu == Lobby runnow worldview moveto -4 -4 0 /slew 0.1"
cmd "worldview scaleto 7.0 /slew 0.1"
cmd "sym set WorldViewZoom 1"
rcmd "sym set MenuTouch 0"
cmd "menu3d setVisible MenusAirMechs"
cmd "pcmd 0.5 sym set MenuTouch 1"
rcmd "pcmd 0.9 sym setRand SpawnSandboxSet SpawnSandboxTanks SpawnSandboxGenerators SpawnSandboxDrill SpawnSandboxCreeper SpawnSandboxCreeper"
rcmd "pcmd_seq 1414 1.0 menucmd $SpawnSandboxSet"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectSandboxCancel"
rcmd "playsound VrButtonSelect"
}
Script SpawnSandboxGenerators {
cmd "pcmd_seq 1414 0.0 spawn GenXP /pos 16 -2 0 /zrot 0 /team 1 /label Sandbox"
cmd "pcmd_seq 1414 0.1 spawn GenPower /pos 11 -7 0 /zrot 0 /team 1 /label Sandbox"
cmd "pcmd_seq 1414 0.2 spawn MoneyMaker /pos 4 -10 0 /zrot 0 /team 1 /label Sandbox"
cmd "pcmd_seq 1414 0.3 spawn GenPower /pos -3 -7 0 /zrot 0 /team 1 /label Sandbox"
cmd "pcmd_seq 1414 0.4 spawn GenXP /pos -8 -2 0 /zrot 0 /team 1 /label Sandbox"
}
Script SpawnSandboxDrill {
cmd "spawn TurretDual /pos 15 4 0 /zrot 90 /team 1 /label Sandbox"
cmd "spawn TankDrill /pos -6 -1 0 /zrot -70 /team 0 /label Sandbox"
}
Script SpawnSandboxCreeper {
cmd "spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414 0.1 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.2 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.3 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.4 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.5 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.6 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.7 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.8 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.9 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.0 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.1 spawn Creeper /pos 4 4 0 /circle 10 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.2 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.3 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.4 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.5 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.6 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.7 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.8 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  1.9 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  2.0 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  2.1 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  2.2 spawn Creeper /pos 4 4 0 /circle 14 /team 1 /label Sandbox"
}
Script SpawnSandboxTanks {
cmd "pcmd_seq 1414 0.1 spawn Tank /pos 8 -5 0 /zrot 30 /circle 3 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.2 spawn Tank /pos 8 -5 0 /zrot -15 /circle 3 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.3 spawn Tank /pos 8 -5 0 /zrot 160 /circle 3 /team 1 /label Sandbox"
cmd "pcmd_seq 1414  0.4 spawn SupplyTank /pos 8 -5 0 /zrot 240 /circle 4 /team 1 /label Sandbox"
}
Script SelectSandboxCancel {
rcmd "playerinputpause 1 local"
rcmd "menu3d setInvisible MenusSandbox"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.6 sym set MenuTouch 1"
rcmd "sym setZero VRAirmechCustomizeMode VRAirmechFullCustomize"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
cmd "sym set VrSelectMode null"
cmd "worldview scaleto 18.0 /lin 0.1"
cmd "sym set WorldViewZoom 2"
cmd "state .Sandbox terminate"
cmd "kill units 0 silent ignoreLatched"
cmd "kill units 1 silent ignoreLatched"
cmd "console flushAllPendingSeq 1414"
cmd "if sym PrevVrMenu == Lobby menu3d addAnimScript MenuInfoLaunch as_VRMenuAppear.txt"
cmd "if sym PrevVrMenu == Lobby pcmd 0.2 menu3d setVisible MenusVRLobby"
cmd "if sym PrevVrMenu == Lobby pcmd 0.2 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "if sym PrevVrMenu == Lobby pcmd 0.3 menucmd LobbyGetReady"
cmd "if sym PrevVrMenu == Lobby menucmd ResetVrMenuSet Map"
cmd "if sym PrevVrMenu == Lobby menucmd MapScreensRestore"
cmd "if sym PrevVrMenu == Lobby menucmd ResetVrMenuSet Sandbox"
cmd "if sym PrevVrMenu == Lobby menucmd ResetVrMenuSet Customize"
cmd "if sym PrevVrMenu == Lobby menucmd ShowVrMenuSet Launch"
cmd "if sym PrevVrMenu == Lobby pcmd 0 player 0 setPosition -1.5 2.0 0.55"
cmd "if sym PrevVrMenu == Lobby pcmd 0.51 sym set MenuTouchCancelCmd SetupLobbyCancel_Pre"
cmd "if sym PrevVrMenu == Lobby sym set VrDrawAirMech Quick"
cmd "if sym PrevVrMenu == Lobby menucmd DrawAirMechSingleTexture"
cmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColUp.txt /tgt MenuColMap /silentFail"
cmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColUp.txt /tgt MenuColCustomize /silentFail"
cmd "if sym PrevVrMenu == Lobby pcmd 0 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobby.txt"
cmd "if sym PrevVrMenu == Lobby && sym Gamemode == Solo pcmd 0.2 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady""
cmd "if sym PrevVrMenu == Root pcmd 0.3 exec vr_menuMain.txt"
cmd "if sym PrevVrMenu == Root pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "pcmd 0.5 menu3d remove MenuSandbox"
cmd "pcmd 0.5 sym set MenuTouchCmd SelectSandbox"
rcmd "pcmd 0.5 playerinputpause 0 local"
rcmd "playsound VrButtonSelect"
}
Script LobbyGetReady {
rcmd "menu3d writeWorldPos MenuDiskLaunch _WorldPosLaunch /xy"
rcmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
rcmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
rcmd "pcmd t1 player 0 setPosition $$_WorldPosLaunch 1"
cmd "pfx stop VrMenu"
cmd "pcmd t3 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd t3 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
}
Script MenuDiskUnlockContactOn {
cmd "menu3d addAnimScript MenuDiskUnlockGo as_VRMenuFocusReady.txt"
cmd "menu3d setVisible MenuDiskUnlockGo"
cmd "addanim as_VRMenuColUnlock.txt /tgt MenuColUnlock"
cmd "menu3d animate MenuDiskUnlock vr/UnlockDiskOpen.aaf playonce 0 1.5"
cmd "sym set PreviewingUnlockReady 1"
}
Script MenuDiskUnlockContactOff {
cmd "menu3d animate MenuDiskUnlock vr/UnlockDiskOpen.aaf playOnceRev 0 1.0"
cmd "menu3d addAnimScript MenuDiskUnlockGo as_VRMenuFocusReady.txt"
cmd "menu3d setInvisible MenuDiskUnlockGo"
cmd "addanim as_VRMenuColDown.txt /tgt MenuColUnlock /silentFail"
cmd "sym set PreviewingUnlockReady 0"
}
Script MenuDiskUnlockFlairContactOn {
cmd "menu3d addAnimScript MenuDiskUnlockFlairGo as_VRMenuFocusReady.txt"
cmd "menu3d setVisible MenuDiskUnlockFlairGo"
cmd "addanim as_VRMenuColUnlock.txt /tgt MenuColUnlockFlair"
cmd "menu3d animate MenuDiskUnlockFlair vr/UnlockDiskOpen.aaf playonce 0 1.5"
cmd "sym set PreviewingUnlockReady 1"
}
Script MenuDiskUnlockFlairContactOff {
cmd "menu3d animate MenuDiskUnlockFlair vr/UnlockDiskOpen.aaf playOnceRev 0 1.0"
cmd "menu3d addAnimScript MenuDiskUnlockFlairGo as_VRMenuFocusReady.txt"
cmd "menu3d setInvisible MenuDiskUnlockFlairGo"
cmd "addanim as_VRMenuColDown.txt /tgt MenuColUnlockFlair /silentFail"
cmd "sym set PreviewingUnlockReady 0"
}
Script SelectHangar {
ignoreInputTime 1.25
rcmd "sym set _VrArg_"
cmd "sym set VrCustomizeInLobbyMode 0"
cmd "sym set VrSelectMode AirMech"
cmd "sym set LastVrMenu Hangar"
cmd "sym set VRMapSelectMode 0"
rcmd "sym set ButtonHintText1 Hint_AirMechSelect"
cmd "menucmd SetupAirMechClasses"
cmd "menu3d addChild MenusVR MenusVRCustomize /rootRot 0 0 42 /worldPose 0 -100 150 /rootScale 1.0"
cmd "menu3d addChild MenusVR MenuHangar /rootRot 0 0 0 /worldPose 0 0 0 /rootScale 1.0"
cmd "sym setl _PosPets -80 -30"
cmd "menu3d addChild MenuHangar MenuDiskPets /model vr/MenuDisk.amf /material mat_MenuDisk /noVis /worldPose $$_PosPets 0 /rootScale 0.35 0.35 1.0 /hiddenCheckBySymbolValue VrCustomizeType=pets"
cmd "menu3d logicFnc MenuDiskPets amFocusCapsule /radiusInner 20.0 /height 30.0 /skinDepth 10.0 /cmdfocus [menucmd TouchHangar Pets] /cmdunfocus [menucmd UnTouchHangar Pets]"
cmd "menu3d addChild MenuHangar MenuRingPets /model vr/MenuRing2.amf /material mat_MenuRing2 /noVis /worldPose $$_PosPets 0 /rootScale 0.4 /hiddenCheckBySymbolValue VrCustomizeType=pets"
cmd "menu3d addChild MenuHangar MenuDecoPets /model flair/JetpackCat/JetpackCat.amf /material mat_JetpackCat /noVis /worldPose $$_PosPets 24.0 /rootScale 15 /rootRot 0 0 -180 /hiddenCheckBySymbolValue VrCustomizeType=pets"
cmd "menu3d addChild MenuHangar MenuLabelPets /model vr/MenuTextFlat.amf /material mat_RenderToTextureVR_UnlitStdBlend /noVis /worldPose $$_PosPets -30 /rootScale 3.4 /rootRot 5 0 220"
cmd "menu3d animate MenuDecoPets flair/JetpackCat/Idle.aaf looping 0 0.5"
cmd "sym setl _PosHats 80 -30"
cmd "menu3d addChild MenuHangar MenuDiskHats /model vr/MenuDisk.amf /material mat_MenuDisk /noVis /worldPose $$_PosHats 0 /rootScale 0.35 0.35 1.0 /hiddenCheckBySymbolValue VrCustomizeType=heads"
cmd "menu3d logicFnc MenuDiskHats amFocusCapsule /radiusInner 20.0 /height 30.0 /skinDepth 10.0 /cmdfocus [menucmd TouchHangar Hats] /cmdunfocus [menucmd UnTouchHangar Hats]"
cmd "menu3d addChild MenuHangar MenuRingHats /model vr/MenuRing2.amf /material mat_MenuRing2 /noVis /worldPose $$_PosHats 0 /rootScale 0.4 /hiddenCheckBySymbolValue VrCustomizeType=heads"
cmd "menu3d addChild MenuHangar MenuDecoHats /model flair/HatTB/HatTB.amf /material mat_HatTB /noVis /worldPose $$_PosHats 24.0 /rootScale 30 /rootRot 0 0 -180 /hiddenCheckBySymbolValue VrCustomizeType=heads"
cmd "menu3d addChild MenuHangar MenuLabelHats /model vr/MenuTextFlat.amf /material mat_RenderToTextureVR_UnlitStdBlend /noVis /worldPose $$_PosHats -30 /rootScale 3.4 /rootRot 5 0 150"
cmd "menu3d animate MenuDecoHats flair/JetpackCat/Idle.aaf looping 0 0.2"
rcmd "sym setFrom AirMechActiveLast RookLocal"
cmd "sym setl _PosMechs 0 -80"
cmd "menu3d addChild MenuHangar MenuDiskMechs /model vr/MenuDisk.amf /material mat_MenuDisk /noVis /worldPose $$_PosMechs 0 /rootScale 0.35 0.35 1.0 /hiddenCheckBySymbolValue VrCustomizeType=class"
cmd "menu3d logicFnc MenuDiskMechs amFocusCapsule /radiusInner 20.0 /height 30.0 /skinDepth 10.0 /cmdfocus [menucmd TouchHangar Mechs] /cmdunfocus [menucmd UnTouchHangar Mechs]"
cmd "menu3d addChild MenuHangar MenuRingMechs /model vr/MenuRing2.amf /material mat_MenuRing2 /noVis /worldPose $$_PosMechs 0 /rootScale 0.4 /hiddenCheckBySymbolValue VrCustomizeType=class"
cmd "menu3d addChild MenuHangar MenuDecoMechs /model rooks/Angel/AngelAir.amf /material mat_AngelGrey /noVis /worldPose $$_PosMechs 24.0 /rootScale 10 /rootRot -25 -30 -120 /hiddenCheckBySymbolValue VrCustomizeType=class"
cmd "menu3d addChild MenuHangar MenuLabelMechs /model vr/MenuTextFlat.amf /material mat_RenderToTextureVR_UnlitStdBlend /noVis /worldPose 10 -80 0 /rootScale 2.5 /rootRot 5 0 180"
cmd "menu3d animate MenuDecoMechs flair/JetpackCat/Idle.aaf looping 0 0.2"
cmd "menu3d addChild MenuHangar LockGrid /model vr/LockGrid.amf	/material mat_TableGridLocked /rootRot 0 0 0 /worldPose 0 0 0.1 /rootScale 100.0 /noVis /noShadowCast"
cmd "menu3d addChild MenuHangar MenuDiskUnlock /model vr/UnlockDisk.amf /material mat_UnlockDisk /noVis /rootScale 0.76 /worldPose 0 67 0"
cmd "menu3d addChild MenuHangar MenuDiskUnlockGo /model vr/MenuDisk.amf /material mat_MenuDiskFocus /noVis /rootScale 0.6 0.6 0.8 /worldPose 0 67 0"
cmd "if sym PrevVrMenu != Lobby pcmd 0.48 menu3d writeWorldPos MenuDiskUnlock _WorldPosUnlock /xy"
cmd "pcmd 0.5 spawn VRMenuSphereCol3 /posSym _WorldPosUnlock /posZ -3.4 /label MenuColUnlock"
cmd "menu3d logicFnc MenuDiskUnlock amFocusCapsule /radiusInner 20.0 /height 50.0 /skinDepth 5.0 /cmdfocus [menucmd MenuDiskUnlockContactOn] /cmdunfocus [menucmd MenuDiskUnlockContactOff]"
cmd "menu3d addChild MenuHangar MenuDpadHint0Hangar /model vr/Dpad2.amf /material mat_Gamepad /material mat_RenderToTextureVR_UnlitStdBlend /worldPose -200 30 136 /rootScale 30 /rootRot 90 0 45 /noVis /hiddenCheckBySymbolValue VrCustomizeType!class"
cmd "pcmd 0.4 sym set ButtonHintText2 Hint_AirMechSelect"
cmd "menu3d addChild MenuHangar MenuDpadHint1Hangar /model vr/Dpad1.amf /material mat_Gamepad /material mat_RenderToTextureVR_UnlitStdBlend /worldPose -200 30 100 /rootScale 30 /rootRot 90 0 45 /noVis"
cmd "pcmd 0.4 sym set ButtonHintText1 Hint_VariantSelect"
cmd "sym set VrCustomizeType class"
cmd "pcmd 0.5 sym set VrCustomizeMode 1"
cmd "if sym PrevVrMenu == Root menu3d setInvisible MenusVRRoot"
cmd "if sym PrevVrMenu == Root menucmd HideVrMenuSet Play"
cmd "if sym PrevVrMenu == Root menucmd HideVrMenuSet Hangar"
cmd "if sym PrevVrMenu == Root menucmd HideVrMenuSet Options"
cmd "if sym PrevVrMenu == Root menucmd HideVrMenuSet Quests"
cmd "if sym PrevVrMenu == Root menucmd HideVrMenuSet Army"
cmd "if sym PrevVrMenu == Root menucmd HideVrQuests"
cmd "if sym PrevVrMenu == Root pcmd 0.6 menu3d remove MenusVRRoot"
cmd "if sym PrevVrMenu == Lobby menucmd RotateAvatars Customize"
rcmd "if sym PrevVrMenu == Lobby menucmd MapScreensFadeAll"
rcmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColDown.txt /tgt MenuColMap /silentFail"
rcmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColDown.txt /tgt MenuColCustomize /silentFail"
rcmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColDown.txt /tgt MenuColSandbox /silentFail"
cmd "if sym PrevVrMenu == Lobby runnow sym set VrCustomizeInLobbyMode 0"
cmd "if sym PrevVrMenu == Lobby menucmd HideVrMenuSet Map"
cmd "if sym PrevVrMenu == Lobby menucmd HideVrMenuSet Customize"
cmd "if sym PrevVrMenu == Lobby if sym FriendInvite == 0  menucmd HideVrMenuSet Sandbox"
cmd "if sym PrevVrMenu == Lobby if sym FriendInvite == 1  menucmd HideVrMenuSet LobbyFriends"
cmd "if sym PrevVrMenu == Lobby menucmd HideVrMenuSet Launch"
cmd "if sym PrevVrMenu == Lobby menu3d addAnimScript MenuInfoLaunch as_VRMenuHide.txt"
cmd "if sym PrevVrMenu == Lobby menu3d setInvisible MenusVRLobby"
cmd "if sym PrevVrMenu == Lobby menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyOut.txt"
cmd "menucmd VrMenuTextUnfocus MenuLabelHangar"
cmd "if sym PrevVrMenu == Flair runnow worldview moveto -5.8 0 0 /slew 0.1"
cmd "if sym PrevVrMenu == Root runnow worldview moveto -3.5 -0.5 0 /slew 0.1"
cmd "if sym PrevVrMenu == Lobby runnow worldview moveto -5.8 0 0 /slew 0.1"
cmd "worldview scaleto 24.0 /slew 0.1"
cmd "sym set WorldViewZoom 3"
cmd "pcmd 0.4 menu3d addAnimScript MenuDpadHint0Hangar as_VRMenuIn.txt
cmd "pcmd 0.4 menu3d addAnimScript MenuDpadHint1Hangar as_VRMenuIn.txt
cmd "pcmd 0.2 menu3d addAnimScript MenuDiskSkin as_VRMenuAppear.txt"
cmd "pcmd 0.3 menu3d addAnimScript MenuRingSkin as_VRMenuAppear.txt"
rcmd "sym set MenuTouch 0"
cmd "menu3d setVisible MenusAirMechs"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 sym setOne VRAirmechCustomizeMode VRAirmechFullCustomize"
cmd "if sym PrevVrMenu != Flair sym set _CycleRookOwned 1"
cmd "if sym PrevVrMenu != Flair sym setFrom _LastOwnedCycleRook RookLocal"
cmd "if sym PrevVrMenu != Flair sym setFrom _LastOwnedCycleRook_Base RookLocal_Base"
cmd "pcmd 0.25 menucmd DrawAirMechTextures"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectHangarCancel"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.5 state .MenuColPlay terminate"
cmd "pcmd 0.5 state .MenuColOptions terminate"
cmd "pcmd 0.5 state .MenuColHangar terminate"
cmd "pcmd 0.5 state .MenuColQuests terminate"
cmd "menucmd ResetVrMenuSet Pets"
cmd "menucmd ResetVrMenuSet Hats"
cmd "menucmd ResetVrMenuSet Mechs"
cmd "if sym PrevVrMenu == Flair sym set PrevVrMenu Root"
}
Script ShowAMCL {
cmd "menu3d remove MenuAMCL"
cmd "gameui disableAll AMCL"
cmd "gameui enable AMCL"
cmd "menu3d add MenuAMCL /model vr/MenuAMCL.amf /material mat_RenderToTextureVR_UnlitStdBlend /worldPose 220 200 80 /rootScale 3.0 /rootRot 0 0 -40"
cmd "pcmd 0.1 addUIAnim AMCLTitle mas_VRCollectionIn.txt"
cmd "pcmd 0.1 gameui enable AMCLTitle"
cmd "pcmd 0.2 addUIAnim AMCLClassTotal mas_VRCollectionIn.txt"
cmd "pcmd 0.2 addUIAnim AMCLClassTotalK mas_VRCollectionIn.txt"
cmd "pcmd 0.2 gameui enable AMCLClassTotal"
cmd "pcmd 0.2 gameui enable AMCLClassTotalK"
cmd "pcmd 0.3 addUIAnim AMCLSkinsTotal mas_VRCollectionIn.txt"
cmd "pcmd 0.3 addUIAnim AMCLSkinsTotalK mas_VRCollectionIn.txt"
cmd "pcmd 0.3 gameui enable AMCLSkinsTotal"
cmd "pcmd 0.3 gameui enable AMCLSkinsTotalK"
cmd "pcmd 0.4 addUIAnim AMCLLine mas_VRCollectionIn.txt"
cmd "pcmd 0.4 gameui enable AMCLLine"
cmd "pcmd 0.5 gameui refreshFilterName AMCL"
cmd "pcmd 0.5 addUIAnim AMCLSkins mas_VRCollectionIn.txt"
cmd "pcmd 0.8 gameui enableAll AMCLSkins"
}
Script ResetAMCL {
cmd "pcmd 0.0 addUIAnim AMCLSkins mas_VRCollectionOut.txt"
cmd "pcmd 0.1 gameui disableAll AMCLSkins"
cmd "pcmd 0.2 addUIAnim AMCLLine mas_VRCollectionOut.txt"
cmd "pcmd 0.2 gameui disable AMCLLine"
cmd "pcmd 0.3 addUIAnim AMCLSkinsTotal mas_VRCollectionOut.txt"
cmd "pcmd 0.3 addUIAnim AMCLSkinsTotalK mas_VRCollectionOut.txt"
cmd "pcmd 0.3 gameui disable AMCLSkinsTotal"
cmd "pcmd 0.3 gameui disable AMCLSkinsTotalK"
cmd "pcmd 0.4 addUIAnim AMCLClassTotal mas_VRCollectionOut.txt"
cmd "pcmd 0.4 addUIAnim AMCLClassTotalK mas_VRCollectionOut.txt"
cmd "pcmd 0.4 gameui disable AMCLClassTotal"
cmd "pcmd 0.4 gameui disable AMCLClassTotalK"
cmd "pcmd 0.5 addUIAnim AMCLTitle mas_VRCollectionOut.txt"
cmd "pcmd 0.5 gameui disableAll AMCLTitle"
cmd "pcmd 1.0 gameui disableAll AMCL"
cmd "pcmd 1.0 menu3d remove MenuAMCL"
}
Script RemoveAMCL {
cmd "menu3d remove MenuAMCL"
cmd "gameui disableAll AMCL"
}
Script SelectHangarCancel {
rcmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads menucmd RemoveFlairTiles"
rcmd "if sym VrCustomizeType == class sym set _TileIndex 8"
rcmd "if sym VrCustomizeType == class menucmd HideAMClassCards"
cmd "if sym Gamemode != PvP runnow sym op VrMapList getcount _TileMax"
cmd "if sym Gamemode == PvP runnow sym op VrMapListNoSurvival getcount _TileMax"
rcmd "sym set _VrTransition_ 1"
rcmd "playerinputpause 1 local"
rcmd "sym set PreviewingAirMechBoxBack 0"
cmd "menucmd SaveVRLoadout"
rcmd "menu3d remove MenuQuestCard0"
rcmd "menu3d setInvisible MenusAirMechs"
rcmd "sym set MenuTouch 0"
rcmd "pcmd 0.4 sym set VrCustomizeMode 0"
cmd "pfx stop Locked"
cmd "pcmd 0.6 sym set MenuTouch 1"
rcmd "sym setZero VRAirmechCustomizeMode VRAirmechFullCustomize"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
cmd "sym set VrSelectMode null"
cmd "worldview scaleto 18.0 /lin 0.1"
cmd "sym set WorldViewZoom 2"
cmd "menucmd HideVrMenuSet Flair"
cmd "menu3d remove MenuHangar"
cmd "state .MenuColUnlock terminate"
cmd "kill units 0 silent ignoreLatched"
cmd "menu3d addAnimScript MenuDpadHint0Hangar as_VRMenuOut.txt
cmd "menu3d addAnimScript MenuDpadHint1Hangar as_VRMenuOut.txt
rcmd "if sym _CycleRookOwned == 0 player 0 changeToSym _LastOwnedCycleRook /ownStateSym CurrentAirMechOwned"
rcmd "if sym _CycleRookOwned == 0 sym setPair RookLocal $_LastOwnedCycleRook DebugRookSkin $_LastOwnedCycleRook DebugRookSkin3 $_LastOwnedCycleRook"
rcmd "if sym _CycleRookOwned == 0 sym setPair RookLocal_Base $_LastOwnedCycleRook_Base DebugRook $_LastOwnedCycleRook_Base"
rcmd "menucmd ResetAirMechBox"
cmd "if sym PrevVrMenu == Lobby menucmd RotateAvatars Default"
rcmd "if sym PrevVrMenu == Lobby gameui ignoreInputTime 1.0"
cmd "if sym PrevVrMenu == Lobby pcmd 0 worldview moveto -3.2 -2 0 /slew 0.2"
cmd "if sym PrevVrMenu == Lobby menucmd MapScreensRestore"
cmd "if sym PrevVrMenu == Lobby player 0 setPosition $$_WorldPosLaunch 1"
cmd "if sym PrevVrMenu == Lobby pcmd 0.2 menu3d setVisible MenusVRLobby"
cmd "if sym PrevVrMenu == Lobby pcmd 0.2 menucmd ResetVrMenuSet Launch"
cmd "if sym PrevVrMenu == Lobby pcmd 0.2 menucmd ResetVrMenuSet Customize"
cmd "if sym PrevVrMenu == Lobby pcmd 0.2 menu3d addAnimScript MenuInfoLaunch as_VRMenuAppear.txt"
cmd "if sym PrevVrMenu == Lobby pcmd 0.3 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "if sym PrevVrMenu == Lobby pcmd 0.3 menucmd LobbyGetReady"
cmd "if sym PrevVrMenu == Lobby pcmd 0.7 menucmd ResetVrMenuSet Map"
cmd "if sym PrevVrMenu == Lobby pcmd 0.7 if sym FriendInvite == 0  menucmd ResetVrMenuSet Sandbox"
cmd "if sym PrevVrMenu == Lobby pcmd 0.7 if sym FriendInvite == 1  menucmd ResetVrMenuSet LobbyFriends"
cmd "if sym PrevVrMenu == Lobby pcmd 0.3 sym set MenuTouchCancelCmd SetupLobbyCancel_Pre"
cmd "if sym PrevVrMenu == Lobby sym set VrDrawAirMech Quick"
cmd "if sym PrevVrMenu == Lobby menucmd DrawAirMechSingleTexture"
cmd "if sym PrevVrMenu == Lobby addanim as_VRMenuColUp.txt /tgt MenuColMap /silentFail"
cmd "if sym PrevVrMenu == Lobby && sym RookLocal != $AirMechActiveLast pcmd 0.6 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyFromHangar.txt"
cmd "if sym PrevVrMenu == Lobby && sym RookLocal == $AirMechActiveLast pcmd 0.1 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyFromHangar.txt"
cmd "if sym PrevVrMenu == Lobby menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyOut.txt"
cmd "if sym PrevVrMenu == Lobby menucmd AirMechChangedVr"
cmd "if sym PrevVrMenu == Lobby && sym Gamemode == Solo pcmd 0.55 menu3d updateCfg MenuDiskLaunch /material mat_MenuDiskReady"
rcmd "if sym PrevVrMenu == Lobby sym set ButtonHintText2 Hint_DifficultySelect"
rcmd "if sym PrevVrMenu == Root gameui ignoreInputTime 1.5"
cmd "if sym PrevVrMenu == Root pcmd 0.5 exec vr_menuMain.txt"
cmd "if sym PrevVrMenu == Root pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "if sym PrevVrMenu == Root && sym RookLocal != $AirMechActive pcmd 0.6 menu3d addAnimScript BoxAirMech as_VRMenuBoxOut.txt"
cmd "if sym PrevVrMenu == Root && sym RookLocal == $AirMechActive pcmd 0.1 menu3d addAnimScript BoxAirMech as_VRMenuBoxOut.txt"
cmd "if sym PrevVrMenu == Root pcmd 0.1 menucmd ReturnPlayerToMenu Hangar"
cmd "menucmd ResetAMCL"
cmd "if sym PrevVrMenu == Lobby pcmd 0.5 sym set MenuTouchCmd VRGame"
cmd "pcmd 0.5 menu3d remove MenusVRCustomize"
rcmd "pcmd 1.0 sym set _VrTransition_ 0"
rcmd "playsound VrButtonSelect"
}
Script ResetAirMechBox {
rcmd "sym setFrom AirMechActiveLast #RookLocal_@AirMechActive@"
rcmd "sym setFrom AirMechActive RookLocal_Base"
rcmd "sym setFrom #RookLocal_@RookLocal_Base@ RookLocal"
rcmd "runnow menucmd ResetAirMechSelection"
cmd "pcmd t1 menucmd SetFocusedAirMech"
cmd "pcmd 0 if sym RookLocal != $AirMechActiveLast rook genMenu3dAirMechSkin $$RookLocal_@AirMechActive@ 0 /explicit /mode air /model AirMechAirModel /material AirMechAirMat /anim AirMechAirAnim /ownStateSym PreviewAirMechOwned"
cmd "pcmd 0 if sym RookLocal != $AirMechActiveLast sym set DrawAirMechBox 1"
cmd "pcmd 0 if sym RookLocal == $AirMechActiveLast pcmd 0.5 sym set DrawAirMechBox 0"
cmd "pcmd 0 if sym RookLocal != $AirMechActiveLast menucmd UpdateAirMechPreviews"
cmd "pcmd 0.2 menu3d setVisible AirMechAirPreview"
cmd "pcmd 1.0 playerinputpause 0 local"
}
Script TouchAirMech {
cmd "sym set MenuTouchCmd TouchAirMechGo"
rcmd "sym set DebugRook $_MArg1_"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.1 sym set MenuTouch 1"
}
Script TouchAirMechGo {
cmd "if sym VrSelectMode == AirMech player 0 changeTo $DebugRook"
cmd "if sym VrSelectMode == AirMech sym setFrom RookLocal_Base DebugRook"
cmd "if sym VrSelectMode == Skin player 0 changeTo $$DebugRookSkin"
cmd "if sym VrSelectMode == Skin sym setFrom RookLocal DebugRookSkin "
cmd "if sym VrSelectMode != null playSoundForPlayer local MechLevelUp.wav"
cmd "if sym VrSelectMode != null pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "if sym VrSelectMode != null pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd t1 menucmd SelectHangarCancel"
}
Script UnTouchAirMech {
}
Script TouchAirMechCustom {
rcmd "sym set MenuTouch 1"
rcmd "if sym _MArg1_ == Skin sym set MenuTouchCmd SelectAirMechSkin"
cmd "sym set MenuTouchCancelCmd SelectHangarCancel"
rcmd "gameui focusnametry VRMenuDiskSingleplayer"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusGet.txt"
rcmd "playsound VrButtonTouch"
}
Script UnTouchAirMechCustom {
rcmd "gameui focusid 0"
cmd "sym set MenuTouchCmd"
cmd "sym set MenuTouchCancelCmd SelectHangarCancel"
rcmd "menu3d addAnimScript #MenuDisk@_MArg1_@ as_VRMenuFocusLose.txt"
}
Script SelectAirMechSkin {
rcmd "sym set MenuTouch 1"
cmd "sym set VrSelectMode Skin"
cmd "sym set MenuTouchCmd"
cmd "sym set MenuTouchCancelCmd SelectAirMechSkinCancel"
cmd "pcmd 0.1 gameui focusid 0"
cmd "if sym RookLocal_Base != FighterA menu3d addAnimScript MenuFighterA as_VRMenuHide.txt
cmd "if sym RookLocal_Base != Chopper menu3d addAnimScript MenuChopper as_VRMenuHide.txt
cmd "if sym RookLocal_Base != Stealth menu3d addAnimScript MenuStealth as_VRMenuHide.txt
cmd "if sym RookLocal_Base != Osprey menu3d addAnimScript MenuOsprey as_VRMenuHide.txt
cmd "if sym RookLocal_Base != Warthog menu3d addAnimScript MenuWarthog as_VRMenuHide.txt
cmd "if sym RookLocal_Base != FighterNeo menu3d addAnimScript MenuFighterNeo as_VRMenuHide.txt
cmd "if sym RookLocal_Base != Saucer menu3d addAnimScript MenuSaucer as_VRMenuHide.txt
cmd "if sym RookLocal_Base != Paladin menu3d addAnimScript MenuPaladin as_VRMenuHide.txt
cmd "if sym RookLocal_Base != Angel menu3d addAnimScript MenuAngel as_VRMenuHide.txt
cmd "menu3d addAnimScript MenuDiskSkin as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuRingSkin as_VRMenuHide.txt"
cmd "rook genMenu3dAirMechSkin $RookLocal_Base 1 /model VrSkinModel0 /material VrSkinMat0 /anim VrSkinAnim0 /contentName VrSkinName0"
cmd "rook genMenu3dAirMechSkin $RookLocal_Base 2 /model VrSkinModel1 /material VrSkinMat1 /anim VrSkinAnim1 /contentName VrSkinName1"
cmd "rook genMenu3dAirMechSkin $RookLocal_Base 3 /model VrSkinModel2 /material VrSkinMat2 /anim VrSkinAnim2 /contentName VrSkinName2"
cmd "pcmd 0.1 exec vr_selectSkin.txt"
rcmd "menu3d addAnimScript MenuDiskSkin as_VRMenuHide.txt"
rcmd "menu3d setInvisible MenusAirMechs"
cmd "pcmd 0.25 menu3d setVisible MenusAirMechSkins"
}
Script TouchAirMechSkin {
cmd "sym set MenuTouchCmd"
cmd "sym set MenuTouchCancelCmd SelectAirMechSkinCancel"
rcmd "player 0 changeTo $_MArg1_"
rcmd "sym set RookLocal $_MArg1_"
rcmd "pfx menu3dspawn AirMechSwap /menu3d $RookLocal /bone bone_root"
cmd "playSoundForPlayer local MechLevelUp.wav"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.1 sym set MenuTouch 1"
}
Script UnTouchAirMechSkin {
}
Script SelectAirMechSkinCancel {
rcmd "menu3d setInvisible MenusAirMechSkins"
cmd "sym set VrSelectMode AirMech"
cmd "menu3d addAnimScript $VrSkinName0 as_VRMenuHide.txt"
cmd "menu3d addAnimScript $VrSkinName1 as_VRMenuHide.txt"
cmd "menu3d addAnimScript $VrSkinName2 as_VRMenuHide.txt"
cmd "kill units 0 silent ignoreLatched"
rcmd "gameui focusid 0"
cmd "pcmd 0.5 menu3d remove MenusAirMechSkins"
cmd "sym set MenuTouchCmd"
cmd "sym set MenuTouchCancelCmd SelectHangarCancel"
cmd "pcmd 0.4 menu3d addAnimScript MenuDiskSkin as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuRingSkin as_VRMenuAppear.txt"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.1 if sym RookLocal_Base != FighterA menu3d addAnimScript MenuFighterA as_VRMenuAppear.txt
cmd "pcmd 0.15 if sym RookLocal_Base != Chopper menu3d addAnimScript MenuChopper as_VRMenuAppear.txt
cmd "pcmd 0.2 if sym RookLocal_Base != Stealth menu3d addAnimScript MenuStealth as_VRMenuAppear.txt
cmd "pcmd 0.25 if sym RookLocal_Base != Osprey menu3d addAnimScript MenuOsprey as_VRMenuAppear.txt
cmd "pcmd 0.33 if sym RookLocal_Base != Warthog menu3d addAnimScript MenuWarthog as_VRMenuAppear.txt
cmd "pcmd 0.35 if sym RookLocal_Base != FighterNeo menu3d addAnimScript MenuFighterNeo as_VRMenuAppear.txt
cmd "pcmd 0.4 if sym RookLocal_Base != Saucer menu3d addAnimScript MenuSaucer as_VRMenuAppear.txt
cmd "pcmd 0.45 if sym RookLocal_Base != Paladin menu3d addAnimScript MenuPaladin as_VRMenuAppear.txt
cmd "pcmd 0.5 if sym RookLocal_Base != Angel menu3d addAnimScript MenuAngel as_VRMenuAppear.txt
cmd "pcmd 0.5 menu3d setVisible MenusAirMechs"
cmd "pcmd 0.5 sym set MenuTouch 1"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectHangarCancel"
}
Script BuildCubeInit {
cmd "if sym BuildCubeFace0 == 0 menu3d setRootRot BuildCube0 0 0 0"
cmd "if sym BuildCubeFace0 == 1 menu3d setRootRot BuildCube0 0 0 270"
cmd "if sym BuildCubeFace0 == 2 menu3d setRootRot BuildCube0 0 0 180"
cmd "if sym BuildCubeFace0 == 3 menu3d setRootRot BuildCube0 0 0 90"
cmd "if sym BuildCubeFace1 == 4 menu3d setRootRot BuildCube1 0 0 0"
cmd "if sym BuildCubeFace1 == 5 menu3d setRootRot BuildCube1 0 0 270"
cmd "if sym BuildCubeFace1 == 6 menu3d setRootRot BuildCube1 0 0 180"
cmd "if sym BuildCubeFace1 == 7 menu3d setRootRot BuildCube1 0 0 90"
cmd "if sym BuildCubeFace2 == 8 menu3d setRootRot BuildCube2 0 0 0"
cmd "if sym BuildCubeFace2 == 9 menu3d setRootRot BuildCube2 0 0 270"
cmd "if sym BuildCubeFace2 == 10 menu3d setRootRot BuildCube2 0 0 180"
cmd "if sym BuildCubeFace2 == 11 menu3d setRootRot BuildCube2 0 0 90"
cmd "menu3d addAnimScript BuildCubeRoot as_BuildCubeNudgeU.txt 0.7"
cmd "menucmd BuildCubeDoFocus"
}
Script ChangeUnitColorForUnlock {
rcmd "if sym CurrentUnitOwned == 1 sym setFrom TeamColor OriginalTeamColor"
rcmd "if sym CurrentUnitOwned == 1 sym setFrom TC0 OriginalTeamColor"
rcmd "if sym CurrentUnitOwned != 1 sym set TeamColor Red"
rcmd "if sym CurrentUnitOwned != 1 sym set TC0 Red"
cmd "pcmd t6 sym setFrom TeamColor OriginalTeamColor"
cmd "pcmd t6 sym setFrom TC0 OriginalTeamColor"
}
Script BuildCubeUpPad {
cmd "pcmd 0 menu3d addAnimScript BuildCubeFrame as_BuildCubeSpinU.txt 1.2"
cmd "pcmd 0 menu3d addAnimScript #BuildCube@_BuildCubeIndex_@ as_BuildCubeSpinU.txt 1.2"
cmd "menucmd BuildCubeNewFace"
}
Script BuildCubeDownPad {
cmd "pcmd 0 menu3d addAnimScript BuildCubeFrame as_BuildCubeSpinD.txt 1.2"
cmd "pcmd 0 menu3d addAnimScript #BuildCube@_BuildCubeIndex_@ as_BuildCubeSpinD.txt 1.2"
cmd "menucmd BuildCubeNewFace"
}
Script BuildCubeDoFocus {
cmd "input set padFocusFallback #BuildCube@BuildCubeFace@"
cmd "gameui focusnametry #BuildCube@BuildCubeFace@"
}
Script BuildCubeShiftFocusFromBinding {
rcmd "menu3d addAnimScript #BuildCube@_BuildCubeIndex_@Base as_BuildCubeBlockUnfocus.txt 2.0"
rcmd "sym inc _BuildCubeIndex_ $_MArg1_"
rcmd "sym setFrom _BuildCubeRotZ _BuildCubeIndex_"
rcmd "sym multi _BuildCubeRotZ -5"
rcmd "sym setZero CurrentUnitOwned"
rcmd "if walletUnlockedSym ##ArmySlot@_BuildCubeIndex_@Custom0 runnow sym setOne CurrentUnitOwned"
rcmd "sym setFrom PreviousCategory CurrentCategory"
rcmd "collection genUnitCategory ##ArmySlot@_BuildCubeIndex_@Custom0 CurrentCategory"
cmd "pcmd t1 menu3d addAnimScript BuildCubeFrameBase as_BuildCubeFrameMove.txt 2.0"
cmd "pcmd t0 menuCmd SetupBuildCubeInfo"
}
Script BuildCubeDecIndex {
frame_blockN _MyVrFocus_ 6
cmd "sym intRemap BuildCubeFace 3 0 1 2 7 4 5 6 11 8 9 10"
cmd "pcmd 0 menu3d addAnimScript BuildCubeFrame as_BuildCubeSpinL.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 0 3 menu3d addAnimScript BuildCube0 as_BuildCubeSpinL.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 0 3 sym setFrom BuildCubeFace0 BuildCubeFace"
cmd "if sym BuildCubeFace inIntBound 4 7 menu3d addAnimScript BuildCube1 as_BuildCubeSpinL.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 4 7 sym setFrom BuildCubeFace1 BuildCubeFace"
cmd "if sym BuildCubeFace inIntBound 8 11 menu3d addAnimScript BuildCube2 as_BuildCubeSpinL.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 8 11 sym setFrom BuildCubeFace2 BuildCubeFace"
cmd "menucmd BuildCubeDoFocus"
}
Script BuildCubeIncIndex {
frame_blockN _MyVrFocus_ 6
cmd "sym intRemap BuildCubeFace 1 2 3 0 5 6 7 4 9 10 11 8"
cmd "pcmd 0 menu3d addAnimScript BuildCubeFrame as_BuildCubeSpinR.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 0 3 menu3d addAnimScript BuildCube0 as_BuildCubeSpinR.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 0 3 sym setFrom BuildCubeFace0 BuildCubeFace"
cmd "if sym BuildCubeFace inIntBound 4 7 menu3d addAnimScript BuildCube1 as_BuildCubeSpinR.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 4 7 sym setFrom BuildCubeFace1 BuildCubeFace"
cmd "if sym BuildCubeFace inIntBound 8 11 menu3d addAnimScript BuildCube2 as_BuildCubeSpinR.txt 1.5"
cmd "if sym BuildCubeFace inIntBound 8 11 sym setFrom BuildCubeFace2 BuildCubeFace"
cmd "menucmd BuildCubeDoFocus"
}
Script WorldShiftFx {
cmd "if sym VRMainMenu == 1 && sym WorldMode != 1 pcmd_seq WorldShiftPfx 0.1 if sym WorldViewZoom != 4 runnow pfx menu3dspawn WorldShift /menu3d FortInside /bone bone_root /menu3dSpace /tag WorldShiftPfx"
cmd "if sym VRMainMenu == 1 && sym WorldMode != 1 pcmd_seq WorldShiftPfx 0.1 if sym WorldViewZoom != 4 runnow pfx menu3dspawn WorldShiftSmall /menu3d FortInside /bone bone_root /menu3dSpace /tag WorldShiftPfx"
cmd "if sym VRMainMenu == 0 && sym WorldMode != 1 pcmd_seq WorldShiftPfx 0.1 if sym WorldViewZoom != 4 runnow pfx menu3dspawn WorldShift /menu3d FortInside /bone bone_root /offset 0 80 0 /menu3dSpace /tag WorldShiftPfx"
cmd "if sym VRMainMenu == 0 && sym WorldMode != 1 pcmd_seq WorldShiftPfx 0.1 if sym WorldViewZoom != 4 runnow pfx menu3dspawn WorldShiftSmall /menu3d FortInside /bone bone_root /offset 0 80 0 /menu3dSpace /tag WorldShiftPfx"
cmd "gfx lerp vrHeadMdlScale /current $HeadModelScale 0.1"
}
Script VrRotateLeft {
rcmd "sym inc WorldViewRotation 10"
rcmd "worldview rotateto $$WorldViewRotation /lin 0.1"
rcmd "worldview moveto 0 0 $$WorldViewPosZ  /airmech /lin 0.1"
rcmd "pcmd_seq VrTeleportFx 0.08 menucmd VrRotateLeft"
}
Script CreateWarpTarget {
cmd "]menu3d add TeleportTarget"
cmd "]menu3d setWorldPose TeleportTarget	-30.0 30.0 120.0"
cmd "]menu3d setRootScale TeleportTarget	20"
cmd "]menu3d addChild TeleportTarget TeleportTarget1 /model effects/TeleportStreak.amf /material mat_TeleportStreakBlue"
cmd "]menu3d setWorldPose TeleportTarget1	0.0 0.0 0.0"
cmd "]menu3d addChild TeleportTarget TeleportTarget2 /model effects/TeleportStreak.amf /material mat_TeleportStreakBlue"
cmd "]menu3d setWorldPose TeleportTarget2	0.0 0.0 0.0"
cmd "]menu3d addChild TeleportTarget TeleportTarget3 /model effects/TeleportStreak.amf /material mat_TeleportStreakBlue"
cmd "]menu3d setWorldPose TeleportTarget3	0.0 0.0 0.0"
cmd "menu3d animate TeleportTarget1 effects/TeleportStreakSpin1.aaf looping 0 1.0"
cmd "menu3d animate TeleportTarget2 effects/TeleportStreakSpin2.aaf looping 0 1.0"
cmd "menu3d animate TeleportTarget3 effects/TeleportStreakSpin3.aaf looping 0 1.0"
}
Script SetupBuildCubes {
cmd "menu3d add BuildCubeRoot /worldPose 0 -280 150 /rootScale 4.0 /rootRot 10 0 0"
cmd "echo building_stuff"
cmd "loadmenu VrOrders"
cmd "menu3d addChild BuildCubeRoot BuildCubeFrameBase /worldPose 0 0 0  /rootRot 0 0 17"
cmd "menu3d addChild BuildCubeFrameBase BuildCubeFrame /model vr/BuildCubeFrame.amf /material mat_BuildCubeFrame /worldPose 0 130 0 /noVis /noShadowCast /hiddenCheckBySymbol LocalAM_CanIssueOrder"
cmd "pcmd t0 menu3d addAnimScript BuildCubeFrame as_BuildCubeScaleIn.txt 1.0"
cmd "pcmd t1 menu3d addAnimScript BuildCubeFrameBase as_BuildCubeBlockFocus.txt 1.5"
cmd "sym set _BuildCubeIndex_ 0"
cmd "collection genUnitCategory AS0P0 CurrentCategory"
cmd "sym set _BuildCubeRotZ 17"
cmd "sym setZero BuildCubeActiveLook"
cmd "menucmd CreateBuildCubeSingle"
cmd "sym setZero _BuildCubeFace0_ _BuildCubeFace1_ _BuildCubeFace2_ _BuildCubeFace3_ _BuildCubeFace4_ _BuildCubeFace5_ _BuildCubeFace6_ _BuildCubeFace7_"
cmd "menu3d addChild BuildCubeFrameBase BuildBlockCat /model vr/BuildBlockCat.amf	/material mat_RenderToTextureVR_UnlitStdBlend /noVis /worldPose -5 132 16.5 /noShadowCast /rootScale 0.8 /hiddenCheckBySymbol LocalAM_CanIssueOrder"
cmd "menu3d addChild BuildCubeFrameBase BuildBlockLabel /model vr/BuildBlockLabel.amf	/material mat_RenderToTextureVR_UnlitStdBlend /noVis /worldPose -5 130 10 /noShadowCast /rootScale 1.0 /hiddenCheckBySymbol LocalAM_CanIssueOrder /hiddenCheckBySymbolInv BuildCubeActiveLook"
cmd "menu3d addChild BuildCubeFrameBase BuildBlockInfo /model vr/BuildBlockInfo.amf	/material mat_RenderToTextureVR_UnlitStdBlend /noVis /worldPose -5 130 -8 /noShadowCast /rootScale 1.0 /hiddenCheckBySymbol LocalAM_CanIssueOrder /hiddenCheckBySymbolInv BuildCubeActiveLook"
cmd "if sym VrCustomizeArmy == 0 menu3d addChild BuildCubeFrameBase BuildButtonA /model vr/ButtonA.amf /material mat_MenuButtonsGamepadNoCast /noShadowCast /worldPose 0 124 -5  /rootRot 70 0 0 /rootScale 0.8 /hiddenCheckBySymbolInv BuildCubeActive /noVis /hiddenCheckBySymbol LocalAM_CanIssueOrder /hiddenCheckBySymbolInv BuildCubeActiveLook"
cmd "if sym VrCustomizeArmy == 1 && sym VrTutorial == 0 menu3d addChild BuildCubeFrameBase BuildButtonA /model vr/ButtonA.amf /material mat_MenuButtonsGamepadNoCast /noShadowCast /worldPose 0 124 -5  /rootRot 70 0 0 /rootScale 0.8 /hiddenCheckBySymbolInv BuildCubeActiveLook /hiddenCheckBySymbol LocalAM_CanIssueOrder"
cmd "if sym VrCustomizeArmy == 1 && sym VrTutorial == 1 menu3d addChild BuildCubeFrameBase BuildButtonA /model vr/ButtonA.amf /material mat_MenuButtonsGamepadNoCast /noShadowCast /worldPose 0 124 -5  /rootRot 70 0 0 /rootScale 0.8 /noVis"
cmd "menu3d addChild BuildBlockCat BuildButtonY /model vr/ButtonY.amf /material mat_MenuButtonsGamepadNoCast /noShadowCast /worldPose -3 -2 -2 /rootRot 90 0 5 /rootScale 1.1 /noVis /hiddenCheckBySymbol LocalAM_CanIssueOrder /hiddenCheckBySymbolInv BuildCubeActiveLook"
cmd "if sym VrCustomizeArmy == 0 menu3d addChild BuildCubeFrameBase BuildButtonA2 /model vr/ButtonA.amf /material mat_MenuButtonsGamepadNoCast /noShadowCast /worldPose 0 124 -5  /rootRot 70 0 0 /rootScale 0.8 /hiddenCheckBySymbolInv BuildCubeActiveLook /noVis /hiddenCheckBySymbol LocalAM_CanIssueOrder /hiddenCheckBySymbolInv BuildCubeActiveLook"
cmd "menu3d addChild BuildCubeRoot BuildUnderline /model vr/WideLine.amf /material mat_WideLineGlowBlue /noShadowCast /worldPose 0 130 -8  /rootRot -5 0 180 /rootScale 2.45 /hiddenCheckBySymbolInv BuildCubeActive /hiddenCheckBySymbol LocalAM_CanIssueOrder"
cmd "menu3d addChild BuildCubeRoot BuildUnderline2 /model vr/WideLine.amf /material mat_WideLineGlowBlue /noShadowCast /worldPose 0 130 -8  /rootRot -5 0 180 /rootScale 2.45 /hiddenCheckBySymbolInv BuildCubeActiveLook /hiddenCheckBySymbol LocalAM_CanIssueOrder"
cmd "if sym VrTutorialStage != 1 menu3d setVisible BuildButtonA BuildButtonA2 BuildButtonY"
cmd "pcmd 0.4 menu3d addAnimScript BuildButtonY as_BuildCubeScaleIn.txt 1.0"
cmd "pcmd 0.2 menu3d addAnimScript BuildBlockCat as_BuildCubeScaleIn.txt 1.0"
cmd "pcmd 0.1 menu3d addAnimScript BuildBlockLabel as_BuildCubeScaleIn.txt 1.0"
cmd "pcmd 0.1 menu3d addAnimScript BuildBlockInfo as_BuildCubeScaleIn.txt 1.0"
cmd "pcmd 0.2 menu3d addAnimScript BuildCube0Base as_BuildCubeBlockFocus.txt 1.5"
cmd "pcmd 0.5 customize slotDisplayGen 0 DispSlotName DispSlotCost DispSlotTime"
cmd "pcmd 0.5 sym sprintf FinalUnitToBuildST DispUnit%s $AS0P@C_BINDING@"
}
Script CreateBuildCubeSingle {
rcmd "sym push VrCustomizeArmy 1"
rcmd "gameui refreshfiltername BuildCube"
rcmd "menu3d addChild BuildCubeRoot #BuildCube@_BuildCubeIndex_@Base /rootRot 0 0 $_BuildCubeRotZ /worldPose 0 0 0"
rcmd "menu3d addChild #BuildCube@_BuildCubeIndex_@Base #BuildCube@_BuildCubeIndex_@ /model vr/BuildCube.amf /material mat_VrPictureAirMech /material mat_VrPictureAirMech /rootRot 0 0 0 /worldPose 0 130 0  /noShadowCast /noVis /hiddenCheckBySymbol LocalAM_CanIssueOrder"
rcmd "if sym VRMainMenu != 1 runnow menu3d logicFnc #BuildCube@_BuildCubeIndex_@ lookAtToSymInc /symbol BuildCubeActiveLook /arc 15 /noSpectator"
rcmd "if sym VRMainMenu == 1 runnow menu3d logicFnc #BuildCube@_BuildCubeIndex_@ lookAtToSymInc /symbol BuildCubeActiveLook /arc 40 /noSpectator"
rcmd "pcmd t0 menu3d updateORTSnapshot #BuildCube@_BuildCubeIndex_@ 512 60 256 256 0"
rcmd "pcmd t0 menu3d updateORTSnapshot #BuildCube@_BuildCubeIndex_@ 512 60 256 256 1"
rcmd "pcmd t0 menu3d addAnimScript #BuildCube@_BuildCubeIndex_@ as_BuildCubeScaleIn.txt 1.0"
rcmd "pcmd t1 sym dec _BuildCubeRotZ 5"
rcmd "pcmd t1 sym inc _BuildCubeIndex_ 1"
rcmd "pcmd t1 if sym _BuildCubeIndex_ < 8 pcmd t7 menucmd CreateBuildCubeSingle"
rcmd "pcmd t1 if sym _BuildCubeIndex_ >= 8 sym set _BuildCubeIndex_ 0"
}
Script BuildCubeNewFace {
rcmd "sym toggle #_BuildCubeFace@_BuildCubeIndex_@_"
rcmd "gameui refreshfiltername BuildCube"
rcmd "pcmd t1 menu3d updateORTSnapshot #BuildCube@_BuildCubeIndex_@ 512 60 256 256 $_BuildCubeFace@_BuildCubeIndex_@_"
}
Script UpdateCubeFace {
rcmd "gameui refreshfiltername BuildCube"
rcmd "pcmd t1 menu3d updateORTSnapshot #BuildCube@_BuildCubeIndex_@ 512 60 256 256 $_BuildCubeFace@_BuildCubeIndex_@_"
}
Script SetupBuildCubeInfo {
cmd "customize slotDisplayGen $_BuildCubeIndex_ DispSlotName DispSlotCost DispSlotTime"
cmd "menucmd #GetReadyArmySlot@_BuildCubeIndex_@ local"
cmd "pcmd t1 menu3d addAnimScript #BuildCube@_BuildCubeIndex_@Base as_BuildCubeBlockFocus.txt 2.0"
cmd "sym setFrom #ArmySlotVRLast@_BuildCubeIndex_@ #ArmySlot@_BuildCubeIndex_@Custom0"
cmd "if sym VRMainMenu == 1 && sym VrTutorial != 1 pcmd 0 menucmd SpawnUnitInMenus"
cmd "if sym VRMainMenu == 1 pcmd 0 console flushAllPendingSeq VRUnitPreview"
cmd "gameui refreshFilterName BuildCube"
}
Script RestoreArmySlotInfo {
cmd "sym setFrom ArmySlot0Custom0 ArmySlotVRLast0"
cmd "sym setFrom ArmySlot1Custom0 ArmySlotVRLast1"
cmd "sym setFrom ArmySlot2Custom0 ArmySlotVRLast2"
cmd "sym setFrom ArmySlot3Custom0 ArmySlotVRLast3"
cmd "sym setFrom ArmySlot4Custom0 ArmySlotVRLast4"
cmd "sym setFrom ArmySlot5Custom0 ArmySlotVRLast5"
cmd "sym setFrom ArmySlot6Custom0 ArmySlotVRLast6"
cmd "sym setFrom ArmySlot7Custom0 ArmySlotVRLast7"
}
Script SpawnUnitInMenus {
cmd "menucmd ClearUnlockConfirm"
cmd "sym set ShowingUnlockConfirm 0"
cmd "if sym UnitPresentFinished == 1 menu3d animate MenuArmyUnlock vr/UnlockDiskOpen.aaf playOnceRev 0 2"
cmd "if sym UnitPresentFinished == 1 playsound VrSwipeBackward"
cmd "sym set UnitPresentFinished 0"
cmd "pcmd 0.2 state .Army terminate"
cmd "if sym CurrentUnitOwned == 1 menu3d updateCfg MenuArmyUnlock /material mat_CoverDisk"
cmd "if sym CurrentUnitOwned != 1 menu3d updateCfg MenuArmyUnlock /material mat_UnlockDisk"
cmd "if sym VrCustomizeArmy == 1 pcmd_seq VRUnitPreview 0.3 menucmd RefreshArmyInfo"
cmd "pcmd_seq VRUnitPreview 0.3 menu3d animate MenuArmyUnlock vr/UnlockDiskOpen.aaf playonce 0 2.6"
cmd "pcmd_seq VRUnitPreview 0.3 playsound VrButtonTouch"
cmd "pcmd_seq VRUnitPreview 0.6 collection initSettings $FinalUnitToBuild VRTemp"
cmd "pcmd_seq VRUnitPreview 0.45 rook genUnitPresentPos $FinalUnitToBuild _WorldPosUnit _WorldPosUnitFinal"
cmd "pcmd_seq VRUnitPreview 0.45 spawn $FinalUnitToBuild /posSym _WorldPosUnitFinal /zrot 45 /teamf 0 /label Army /spawnInit"
cmd "pcmd_seq VRUnitPreview 0.6 if sym CurrentUnitOwned != 1 menucmd ShowUnlockConfirm"
cmd "pcmd_seq VRUnitPreview 0.3 sym set UnitPresentFinished 1"
}
Script CreateBuildCubes {
cmd "sym set BuildCubeActive 1"
}
Script ClearBuildCubes {
cmd "sym set BuildCubeActive 0"
}
Script ClearBuildBar {
cmd "sym set BuildCubeActive 0"
cmd "if sym BuildCubeFace <= 3 runnow pcmd 0.2 menu3d addAnimScript BuildCubeFrame as_BuildCubeScaleOut.txt 1.0"
cmd "if sym BuildCubeFace <= 7 && sym BuildCubeFace >= 4 runnow pcmd 0 menu3d addAnimScript BuildCubeFrame as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd 0.1 menu3d addAnimScript BuildCube0 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd 0 menu3d addAnimScript BuildButtonA as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd t5 menu3d addAnimScript BuildCube1 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd t10 menu3d addAnimScript BuildCube2 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd t15 menu3d addAnimScript BuildCube3 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd t20 menu3d addAnimScript BuildCube4 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd t25 menu3d addAnimScript BuildCube5 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd t30 menu3d addAnimScript BuildCube6 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd t35 menu3d addAnimScript BuildCube7 as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd 0.1 menu3d addAnimScript BuildBlockLabel as_BuildCubeScaleOut.txt 1.0"
cmd "pcmd 0.45 menu3d remove BuildCubeRoot"
cmd "pcmd 0.45 sym setZero BuildCubeActive BuildCubeActiveLook"
}
Script TerminateBuildCubes {
cmd "sym set BuildCubeActive 0"
cmd "menu3d remove BuildCubeRoot"
}
Script CreateGlobe {
cmd "]menu3d add Globe /model vr/Earth.amf /material mat_GlobeOutline /material mat_GlobeOutlineOcean"
cmd "]menu3d add EyeBase"
cmd "]menu3d setInvisible Globe EyeBase"
cmd "]menu3d addChild EyeBase GlobeEye1 /model vr/GlobeEye.amf /material mat_GlobeOutline /material mat_GlobeOutlineOcean"
cmd "]menu3d setWorldPose GlobeEye1	0.0 0.0 0.0"
cmd "]menu3d setRootRot GlobeEye1 0 20 0"
cmd "]menu3d addZSpin GlobeEye1 mesh_eye 130"
cmd "]menu3d addChild EyeBase GlobeEye2 /model vr/GlobeEye.amf /material mat_GlobeOutline /material mat_GlobeOutlineOcean"
cmd "]menu3d setWorldPose GlobeEye2	0.0 0.0 0.0"
cmd "]menu3d setRootScale GlobeEye2	1.0"
cmd "]menu3d setRootRot GlobeEye2 0 -20 50"
cmd "]menu3d addZSpin GlobeEye2 mesh_eye -100"
cmd "]menu3d addChild EyeBase GlobeEye3 /model vr/GlobeEye.amf /material mat_GlobeOutline /material mat_GlobeOutlineOcean"
cmd "]menu3d setWorldPose GlobeEye3	0.0 0.0 0.0"
cmd "]menu3d setRootScale GlobeEye3	1.0"
cmd "]menu3d setRootRot GlobeEye3 0 -60 60"
cmd "]menu3d addZSpin GlobeEye3 mesh_eye 130"
cmd "]menu3d setWorldPose Globe	0.0 50.0 120.0"
cmd "]menu3d setWorldPose EyeBase	0.0 50.0 120.0"
cmd "]menu3d setRootScale EyeBase 200"
cmd "]menu3d setRootScale Globe	200"
cmd "]menu3d setRootRot Globe 0 0 0"
cmd "]menu3d addZSpinRoot EyeBase 20"
cmd "]menu3d addZSpin Globe bone_spin 10"
cmd "]menu3d addZSpin Globe bone_root"
cmd "pcmd 0.0 menu3d addAnimScript Globe as_BuildCubeScaleIn.txt 0.25"
cmd "pcmd 0.0 menu3d addAnimScript EyeBase as_BuildCubeScaleIn.txt 0.25"
cmd "pcmd 0.1 menu3d setVisible Globe EyeBase"
}
Script RemoveGlobe {
cmd "menu3d addAnimScript Globe as_VRMenuHide.txt"
cmd "menu3d addAnimScript EyeBase as_VRMenuHide.txt"
cmd "pcmd 0.5 menu3d remove Globe"
cmd "pcmd 0.5 menu3d remove EyeBase"
}
Script LoadMenuMap {
cmd "pausegame 0"
cmd "sym set MapName lobby_vr"
cmd "sym set max_players 1"
cmd "menucmd InitSpSymbols"
cmd "sym set LoadNormalMapInVR 0"
cmd "sym set WorldZoomOk 0"
cmd "loadmap lobby_vr.lvl prep 0"
cmd "if sym SplashVR == 0 music start $AlbumTrackCurrent"
cmd "if sym SplashVR == 0 menucmd CycleMainMenuTrack"
cmd "if sym SplashVR == 1 player 0 do transform /forcedReq"
}
Script MechyAtStartup {
cmd "sym set SplashVR 0"
cmd "player 0 disableFn visibility"
cmd "menu3d remove TableCoverLabel"
cmd "menu3d setUPanTarget TableCoverPan 1.0 /time 1.0"
cmd "pcmd 0.5 menu3d remove TableCoverPan"
cmd "menu3d add Mechy /model rooks/Mechy/Mechy_Ref.amf /material mat_MechyBlue /material mat_MechyThrust /worldPose 0 20 0 /rootScale 25 /rootRot 0 0 0 /noVis"
cmd "menu3d animate Mechy rooks/Mechy/Mechy_WakeUp.aaf stopandhold 0 0.0"
cmd "pcmd 0.1 menu3d setVisible Mechy"
cmd "pcmd 0.1 pfx menu3dspawn AirMechSwap /menu3d Mechy /bone bone_root"
cmd "pcmd 0 worldview moveToImmediate 0 0 0"
}
Script DebugConsole {
cmd "]menu3d add DebugConsole /model vr/MenuConsole.amf /material mat_RenderToTextureVR /hiddenCheckBySymbolInv ConsoleCmdEntryInProgress"
cmd "]menu3d setWorldPose DebugConsole	0.0 80.0 180.0"
cmd "]menu3d setRootScale DebugConsole	3.0"
cmd "]menu3d setRootRot DebugConsole 5 0 0"
}
Script ChangeToGodMech {
cmd "player 0 changeTo GodMech"
cmd "menucmd VRMenuCancel"
}
Script VRGame {
cmd "echo VRGame"
ignoreInputTime 1.0
cmd "sym set MenuTouchCmd"
cmd "menu3d setInvisible StartMenuVR MenusVR"
cmd "if sym InputPad == 0 sym set LobbyStatusMessage MsgEnterSoloReady"
cmd "if sym InputPad == 1 sym set LobbyStatusMessage MsgEnterSoloReady_pad"
cmd "sym set _soloLaunch_ 1"
cmd "sym set MyId 0"
cmd "sym set _NumPlayers 1"
cmd "sym set MatchmakingType Solo"
cmd "sym set P_Rdy0 0
cmd "sym set Ally0Mode 2"
cmd "sym set Ally1Mode 2"
cmd "sym set Ally2Mode 2"
cmd "sym set Ally3Mode 2"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 1 Kira"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 2 Petros"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 3 Raven"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 4 Samson"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 5 Hawk"
cmd "if sym ConMenuSoloSkirmish1v1 == 1 runnow sym set MatchmakingPlayers 1v1"
cmd "if sym ConMenuSoloSkirmish2v2 == 1 runnow sym set MatchmakingPlayers 2v2"
cmd "if sym ConMenuSoloSkirmish3v3 == 1 runnow sym set MatchmakingPlayers 3v3"
cmd "if sym ConMenuSoloSkirmish2v3 == 1 runnow sym set MatchmakingPlayers 2v3"
cmd "if sym ConMenuSoloSkirmish1v2 == 1 runnow sym set MatchmakingPlayers 1v2"
cmd "if sym ConMenuSoloSkirmish1v3 == 1 runnow sym set MatchmakingPlayers 1v3"
cmd "sym set MatchmakingType Solo"
cmd "sym set MatchmakingMode Skirmish"
cmd "menucmd ConMenuLobbySetupSymbols"
cmd "party2 create solo 1"
cmd "party2 updateloadout"
cmd "sym set LoadNormalMapInVR 1"
cmd "pcmd 0.1 timer clearAsyncWait"
cmd "pcmd 0.1 clearmenu AsyncNoticeDialogVr.txt"
cmd "pcmd 0.1 menuCmd LoadMapSoloVR"
}
Script VRSpectateSetup {
rcmd "sym set MenuTouchCmd"
rcmd "menu3d setInvisible StartMenuVR MenusVR"
rcmd "clearmenu VRMenusRTT"
rcmd "menu3d setInvisible TableFrame"
rcmd "sym set LoadNormalMapInVR 1"
rcmd "sym set WorldZoomOk 1"
}
Script RestartLevel {
ignoreInputTime 0.25
rcmd "menu3d remove Gamepad"
rcmd "menu3d remove FortHealth"
cmd "loadmap reload"
rcmd "gfx lerp vrFadeAlpha /current 1 0"
rcmd "pcmd 0.5 gfx lerp vrFadeAlpha /current 0 0.2"
cmd "menu3d animate FortInside vr/FortDamage0.aaf playonce 0 1.0"
cmd "menucmd VRMenuCancel"
cmd "console flushAllPendingSeq Tutorial Hint"
}
Script VRMapClean {
ignoreInputTime 1.2
cmd "echo CLEAN MAP FOR VR"
cmd "if sym VrMatchFromDome == 0 gfx hmd setPosition /sym CamPositionGame"
cmd "sym set MenuTouchCmd"
cmd "menucmd RemoveAMCL"
cmd "if sym VrMatchFromDome == 0 rook toggleDisplayRadarVR 1"
cmd "sym set BuildCubeEnabled 1"
cmd "sym set GameRangeMarkers 1"
cmd "rook toggleGameRangeMarkers 1"
cmd "pcmd 0.5 sym set _MapTransition 0"
cmd "menu3d remove StartMenuVR
cmd "if sym VrMatchFromDome == 0 menu3d setInvisible TableFrame"
cmd "sym set MenuTouchCancelCmd"
cmd "sym setZero MenuTouch VRQuestSelected VRQuestSelected InTutorialGame"
cmd "sym set FromVrMenu null"
cmd "sym set WorldZoomOk 1"
cmd "menu3d remove MenusVR"
cmd "gfx set VR_Settings /shadowFocusDistance 200.0 /shadowRange 800.0"
cmd "if sym LoadNormalMapInVR == 1 menu3d remove WorldFrame"
cmd "if sym LoadNormalMapInVR == 1 menu3d remove BarrierRing BarrierRingL"
cmd "if sym LoadNormalMapInVR == 1 && sym VrTutorial == 0 && sym IsSpectator == 0 || sym VrTutorial == 1 && sym _TutorialStage != C pcmd 2.4 menucmd SetupBuildCubesIfStillInMap"
cmd "menu3d remove BuildCubeRoot"
cmd "sym set BuildCubeActive 0"
cmd "music fadeout 2.0"
cmd "if sym VrTutorial != 1 sym set VRMainMenu 0"
cmd "pcmd 0.1 loadmenu VRMenusRTT"
}
Script SetupBuildCubesIfStillInMap {
cmd "if sym LoadNormalMapInVR == 1 menucmd SetupBuildCubes"
}
Script LoadMapSoloVR {
ignoreInputTime 0.5
rcmd "sym set _EndGameSeqMsg_ 1"
cmd "sym clearStack _Bind_SoloLoadout_"
cmd "sym set _Bind_SoloLoadout_ 0"
cmd "sym set _soloLaunch_ 1"
cmd "sym set MyId 0"
cmd "sym set LaunchGameCmd Solo"
cmd "sym set P_Rdy0 1"
cmd "menucmd ConMenuCopyUnitLoadoutIntoLocalSlots"
cmd "sym set max_players 2"
cmd "if sym MapName == survival_vr || sym MapName == spiral_vr || sym MapName == laststand_vr runnow sym set max_players 1"
cmd "menucmd InitSpSymbols"
cmd "menucmd HideVrMenuSet Customize"
cmd "menucmd HideVrMenuSet Launch"
cmd "menucmd HideVrMenuSet Map"
cmd "menucmd HideVrMenuSet Sandbox"
cmd "menu3d addAnimScript BoxAirMech as_VRMenuBoxOut.txt"
cmd "if sym VrTutorial == 0 pcmd 0.2 menucmd TransToMatch Solo $MapName"
cmd "if sym VrTutorial == 1 pcmd 0.2 menucmd TransToMatch tutorial $MapName"
}
Script VR_EscQuit {
vis_frame_blockN _exitVR_ 120
ignoreInputTime 5.0
cmd "pausegame 0"
cmd "gfx lerp vrFadeAlpha /current 1 0.75"
cmd "gfx lerp masterVolAdjust 1 0 0.6"
cmd "pcmd 0.75 exit"
}
Script ShowWaveNumber {
cmd "echo $_MArg1_"
rcmd "sym sprintf _showmdl_ vr/Text%s.amf $_MArg1_"
cmd "menu3d add TextWave  /model $_showmdl_	/material mat_TextObjectiveFill"
cmd "menu3d setWorldPose TextWave	0.0 80.0 40.0"
cmd "menu3d setRootScale TextWave 160"
cmd "menu3d setRootRot TextWave 70 0 0"
cmd "menu3d addAnimScript TextWave as_MenuBlockEnter.txt"
cmd "menu3d setUPanTarget TextWave -1 /time 0.8"
cmd "pcmd 3.0 menu3d addAnimScript TextWave as_MenuBlockExitUp.txt"
cmd "pcmd 3.2 menu3d remove TextWave"
}
Script SelectGamepad {
ignoreInputTime 1.0
rcmd "playsound VrButtonSelect"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Credits"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
cmd "menucmd HideVrMenuSet Kudos"
cmd "menu3d addAnimScript MenuSpeakerL as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuSpeakerR as_VRMenuHide.txt"
cmd "worldview moveto -4 -2 0 /slew 0.1"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectGamepadCancel"
rcmd "sym set HideGamepadText 0"
rcmd "menu3d add GamepadOptions /model vr/Gamepad.amf /material mat_Gamepad /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuMove /model vr/GpadLineLStick.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuMove GpadTextMenuMove /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuShoot /model vr/GpadLineRStick.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuShoot GpadTextMenuShoot /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuTransform /model vr/GpadLineLTrigger.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuTransform GpadTextMenuTransform /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuPriAbility /model vr/GpadLineRTrigger.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuPriAbility GpadTextMenuPriAbility /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuSecAbility /model vr/GpadLineX.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuSecAbility GpadTextMenuSecAbility /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuGrpSelect /model vr/GpadLineB.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuGrpSelect GpadTextMenuGrpSelect /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuPickup /model vr/GpadLineA2.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuPickup GpadTextMenuPickup /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuDpad /model vr/GpadLineDpadAll.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuDpad GpadTextAssingOrders /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuResetCamera /model vr/GpadLineBack.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuResetCamera GpadTextMenuResetCamera /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuCameraControl /model vr/GpadLineRButtonY.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuCameraControl GpadTextMenuCameraControl2 /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuCameraControlL /model vr/GpadLineLButton2.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuCameraControlL GpadTextMenuCameraControlL /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
rcmd "menu3d addChild GamepadOptions GpadLineMenuPause /model vr/GpadLineStart.amf /material mat_GpadTextFill /attachToParentBone bone_root"
rcmd "menu3d addChild GpadLineMenuPause GpadTextMenuPause /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd t1 sym set GamepadText2 GamepadMove"
cmd "pcmd t0 sym set GamepadTextAlign 1"
cmd "pcmd t2 menu3d updateORTSnapshot2 GpadTextMenuMove 0 960 930 110"
cmd "pcmd t3 sym set GamepadText2 GamepadShoot"
cmd "pcmd t3 sym set GamepadTextAlign 0"
cmd "pcmd t4 menu3d updateORTSnapshot2 GpadTextMenuShoot 0 960 930 110"
cmd "pcmd t5 sym set GamepadText2 GamepadTransform"
cmd "pcmd t5 sym set GamepadTextAlign 1"
cmd "pcmd t6 menu3d updateORTSnapshot2 GpadTextMenuTransform 0 960 930 110"
cmd "pcmd t7 sym set GamepadText2 GamepadPriAbility"
cmd "pcmd t7 sym set GamepadTextAlign 0"
cmd "pcmd t8 menu3d updateORTSnapshot2 GpadTextMenuPriAbility 0 960 930 110"
cmd "pcmd t9 sym set GamepadText2 GamepadSecAbility"
cmd "pcmd t9 sym set GamepadTextAlign 0"
cmd "pcmd t10 menu3d updateORTSnapshot2 GpadTextMenuSecAbility 0 960 930 110"
cmd "pcmd t11 sym set GamepadText2 GamepadPickup"
cmd "pcmd t11 sym set GamepadTextAlign 0"
cmd "pcmd t12 menu3d updateORTSnapshot2 GpadTextMenuPickup 0 960 930 110"
cmd "pcmd t13 sym set GamepadText2 GamepadAssingOrders"
cmd "pcmd t13 sym set GamepadTextAlign 1"
cmd "pcmd t14 menu3d updateORTSnapshot2 GpadTextAssingOrders 0 960 930 110"
cmd "pcmd t15 sym set GamepadText2 GamepadResetCamera"
cmd "pcmd t15 sym set GamepadTextAlign 1"
cmd "pcmd t16 menu3d updateORTSnapshot2 GpadTextMenuResetCamera 0 960 930 110"
cmd "pcmd t17 sym set GamepadText2 GamepadCameraControl"
cmd "pcmd t17 sym set GamepadTextAlign 0"
cmd "pcmd t18 menu3d updateORTSnapshot2 GpadTextMenuCameraControl2 0 960 930 110"
cmd "pcmd t19 sym set GamepadText2 GamepadGroupSelect"
cmd "pcmd t19 sym set GamepadTextAlign 0"
cmd "pcmd t20 menu3d updateORTSnapshot2 GpadTextMenuGrpSelect 0 960 930 110"
cmd "pcmd t21 sym set GamepadText2 GamepadCameraControl"
cmd "pcmd t21 sym set GamepadTextAlign 1"
cmd "pcmd t22 menu3d updateORTSnapshot2 GpadTextMenuCameraControlL 0 960 930 110"
cmd "pcmd t23 sym set GamepadText2 GamepadPause"
cmd "pcmd t23 sym set GamepadTextAlign 0"
cmd "pcmd t24 menu3d updateORTSnapshot2 GpadTextMenuPause 0 960 930 110"
cmd "menu3d logicFnc GamepadOptions trackStickL /bone bone_stick_l /mag 23"
cmd "menu3d logicFnc GamepadOptions trackStickR /bone bone_stick_r /mag 23"
cmd "menu3d logicFnc GamepadOptions trackStickL /bone bone_nudge_l /mag 5"
cmd "menu3d logicFnc GamepadOptions trackStickR /bone bone_nudge_r /mag 5"
cmd "menu3d logicFnc GamepadOptions trackDPad /bone bone_nudgepad /mag 1 /transitionTime 0.1"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_button_a /button A /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_button_b /button B /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_button_x /button X /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_button_y /button Y /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_bumper_l /button LShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_bumper_r /button RShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_nudgebl /button LShoulder /offset 0.005 0 -0.015 /transitionTime 0.1"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_nudgebr /button RShoulder /offset -0.005 0 -0.015 /transitionTime 0.1"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_start /button start /offset 0 0 -0.005"
cmd "menu3d logicFnc GamepadOptions trackButton /bone bone_back /button back /offset 0 0 -0.005"
cmd "menu3d logicFnc GamepadOptions trackDPad /bone bone_dpad /mag 14"
cmd "pcmd t25 sym clear GamepadText2"
cmd "pcmd t25 sym set HideGamepadText 1"
cmd "pcmd 0.5 floatsym set F_BB 0.0"
cmd "menu3d setWorldPose GamepadOptions 0.0 200.0 100.0"
cmd "menu3d setRootScale GamepadOptions 550.0"
cmd "menu3d setRootRot GamepadOptions 95 0 0"
cmd "pcmd 0.2 menu3d addAnimScript GamepadOptions as_VRGamepadOptionsIn.txt 0.7"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuMove as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuShoot as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuTransform as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuPriAbility as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuSecAbility as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuPickup as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextAssingOrders as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextCameraControl as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuResetCamera as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuCameraControl2 as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuGrpSelect as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuCameraControlL as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript GpadTextMenuPause as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuMove -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuShoot -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuTransform -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuPriAbility -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuSecAbility -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuPickup -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuDpad -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuResetCamera -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuCameraControl -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuGrpSelect -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuCameraControlL -1 /time 0.5"
cmd "pcmd 0.5 menu3d setUPanTarget GpadLineMenuPause -1 /time 0.5"
}
Script SelectGamepadCancel {
ignoreInputTime 1.25
rcmd "playerinputpause 1 local"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0 worldview moveto -1 -3 0 /slew 0.1"
cmd "pcmd 0 player 0 setPosition $_WorldPosGamepad"
cmd "pcmd 0.3 exec vr_menuOptions.txt"
cmd "pcmd 0.4 menu3d addAnimScript MenuSpeakerL as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuSpeakerR as_VRMenuAppear.txt"
cmd "kill units 0 silent ignoreLatched"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "sym set MenuTouchCmd SelectGamepad"
cmd "sym set MenuTouchCancelCmd SelectOptionsCancel"
cmd "sym set HideGamepadText 1"
cmd "menu3d addAnimScript GamepadOptions as_VRGamepadOptionsOut.txt"
cmd "pcmd 0.5 menu3d remove GamepadOptions"
cmd "sym clear GamepadText2"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.35 menu3d setVisible MenusVROptions"
rcmd "pcmd 0.75 playerinputpause 0 local"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
}
Script SelectCredits {
ignoreInputTime 0.5
rcmd "sym set VrInCreditsMode 1"
rcmd "playsound VrButtonSelect"
rcmd "menucmd SetVrFortState closed"
cmd "menucmd VrMenuTextUnfocus MenuLabelCreidts"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Credits"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
cmd "menucmd HideVrMenuSet Tutorial3"
cmd "menucmd HideVrMenuSet Kudos"
cmd "menu3d addAnimScript MenuSpeakerL as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuSpeakerR as_VRMenuHide.txt"
cmd "worldview moveto -4 -2 0 /slew 0.1"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectCreditsCancel"
cmd "menucmd ShowCarbonLogo"
}
Script SelectCreditsCancel {
ignoreInputTime 1.25
rcmd "sound fadeOutBus 1 0.25"
rcmd "sym set VrInCreditsMode 0"
rcmd "console flushAllPendingSeq BootLogo"
rcmd "menu3d remove CarbonLogoVR AirMechLogoVR"
rcmd "playerinputpause 1 local"
rcmd "menucmd SetVrFortState open"
cmd "pcmd 0 worldview moveto -1 -3 0 /slew 0.1"
cmd "pcmd 0 player 0 setPosition $_WorldPosCredits"
cmd "pcmd 0.3 exec vr_menuOptions.txt"
rcmd "sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "pcmd 0.4 menu3d addAnimScript MenuSpeakerL as_VRMenuAppear.txt"
cmd "pcmd 0.5 menu3d addAnimScript MenuSpeakerR as_VRMenuAppear.txt"
cmd "kill units 0 silent ignoreLatched"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "pcmd 0.5 sym set MenuTouchCmd SelectCredits"
cmd "pcmd 0.5 sym set MenuTouchCancelCmd SelectOptionsCancel"
cmd "clearmenu VrCredits.txt"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0.35 menu3d setVisible MenusVROptions"
rcmd "pcmd 0.75 playerinputpause 0 local"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
}
Script VRMenuCancel {
rcmd "echo ECHO VRMenuCancel"
rcmd "if nothmdpaused menucmd DoVRMenuCancel"
}
Script DoVRMenuCancel {
rcmd "echo ECHO DoVRMenuCancel"
ignoreInputTime 0.4
cmd "pausegame 0"
cmd "if sym VrTutorial == 1 sound unpausebus 1"
cmd "gameui focusid 0"
cmd "if sym VrMatchFromDome == 0 pcmd 0.1 playerinputpause 0 local"
cmd "menu3d setVisible BuildCubeRoot"
cmd "menu3d setRootScale MenuBlockFocus 	0.0"
cmd "menu3d addAnimScript MenuBlock0 as_MenuBlockExit.txt"
cmd "menu3d addAnimScript GamepadHelp as_GpadHelpExit.txt"
cmd "menu3d setUPanTarget GpadTextHelp 0 /time 0.2"
cmd "pcmd 0.07 menu3d addAnimScript MenuBlock1 as_MenuBlockExit.txt"
cmd "pcmd 0.14 menu3d addAnimScript MenuBlock2 as_MenuBlockExit.txt"
cmd "pcmd 0.21 menu3d addAnimScript MenuBlock3 as_MenuBlockExit.txt"
cmd "pcmd 0.36 menu3d remove StartMenuVR"
cmd "pcmd 0.35 sym set VRMenuLoaded 0"
cmd "menu3d addAnimScript TextTest1 as_MenuBlockEnter.txt"
cmd "if sym VrShowingRewardDialog == 1 menu3d addAnimScript QuestRewardItem as_VRQuestCardPull.txt"
cmd "if sym VrShowingRewardDialog == 1 menu3d logicFnc QuestRewardItem0 trackStickL /bone bone_twist /mag 10"
}
Script QuickVRGame {
cmd "echo QuickVRGame"
ignoreInputTime 1.0
cmd "menu3d remove *"
cmd "sym set LevelRotation -45"
cmd "exec vr_outsideAirmech.txt"
cmd "sym set RookLocal Chopper_PAX"
cmd "if sym InputPad == 0 sym set LobbyStatusMessage MsgEnterSoloReady"
cmd "if sym InputPad == 1 sym set LobbyStatusMessage MsgEnterSoloReady_pad"
cmd "sym set _soloLaunch_ 1"
cmd "sym set MyId 0"
cmd "sym set _NumPlayers 1"
cmd "sym set MatchmakingType Solo"
cmd "sym set MatchmakingMode Survival"
cmd "menucmd ConMenuLobbySetupSymbols"
cmd "party2 create solo 1"
cmd "party2 updateloadout"
cmd "pcmd 0.05 menu3d add BarrierGrid /model vr/BarrierGrid.amf	/material mat_BarrierGrid"
cmd "pcmd 0.05 menu3d setWorldPose BarrierGrid	0.0 0.0 -4.0"
cmd "pcmd 0.05 menu3d setRootScale BarrierGrid 300.0"
cmd "pcmd 0.1 sym set MapName spiral_vr"
cmd "pcmd 0.1 timer clearAsyncWait"
cmd "pcmd 0.1 clearmenu AsyncNoticeDialogVr.txt"
cmd "pcmd 0.1 menuCmd LoadMapPvESoloVR"
cmd "pcmd 0.5 if !vr exec vr.txt"
cmd "pcmd 0.5 if !vr clearmenu"
cmd "pcmd 0.6 loadmenu hudVR"
cmd "pcmd 0.7 menu3d add GameStart /model vr/SimpleTextPoly.amf	/material mat_SimpleText"
cmd "pcmd 0.7 menu3d setWorldPose GameStart	0.0 30.0 25.0"
cmd "pcmd 0.7 menu3d addAnimScript GameStart as_MenuBlockEnter.txt"
cmd "pcmd 0.7 menu3d setRootScale GameStart 		8"
cmd "pcmd 0.7 menu3d setRootRot GameStart	-30 0 0"
}
Script OculusVRGame {
cmd "echo OculusVRGame"
ignoreInputTime 1.0
cmd "menu3d remove *"
cmd "sym set LevelRotation -45"
cmd "exec vr_outsideAirmech.txt"
cmd "sym set RookLocal Chopper_PAX"
cmd "if sym InputPad == 0 sym set LobbyStatusMessage MsgEnterSoloReady"
cmd "if sym InputPad == 1 sym set LobbyStatusMessage MsgEnterSoloReady_pad"
cmd "sym set _soloLaunch_ 1"
cmd "sym set MyId 0"
cmd "sym set _NumPlayers 1"
cmd "sym set MatchmakingType Solo"
cmd "sym set MatchmakingMode Survival"
cmd "menucmd ConMenuLobbySetupSymbols"
cmd "party2 create solo 1"
cmd "party2 updateloadout"
cmd "pcmd 0.05 menu3d add BarrierGrid /model vr/BarrierGrid.amf	/material mat_BarrierGrid"
cmd "pcmd 0.05 menu3d setWorldPose BarrierGrid	0.0 0.0 -4.0"
cmd "pcmd 0.05 menu3d setRootScale BarrierGrid 300.0"
cmd "pcmd 0.1 sym set MapName survival_vr"
cmd "pcmd 0.1 timer clearAsyncWait"
cmd "pcmd 0.1 clearmenu AsyncNoticeDialogVr.txt"
cmd "pcmd 0.1 menuCmd LoadMapPvESoloVR"
cmd "pcmd 0.5 if !vr exec vr.txt"
cmd "pcmd 0.5 if !vr clearmenu"
cmd "pcmd 0.6 loadmenu hudVR"
cmd "pcmd 0.7 menu3d add GameStart /model vr/SimpleTextPoly.amf	/material mat_SimpleText"
cmd "pcmd 0.7 menu3d setWorldPose GameStart	0.0 30.0 25.0"
cmd "pcmd 0.7 menu3d addAnimScript GameStart as_MenuBlockEnter.txt"
cmd "pcmd 0.7 menu3d setRootScale GameStart 		8"
cmd "pcmd 0.7 menu3d setRootRot GameStart	-30 0 0"
}
Script LoadMapPvESoloVR {
frame_block GoStartGame
cmd "log MenuCmd: LoadMapPvESolo"
cmd "sym set max_players 1"
cmd "menucmd InitSpSymbols"
cmd "loadmap #@MapName@.lvl coop prep 0"
}
Script E3Demo {
cmd "exec vr_gamepadhelp"
cmd "menucmd LoadAirMechLogoVR"
cmd "pcmd 0 sym set MapName demo_vr"
cmd "pcmd 0 sym set max_players 1"
cmd "pcmd 0 menucmd InitSpSymbols"
cmd "pcmd 0 loadmap demo_vr.lvl coop prep 0"
cmd "pcmd 0 menucmd AddTableCover"
}
Script LoadMapScreens {
cmd "]menu3d add ScreenBase /model vr/ScreenArray.amf /material mat_ScreenFrame /material mat_RenderToTextureVR"
cmd "]menu3d setWorldPose ScreenBase	0.0 70.0 100.0"
cmd "]menu3d setRootScale ScreenBase	0.7"
cmd "pcmd 0.1 loadmenu VRScreenRTT"
cmd "menu3d addChild FortInside TableTop /model vr/TableTop.amf	/material mat_TableTop"
cmd "menu3d setWorldPose TableTop	0.0 0.0 15.0"
cmd "menu3d setRootScale TableTop 1.05"
}
Script DrawArrows {
cmd "menu3d remove ArrowPan1"
cmd "menu3d addChild FortInside ArrowPan1  /model vr/VRArrow.amf	/material mat_VRArrowPan"
cmd "menu3d setWorldPose ArrowPan1	20.0 12.0 0.0
cmd "menu3d setRootScale ArrowPan1 14
cmd "menu3d setRootRot ArrowPan1 0 0 -45
cmd "menu3d setUPanTarget ArrowPan1 -1 /time 1.25"
cmd "pcmd 1.25 menu3d remove ArrowPan1"
cmd "pcmd 1.0 menu3d addChild FortInside ArrowPan2  /model vr/VRArrow.amf	/material mat_VRArrowPan"
cmd "pcmd 1.0 menu3d setWorldPose ArrowPan2	16.5 -15.0 0.0
cmd "pcmd 1.0 menu3d setRootScale ArrowPan2 14
cmd "pcmd 1.0 menu3d setRootRot ArrowPan2 0 0 -135
cmd "pcmd 1.0 menu3d setUPanTarget ArrowPan2 -1 /time 1.25"
cmd "pcmd 2.25 menu3d remove ArrowPan2"
}
Script AddTableCover {
cmd "menu3d addChild TableFrame TableCoverPan  /model vr/TableCoverPan.amf	/material mat_TableCoverPan"
cmd "menu3d setWorldPose TableCoverPan	0.0 0.0 5.0"
cmd "menu3d setRootScale TableCoverPan 1.03"
cmd "menu3d setRootRot TableCoverPan 0 0 -90"
}
Script LoadAirMechLogoVR_nuke {
cmd "]menu3d add AirMechLogoVR /model vr/AirMechLogoVR3D.amf /material mat_AirMechLogoVR"
cmd "]menu3d setWorldPose AirMechLogoVR	-15.0 60.0 100.0"
cmd "]menu3d setRootScale AirMechLogoVR 100"
cmd "]menu3d setRootRot AirMechLogoVR 70 0 0"
}
Script PostAuthCheckTutorial {
rcmd "menucmd RestoreLanguage"
cmd "loadmenu VRMenusRTT"
cmd "if sym DemoMode > 0 runnow sym set TutorialVrCompleted 0"
cmd "if sym DemoMode == 3 sym set LogoVrType Oculus"
cmd "if sym DemoMode == 2 runnow if sym GPU_MFG == nvidia runnow sym set LogoVrType Nvidia"
cmd "if sym DemoMode == 2 runnow if sym GPU_MFG == amd runnow sym set LogoVrType AMD"
cmd "if sym DemoMode > 1 pcmd 0.5 menucmd SetupLogoVr"
rcmd "menucmd LoadMenuMap"
cmd "if sym TutorialVrCompleted == 0 pcmd_seq BootLogo 0.1 menu3d logicFnc AirMechLogoVR waitAnyPadInput /menucmd TutorialASetup"
cmd "if sym TutorialVrCompleted == 1 pcmd_seq BootLogo 0.1 menu3d logicFnc AirMechLogoVR waitAnyPadInput /menucmd TutorialBSetup"
cmd "if sym TutorialVrCompleted == 2 pcmd_seq BootLogo 0.1 menu3d logicFnc AirMechLogoVR waitAnyPadInput /menucmd BeginUserControl"
cmd "if sym TutorialVrCompleted != 2 pcmd 2.0 sym set VrPlayerReady 1"
}
Script SetupLogoVr {
cmd "menu3d addChild FortInside LogoLeft /model vr/Logos${LogoVrType}.amf /material mat_LogoExt /rootRot 0 0 90 /worldPose -800 200 55 /rootScale 600 /noVis /parentVisCheck
cmd "menu3d addChild FortInside LogoFront /model vr/Logos${LogoVrType}.amf /material mat_LogoExt /rootRot 60 0 0 /worldPose 0 900 650 /rootScale 600 /noVis /parentVisCheck
cmd "menu3d addAnimScript LogoLeft as_VRLogoExtIn.txt
cmd "menu3d addAnimScript LogoFront as_VRLogoExtIn.txt
}
Script DemoSetup {
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 sym inc DemoCheat
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 2 sym set DemoMode 1
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 2 backend save
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 2 playsound Count1
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 3 sym set DemoMode 2
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 3 backend save
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 3 playsound Count2
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 4 sym set DemoMode 3
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 4 backend save
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging == 1 if sym DemoCheat == 4 playsound Count3
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging != 1 && sym DemoCheat > 0 sym set DemoCheat 0
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging != 1 && sym DemoCheat > 0 sym set DemoMode 0
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging != 1 && sym DemoCheat > 0 sym set TutorialVrCompleted 2
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging != 1 && sym DemoCheat > 0 backend save
cmd "if sym _LookAtSkylight == 1 && sym VRFortStateChanging != 1 && sym DemoCheat > 0 playsound LostLead
}
Script BeginUserControl {
rcmd "menucmd SetVrFortState open"
rcmd "menucmd RemoveAirMechLogo"
cmd "menucmd LoadRootVrMenu"
cmd "pcmd t1 exec vr_menuMain.txt"
cmd "sym set SplashVR 0"
cmd "player 0 do transform /forcedReq"
cmd "menu3d remove TableCoverLabel"
cmd "menu3d setUPanTarget TableCoverPan 1.0 /time 1.0"
cmd "pcmd 0.5 menu3d remove TableCoverPan"
cmd "pcmd 2.0 sym set VrPlayerReady 1"
}
Script DrawVersionTexture {
rcmd "menu3d remove InfoBanner"
rcmd "sym set ShowVrInfoText 1"
cmd "menu3d addChild FortKudos InfoBanner /model vr/InfoBanner.amf /material mat_InfoBannerVR_UnlitStdBlend  /worldPose 45 15 7 /rootScale 0.55 /attachToParentBone bone_kudos /noVis"
cmd "pcmd t2 menu3d updateORTSnapshot2 InfoBanner 0 575 1920 80"
cmd "pcmd t4 sym set ShowVrInfoText 0"
cmd "pcmd 0.3 menu3d addAnimScript InfoBanner as_VRMenuIn.txt"
}
Script DrawKudosVr {
rcmd "menu3d remove FortKudos"
rcmd "menu3d add FortKudos /model vr/FortKudosBg.amf /material mat_BarrierGridFadeKudos /worldPose 0 730 425 /rootScale 6 /rootRot 40 0 0 /noVis"
rcmd "menu3d addChild FortKudos FortKudosLabel /model vr/FortKudos.amf /material mat_RenderToTextureVR_UnlitStdBlend /worldPose 0 15 0 /rootScale 1.1 /attachToParentBone bone_kudos /parentVisCheck"
rcmd "pcmd 0.2 menucmd DrawVersionTexture"
cmd "pcmd 0.4 menu3d addAnimScript FortKudos as_VrKudosIn.txt"
}
Script DrawGameStatsVr {
#if vr
cmd "menu3d remove UpkeepCircle"
cmd "menu3d remove MenuLabelScore"
cmd "menu3d remove MenuLabelCredits"
cmd "menu3d remove MenuLabelEnergy"
rcmd "menu3d addChild BuildCubeRoot AbilityCubeRoot /worldPose 52 115 -2 /rootRot 10 0 -24 /rootScale 1.0"
cmd "if sym IsSpectator == 0 menucmd SetupAbilitiesCubes"
cmd "menu3d addChild BuildCubeRoot UpkeepCircle /model vr/UpkeepCircle.amf /material mat_UpkeepCircle /material mat_RenderToTextureVR2_UnlitStdBlend /worldPose 0 0 0 /rootRot 0 0 0 /noVis /noShadowCast  /hiddenCheckBySymbol IsSpectator"
cmd "menu3d addChild UpkeepCircle UpkeepInfo /model vr/UpkeepInfo.amf /material mat_RenderToTextureVR2_UnlitStdBlend /worldPose 0 -2 -14 /rootRot 0 0 0 /rootScale 1.25 /noVis /hiddenCheckBySymbolInv UpkeepCircleActiveLook /noShadowCast"
cmd "menu3d setWorldPose UpkeepCircle -64 120 2"
cmd "menu3d setRootRot UpkeepCircle 0 0 25"
cmd "menu3d setRootScale UpkeepCircle 1.25"
cmd "pcmd 0.1 menu3d addAnimScript UpkeepCircle as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 menu3d addAnimScript UpkeepInfo as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 if menu3dexists UpkeepCircle menu3d logicFnc UpkeepCircle upkeepIndicator /bone bone_army /bone2 bone_upkeep /scalar 2 5 0.25 /noSpectator"
cmd "pcmd 0.1 if menu3dexists UpkeepCircle menu3d logicFnc UpkeepCircle lookAtToSymSet /symbol UpkeepCircleActiveLook /arc 14 /noSpectator"
cmd "menu3d addChild BuildCubeRoot MenuLabelScore /model vr/TextLabelKudos.amf /material mat_RenderToTextureVR_UnlitStdBlend /worldPose 0 0 0 /rootScale 1.0 /rootRot 0 0 0 /noVis /hiddenCheckBySymbol IsSpectator"
cmd "menu3d addChild BuildCubeRoot MenuLabelCredits /model vr/TextLabelCredits.amf /material mat_RenderToTextureVR_UnlitStdBlend /worldPose 0 0 0 /rootScale 0.7 /rootRot 0 0 0 /noVis /hiddenCheckBySymbol IsSpectator"
cmd "menu3d addChild BuildCubeRoot MenuLabelEnergy /model vr/TextLabelPlayerInfo.amf /material mat_RenderToTextureVR_UnlitStdBlend /worldPose 0 0 0 /rootScale 1.0  /rootRot 0 0 0 /noVis /hiddenCheckBySymbol IsSpectator"
cmd "sym set DrawingStatusText 1"
cmd "menu3d addChild MenuLabelScore MenuInfoScore /model vr/TextLabelInfo.amf /material mat_VrGamepadText /worldPose -3 0 5 /rootRot 0 0 0 /rootScale 0.75  /noShadowCast /hiddenCheckBySymbolInv MenuInfoActiveLook /noVis"
cmd "menu3d addChild MenuLabelCredits MenuInfoCredits /model vr/TextLabelInfo.amf /material mat_VrGamepadText /worldPose 0 0 5 /rootRot 0 0 0 /rootScale 1  /noShadowCast /hiddenCheckBySymbolInv MenuInfoActiveLook /noVis"
cmd "menu3d addChild MenuLabelEnergy MenuInfoEnergy /model vr/TextLabelInfo.amf /material mat_VrGamepadText /worldPose 5.5 2 -2 /rootRot 0 2 10 /rootScale 0.6 /noShadowCast /hiddenCheckBySymbolInv MenuInfoActiveLook /noVis"
cmd "pcmd t4 sym set StatusText ScoreLabel"
cmd "pcmd t4 gameui refreshFilterName VrStatus"
cmd "pcmd t5 menu3d updateORTSnapshot2 MenuInfoScore 0 310 600 100"
cmd "pcmd t6 sym set StatusText CreditsLabel"
cmd "pcmd t6 gameui refreshFilterName VrStatus"
cmd "pcmd t7 menu3d updateORTSnapshot2 MenuInfoCredits 0 310 600 100"
cmd "pcmd t7 sym set StatusText EnergyLabel"
cmd "pcmd t7 gameui refreshFilterName VrStatus"
cmd "pcmd t8 menu3d updateORTSnapshot2 MenuInfoEnergy 0 310 600 100"
cmd "pcmd t9 sym set DrawingStatusText 0"
cmd "pcmd 0.1 if menu3dexists AbilityCubeRoot menu3d logicFnc AbilityCubeRoot lookAtToSymSet /symbol MenuInfoActiveLook /arc 14 /noSpectator"
cmd "menu3d setWorldPose MenuLabelScore 81 97 -1"
cmd "menu3d setRootRot MenuLabelScore 10 0 -46"
cmd "menu3d setWorldPose MenuLabelCredits 78 100 -8"
cmd "menu3d setRootRot MenuLabelCredits 10 0 -46"
cmd "menu3d setWorldPose MenuLabelEnergy 57 110 -11"
cmd "menu3d setRootRot MenuLabelEnergy 10 -2 -40"
cmd "pcmd 0.1 menu3d addAnimScript MenuLabelScore as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 menu3d addAnimScript MenuInfoScore as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 menu3d addAnimScript MenuLabelCredits as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 menu3d addAnimScript MenuInfoCredits as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 menu3d addAnimScript MenuLabelEnergy as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 menu3d addAnimScript MenuInfoEnergy as_VRMenuIn.txt 0.8"
cmd "pcmd 0.1 gameui refreshFilterName VrStatus"
#endif
}
Script SetupAbilitiesCubes {
cmd "echo building ability cubes"
cmd "sym set _AbilityCubeIndex_ 0"
cmd "sym set _AbilityCubePosX_ 0"
cmd "sym init _AbilityTypeAir_"
cmd "sym init _AbilityTypeGnd_"
cmd "sym set _AbilityCount_ 0"
cmd "sym op #Abilities@RookLocal_Base@Air getcount _AbilityCount_"
cmd "sym set DrawingStatusText 1"
cmd "menu3d addChild AbilityCubeRoot MenuInfoAbilities /model vr/TextLabelInfo.amf /material mat_VrGamepadText /worldPose 14 0 6.5 /rootRot 0 0 0 /rootScale 0.75  /noShadowCast /hiddenCheckBySymbolInv MenuInfoActiveLook /noVis"
cmd "pcmd t1 sym set StatusText AbilitiesLabel"
cmd "pcmd t1 gameui refreshFilterName VrStatus"
cmd "pcmd t2 menu3d updateORTSnapshot2 MenuInfoAbilities 0 310 600 100"
cmd "pcmd 0.1 menu3d addAnimScript MenuInfoAbilities as_VRMenuIn.txt 0.8"
cmd "pcmd 0 if sym _AbilityCount_ > 0 menucmd CreateAbilityCubeSingle"
}
Script CreateAbilityCubeSingle {
rcmd "sym op #Abilities@RookLocal_Base@Air copyNth $_AbilityCubeIndex_ _AbilityTypeAir_"
rcmd "sym op #Abilities@RookLocal_Base@Gnd copyNth $_AbilityCubeIndex_ _AbilityTypeGnd_"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB0 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 0"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB1 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 1"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB2 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 2"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB3 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 3"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB4 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 4"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB5 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 5"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB6 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 6"
rcmd "if sym _AbilityTypeAir_ == $Rook@RookIndex@AB7 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Air 7"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB0 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 0"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB1 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 1"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB2 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 2"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB3 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 3"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB4 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 4"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB5 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 5"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB6 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 6"
rcmd "if sym _AbilityTypeGnd_ == $Rook@RookIndex@AB7 runnow sym set #AbilityIndex@_AbilityCubeIndex_@Gnd 7"
rcmd "gameui refreshfiltername AbilityCube"
rcmd "pcmd t1 sym set _AbilityButton_ X"
rcmd "pcmd t1 if sym _AbilityTypeAir_ == Lifter || sym _AbilityTypeAir_ == HealNova || sym _AbilityTypeAir_ == Whirlwind || sym _AbilityTypeAir_ == AuraDefense || sym _AbilityTypeAir_ == RadarDisrupt || sym _AbilityTypeAir_ == MissileBurst || sym _AbilityTypeAir_ == Loop || sym _AbilityTypeAir_ == PwrShield runnow sym set _AbilityButton_ X"
rcmd "pcmd t1 if sym _AbilityTypeAir_ == Blink || sym _AbilityTypeAir_ == Mantis || sym _AbilityTypeAir_ == Cloak || sym _AbilityTypeAir_ == Afterburner || sym _AbilityTypeAir_ == GunSpray || sym _AbilityTypeAir_ == MR || sym _AbilityTypeAir_ == Bombs || sym _AbilityTypeAir_ == Healing || sym _AbilityTypeAir_ == HammerThrow || sym _AbilityTypeAir_ == Deathray || sym _AbilityTypeAir_ == Sniper runnow sym set _AbilityButton_ RT"
rcmd "pcmd t1 sym set _NoAirAbility_ 0"
rcmd "pcmd t1 if sym RookLocal_Base == Angel || sym RookLocal_Base == Paladin runnow sym set _NoAirAbility_ 1"
rcmd "pcmd t2 if sym _NoAirAbility_ == 1 && sym _AbilityCubeIndex_ == 1 runnow menu3d addChild AbilityCubeRoot #AbilityCube@_AbilityCubeIndex_@ /model vr/AbilityCube@_AbilityCubeIndex_@.amf /material mat_RenderToTextureVR_UnlitStdBlend /rootRot 0 0 0 /rootScale 0.8 /worldPose $_AbilityCubePosX_ 0 0 /noShadowCast /noVis /hiddenCheckBySymbol LocalAM_AirMode"
rcmd "pcmd t2 if sym _NoAirAbility_ == 1 && sym _AbilityCubeIndex_ != 1 runnow menu3d addChild AbilityCubeRoot #AbilityCube@_AbilityCubeIndex_@ /model vr/AbilityCube@_AbilityCubeIndex_@.amf /material mat_RenderToTextureVR_UnlitStdBlend /rootRot 0 0 0 /rootScale 0.8 /worldPose $_AbilityCubePosX_ 0 0 /noShadowCast /noVis"
rcmd "pcmd t2 if sym _NoAirAbility_ != 1 runnow menu3d addChild AbilityCubeRoot #AbilityCube@_AbilityCubeIndex_@ /model vr/AbilityCube@_AbilityCubeIndex_@.amf /material mat_RenderToTextureVR_UnlitStdBlend /rootRot 0 0 0 /rootScale 0.8 /worldPose $_AbilityCubePosX_ 0 0 /noShadowCast /noVis"
rcmd "pcmd t2 menu3d addChild #AbilityCube@_AbilityCubeIndex_@ #AbilityButton@_AbilityCubeIndex_@ /model vr/Button@_AbilityButton_@.amf /material mat_MenuButtonsGamepadNoCast /noShadowCast /worldPose 0 -2 -5 /rootRot 90 0 0 /rootScale 0.8 /noVis /parentVisCheck"
rcmd "pcmd t3 menu3d addAnimScript #AbilityCube@_AbilityCubeIndex_@ as_BuildCubeScaleIn.txt 1.0"
rcmd "pcmd t3 menu3d addAnimScript #AbilityButton@_AbilityCubeIndex_@ as_VRMenuIn.txt 1.0"
rcmd "pcmd t3 sym inc _AbilityCubeIndex_ 1"
rcmd "pcmd t3 sym inc _AbilityCubePosX_ 10"
rcmd "pcmd t3 if sym _AbilityCubeIndex_ < $_AbilityCount_ pcmd t7 menucmd CreateAbilityCubeSingle"
rcmd "pcmd t3 if sym _AbilityCubeIndex_ >= $_AbilityCount_ sym set _AbilityCubeIndex_ 0"
}
Script VRTutStart {
ignoreInputTime 0.2
rcmd "menu3d addAnimScript FortKudos as_VRKudosOut.txt"
cmd "sym set VrTutorialStage 1"
cmd "sym set VrMatchType tutorial"
frame_blockN _VrTutStart_ 30
cmd "sym set VrTutorial 1"
cmd "sym set BuildCubeEnabled 0"
cmd "player 0 disableFn aim fire fireGuns transform actAbility"
cmd "if gamecheck watchAmAir player 0 do transform /forcedReq"
rcmd "menu3d setInvisible MenusVROptions"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
cmd "menucmd HideVrMenuSet Credits"
rcmd "sym clear MenuTouchCmd MenuTouchCancelCmd"
cmd "menucmd VrMenuTextUnfocus MenuLabelTutorial"
rcmd "sym set MenuTouch 0"
cmd "menu3d addAnimScript MenuSpeakerL as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuSpeakerR as_VRMenuHide.txt"
cmd "pcmd 0.1 player 0 setPosition 0 0 0"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 state .MenuColLang terminate"
cmd "pcmd 0.1 state .MenuColAudio terminate"
cmd "pcmd 0.1 state .MenuColGamepad terminate"
cmd "pcmd 0.1 state .MenuColTutorial terminate"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "backend save"
cmd "sym set VRTutVoice 0"
cmd "pcmd 1.5 menu3d remove AirMechLogoVR"
cmd "music stop"
cmd "sym set SplashVR 0"
rcmd "sym set _TutorialStage A"
cmd "menucmd TutA0"
cmd "if sym VRTutVoice == 1 pcmd 0.3 playSound Voice2 /pos $VR_VoicePos"
}
Script TutorialBSetup {
ignoreInputTime 0.2
frame_blockN _VrTutStart_ 30
cmd "if !menu3dexists MenusVR runnow exec vr_menuCore.txt"
cmd "sym set VrMatchType tutorial"
rcmd "menu3d addAnimScript FortKudos as_VRKudosOut.txt"
rcmd "pcmd 1.0 menucmd RemoveAirMechLogo"
rcmd "menucmd VrMenuTextUnfocus MenuLabelTutorial2"
rcmd "sym set _TutorialStage B"
cmd "sym set VrTutorial 1"
cmd "sym setZero VrTutorialUnitsBuilt"
rcmd "sym set VrMenuText"
rcmd "sym set VrMenuTextDesc"
cmd "sym set VrTutorialStage 0"
cmd "sym set BuildCubeEnabled 1"
cmd "menucmd VrMenuTextUnfocus MenuLabelTutorial2"
rcmd "pcmd 0.5 gfx set VR_Settings /shadowFocusDistance 300.0 /shadowRange 550.0"
cmd "player 0 disableFn aim fire fireGuns transform actAbility"
cmd "if gamecheck watchAmAir player 0 do transform /forcedReq"
rcmd "menu3d setInvisible MenusVROptions"
rcmd "playsound VrButtonSelect"
cmd "pcmd 0 worldview moveto 0 0 0 /slew 0.1"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
rcmd "sym clear MenuTouchCmd MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "menu3d addAnimScript MenuSpeakerL as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuSpeakerR as_VRMenuHide.txt"
cmd "pcmd 0.1 player 0 setPosition $_WorldPosOptions 0.35"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 state .MenuColLang terminate"
cmd "pcmd 0.1 state .MenuColAudio terminate"
cmd "pcmd 0.1 state .MenuColGamepad terminate"
cmd "pcmd 0.1 state .MenuColTutorial terminate"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
cmd "pcmd 0.5 sym set MenuTouch 1"
cmd "backend save"
cmd "sym set VRTutVoice 0"
cmd "pcmd 0.5 menu3d add Gamepad /model vr/Gamepad.amf	/material mat_Gamepad"
cmd "music stop"
cmd "sym set SplashVR 0"
cmd "if !menu3dexists Mechy menucmd ContinueMechy"
cmd "pcmd_seq Tutorial p0.1 menu3d addAnimScript Mechy as_MechyContinue.txt 1.0"
cmd "pcmd_seq Tutorial p1.25 if sym VrFirstRun == 1 menu3d logicFnc Mechy waitAnyPadInput /menucmd TutBStart"
cmd "pcmd_seq Tutorial p1.25 if sym VrFirstRun == 0 menucmd TutBStart"
cmd "pcmd_seq Tutorial p1.5 menu3d animate Mechy rooks/Mechy/Mechy_IntroWave.aaf playonce 1 1.0"
}
Script VR_Inf {
cmd "menu3d setInvisible TableFrame"
cmd "menu3d addChild FortInside TableFrame /model vr/TableFrame.amf	/material mat_TableFrame
cmd "menu3d setWorldPose TableFrame	0.0 0.0 11.0
cmd "menu3d setRootScale TableFrame 1.05
cmd "sym set LevelRotation 0"
cmd "menu3d animate FortInside vr/FortDamage0.aaf playonce 0 1.0"
cmd "sym set VRTableSpin 0"
cmd "sym set VRMechAnim 0"
cmd "exec vr_inf.txt"
cmd "loadmenu VRViewer"
cmd "sym set VRMenuLoaded 0"
}
Script TutBStart {
cmd "pcmd p0.8 menu3d remove AirMechLogoVR"
cmd "player 0 enableFn visibility move fire fireGuns aim transform"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd_seq Tutorial p0.5 menucmd PlayMechyVoice VR2_Continue"
cmd "pcmd_seq Tutorial p9.2 menucmd TutBGamepadCubes"
cmd "pcmd_seq Tutorial p0.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script TutBGamepadCubes {
cmd "pcmd_seq Tutorial p1.5 menucmd PlayMechyVoice VR2_BuildBar"
cmd "pcmd_seq Tutorial p0.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_2.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p1.0 menu3d addAnimScript Mechy as_MechyBuildBar.txt 1.0"
cmd "menu3d add Gamepad /model vr/Gamepad.amf	/material mat_Gamepad"
cmd "menu3d logicFnc Gamepad trackStickL /bone bone_nudge_l /mag 5"
cmd "menu3d logicFnc Gamepad trackStickR /bone bone_nudge_r /mag 5"
cmd "menu3d logicFnc Gamepad trackDPad /bone bone_nudgepad /mag 1 /transitionTime 0.1"
cmd "menu3d logicFnc Gamepad trackStickL /bone bone_stick_l /mag 23"
cmd "menu3d logicFnc Gamepad trackStickR /bone bone_stick_r /mag 23"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_a /button A /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_b /button B /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_x /button X /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_y /button Y /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_bumper_l /button LShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_bumper_r /button RShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_start /button start /offset 0 0 -0.005"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_back /button back /offset 0 0 -0.005"
cmd "menu3d logicFnc Gamepad trackDPad /bone bone_dpad /mag 14"
cmd "menu3d setWorldPose Gamepad	0.0 100.0 -45.0"
cmd "menu3d setRootScale Gamepad 350.0"
cmd "menu3d setRootRot Gamepad 75 0 0"
cmd "sym set _VrTpDown_ 1"
cmd "pcmd_seq Tutorial p8.0 menucmd GpadBuildBarStart"
cmd "sym set _BuildCubeIndex_ 0"
cmd "sym setFrom FinalUnitToBuild AS0P0"
cmd "menucmd SetupBuildCubeInfo"
cmd "pcmd_seq Tutorial p1.0 gameui ignoreInputTime 0.9"
cmd "pcmd_seq Tutorial p1.0 menucmd ForceToDefaultLoadoutVR"
cmd "pcmd_seq Tutorial p1.0 sym set VrTutorialStage 1"
cmd "pcmd_seq Tutorial p1.0 sym set VrCustomizeArmy 1"
cmd "pcmd_seq Tutorial p1.0 menucmd SetupBuildCubes"
cmd "pcmd_seq Tutorial p1.3 menu3d setInvisible BuildButtonA BuildButtonA2"
cmd "pcmd_seq Tutorial p1.1 menu3d addAnimScript BuildCubeRoot as_VRMenuBuildCubeConfig.txt 0.7"
cmd "pcmd_seq Tutorial p3.5 menucmd DemoBuildCube"
}
Script BuildCubeShiftDemo {
rcmd "menu3d addAnimScript #BuildCube@_BuildCubeIndex_@Base as_BuildCubeBlockUnfocus.txt 2.0"
rcmd "sym inc _BuildCubeIndex_ $_MArg1_"
rcmd "sym setFrom _BuildCubeRotZ _BuildCubeIndex_"
rcmd "sym multi _BuildCubeRotZ -5"
cmd "pcmd t1 menu3d addAnimScript BuildCubeFrameBase as_BuildCubeFrameDemo.txt 2.0"
cmd "pcmd t1 menu3d addAnimScript #BuildCube@_BuildCubeIndex_@Base as_BuildCubeBlockFocus.txt 2.0"
}
Script DemoBuildCube {
ignoreInputTime 1.8
cmd "menucmd BuildCubeShiftDemo local 1"
cmd "pcmd_seq Tutorial p0.1 menucmd BuildCubeShiftDemo local 1"
cmd "pcmd_seq Tutorial p0.2 menucmd BuildCubeShiftDemo local 1"
cmd "pcmd_seq Tutorial p0.3 menucmd BuildCubeShiftDemo local 1"
cmd "pcmd_seq Tutorial p0.4 menucmd BuildCubeShiftDemo local 1"
cmd "pcmd_seq Tutorial p0.5 menucmd BuildCubeShiftDemo local 1"
cmd "pcmd_seq Tutorial p0.6 menucmd BuildCubeShiftDemo local 1"
cmd "pcmd_seq Tutorial p0.9 menucmd BuildCubeShiftDemo local -1"
cmd "pcmd_seq Tutorial p1.0 menucmd BuildCubeShiftDemo local -1"
cmd "pcmd_seq Tutorial p1.1 menucmd BuildCubeShiftDemo local -1"
cmd "pcmd_seq Tutorial p1.2 menucmd BuildCubeShiftDemo local -1"
cmd "pcmd_seq Tutorial p1.3 menucmd BuildCubeShiftDemo local -1"
cmd "pcmd_seq Tutorial p1.4 menucmd BuildCubeShiftDemo local -1"
cmd "pcmd_seq Tutorial p1.5 menucmd BuildCubeShiftDemo local -1"
}
Script TutA0 {
cmd "if !menu3dexists Mechy menucmd TutMechy"
cmd "sym set VrTutorial 1"
rcmd "sym set _TutorialStep 0"
cmd "pcmd_seq Tutorial p4.0 worldview moveto 0 0 0 /lin 0.7"
cmd "pcmd_seq Tutorial p2.0 menu3d animate Mechy rooks/Mechy/Mechy_WakeUp.aaf stopandhold 0 1.0"
cmd "pcmd_seq Tutorial p2.0 pfx menu3dspawn MechySmoke /menu3d Mechy /bone bone_jet_R_1 /tag MechySmoke"
cmd "pcmd_seq Tutorial p2.0 pfx menu3dspawn MechySmoke /menu3d Mechy /bone bone_jet_L_1 /tag MechySmoke"
cmd "pcmd_seq Tutorial p4.0 pfx stop MechySmoke"
cmd "pcmd_seq Tutorial p3.8 menu3d addAnimScript Mechy as_MechyWake.txt 1.0"
cmd "pcmd_seq Tutorial p2.5 menucmd PlayMechyVoice VR1_Hello"
cmd "pcmd_seq Tutorial p5.46 menu3d animate Mechy rooks/Mechy/Mechy_IntroWave.aaf playonce 0 1.0"
cmd "pcmd_seq Tutorial p9.96 menu3d animate Mechy rooks/Mechy/Mechy_Hover_1.aaf looping 0 1.0"
cmd "sym setl MechyAnims Mechy_Talk_1 Mechy_Talk_2 Mechy_Talk_3 Mechy_WakeUp Mechy_Horray_1 Mechy_Horray_2 Mechy_Horray_3 Mechy_Destroy_1 Mechy_Destroy_2 Mechy_Destroy_3"
cmd "pcmd_seq Tutorial p10.0 menucmd TutA1"
}
Script TutMechy {
cmd "menu3d add Gamepad /model vr/Gamepad.amf	/material mat_Gamepad"
cmd "menu3d setWorldPose Gamepad	0.0 100.0 -45.0"
cmd "menu3d setRootScale Gamepad 350.0"
cmd "menu3d setRootRot Gamepad 75 0 0"
cmd "menu3d addAnimScript Gamepad as_GpadFirst.txt"
cmd "menu3d add Mechy /model rooks/Mechy/Mechy_Ref.amf /material mat_MechyBlue /material mat_MechyThrust /worldPose 0 20 0 /rootScale 25 /rootRot 0 0 0 /noVis"
cmd "menu3d animate Mechy rooks/Mechy/Mechy_WakeUp.aaf stopandhold 0 0.0"
cmd "pcmd_seq Tutorial t1 menu3d setVisible Mechy"
cmd "pcmd 0.1 pfx menu3dspawn AirMechSwap /menu3d Mechy /bone bone_root"
cmd "player 0 disableFn visibility move"
}
Script ContinueMechy {
cmd "echo didn't find Mechy, making new one for TutB"
cmd "menu3d add Mechy /model rooks/Mechy/Mechy_Ref.amf /material mat_MechyBlue /material mat_MechyThrust /worldPose 0 20 0 /rootScale 25 /rootRot 0 0 0 /noVis"
cmd "menu3d animate Mechy rooks/Mechy/Mechy_Enter.aaf stopandhold 0 1.0"
cmd "pcmd_seq Tutorial 1.0 menu3d animate Mechy rooks/Mechy/Mechy_Hover_1.aaf looping 0 1.0"
cmd "pcmd_seq Tutorial t1 menu3d setVisible Mechy"
cmd "if sym _TutorialStage != C player 0 disableFn visibility move"
cmd "menu3d remove TableCoverLabel"
cmd "menu3d setUPanTarget TableCoverPan 1.0 /time 1.0"
cmd "pcmd 0.5 menu3d remove TableCoverPan"
}
Script TutA1 {
rcmd "sym set _TutorialStep 1"
cmd "pcmd_seq Tutorial 0.5 menucmd PlayMechyVoice VR1_Summon"
cmd "menu3d addAnimScript Gamepad as_GpadSummon.txt 0.7"
cmd "menu3d animate Mechy rooks/Mechy/Mechy_Talk_3.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial 1.25 menu3d logicFnc Mechy waitButton /button a /menucmd TutA2"
cmd "menu3d logicFnc Gamepad trackStickL /bone bone_nudge_l /mag 5"
cmd "menu3d logicFnc Gamepad trackStickR /bone bone_nudge_r /mag 5"
cmd "menu3d logicFnc Gamepad trackStickL /bone bone_stick_l /mag 23"
cmd "menu3d logicFnc Gamepad trackStickR /bone bone_stick_r /mag 23"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_a /button A /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_b /button B /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_x /button X /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_y /button Y /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_bumper_l /button LShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_bumper_r /button RShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_start /button start /offset 0 0 -0.005"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_back /button back /offset 0 0 -0.005"
cmd "menu3d logicFnc Gamepad trackDPad /bone bone_dpad /mag 14"
cmd "menu3d addChild Gamepad GpadLineContinue /model vr/GpadLineA2.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "menu3d addChild GpadLineContinue GpadTextContinue /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.5 /noVis"
rcmd "sym set HideGamepadText 0"
cmd "pcmd t1 sym set GamepadText2 GamepadContinue"
cmd "pcmd t0 sym set GamepadTextAlign 0"
cmd "pcmd t2 menu3d updateORTSnapshot2 GpadTextContinue 0 960 930 110"
cmd "pcmd t3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial 1.5 menu3d setUPanTarget GpadLineContinue -1 /time 0.5"
cmd "pcmd_seq Tutorial 1.5 menu3d addAnimScript GpadTextContinue as_VRMenuIn.txt"
}
Script TutorialASetup {
rcmd "menu3d addAnimScript FortKudos as_VRKudosOut.txt"
rcmd "player 0 disableFn move"
rcmd "menucmd RemoveAirMechLogo"
rcmd "menucmd MechyAtStartup"
cmd "sym setZero VrTutorialUnitsBuilt"
cmd "menu3d add Gamepad /model vr/Gamepad.amf	/material mat_Gamepad"
cmd "menu3d setWorldPose Gamepad	0.0 100.0 -45.0"
cmd "menu3d setRootScale Gamepad 350.0"
cmd "menu3d setRootRot Gamepad 75 0 0"
cmd "menu3d addAnimScript Gamepad as_GpadFirst.txt"
cmd "menucmd VRTutStart"
}
Script GpadBuildBarStart {
sym_value_block VrTutorial==1
cmd "menu3d addAnimScript Gamepad as_GpadBuild.txt"
cmd "pcmd_seq Tutorial p1.5 sym set VrTutorialStage 2"
cmd "pcmd_seq Tutorial p2.0 sym set _VrTpDown_ 0"
cmd "pcmd_seq Tutorial p0.1 menu3d addChild Gamepad GpadLineSelect /model vr/GpadLineDpadRightLeft.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p0.1 menu3d addChild GpadLineSelect GpadTextSelect /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text2 /rootScale 1.5 /noVis"
rcmd "pcmd_seq Tutorial p0.5 sym set HideGamepadText 0"
cmd "pcmd_seq Tutorial p0.5 pcmd t1 sym set GamepadText2 TutSelect"
cmd "pcmd_seq Tutorial p0.5 pcmd t0 sym set GamepadTextAlign 1"
cmd "pcmd_seq Tutorial p0.5 pcmd t2 menu3d updateORTSnapshot2 GpadTextSelect 0 960 930 110"
cmd "pcmd_seq Tutorial p0.5 pcmd t3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p1.0 menu3d setUPanTarget GpadLineSelect -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.0 menu3d addAnimScript GpadTextSelect as_VRMenuIn.txt"
}
Script GpadBuildBarPart2 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 3"
cmd "playsound UI_MatchStart_Go"
cmd "menu3d setUPanTarget GpadLineSelect 0 /time 0.5"
cmd "menu3d addAnimScript GpadTextSelect as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadLineSelect"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadTextSelect"
cmd "pcmd_seq Tutorial p2.5 menucmd PlayMechyVoice VR2_Cycle"
cmd "pcmd_seq Tutorial p2.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_3.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p5.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_2.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p0.5 menu3d addChild Gamepad GpadLineChange /model vr/GpadLineDpadUpDown.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p0.5 menu3d addChild GpadLineChange GpadTextChange /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.5 /noVis"
rcmd "pcmd_seq Tutorial p1.0 sym set HideGamepadText 0"
cmd "pcmd_seq Tutorial p1.0 pcmd t1 sym set GamepadText2 TutChange"
cmd "pcmd_seq Tutorial p1.0 pcmd t0 sym set GamepadTextAlign 1"
cmd "pcmd_seq Tutorial p1.0 pcmd t2 menu3d updateORTSnapshot2 GpadTextChange 0 960 930 110"
cmd "pcmd_seq Tutorial p1.0 pcmd t3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadLineChange -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.5 menu3d addAnimScript GpadTextChange as_VRMenuIn.txt"
}
Script GpadBuildBarPart3 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 4"
rcmd "sym setZero VrTutorialUnitsBuilt"
cmd "playsound UI_MatchStart_Go"
cmd "menu3d addAnimScript Gamepad as_GpadBuildA.txt"
cmd "menu3d setUPanTarget GpadLineSelect 0 /time 0.5"
cmd "menu3d addAnimScript GpadTextSelect as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadLineSelect"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadTextSelect"
cmd "player 0 disableFn pickup"
cmd "pcmd_seq Tutorial p2.5 menucmd PlayMechyVoice VR2_Build"
cmd "pcmd_seq Tutorial p2.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p5.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_2.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p0.5 worldview scaleto 8.0"
cmd "pcmd_seq Tutorial p1.0 sym set WorldZoomLevel 1"
cmd "pcmd_seq Tutorial p0.75 worldview moveto 8 9 0"
cmd "pcmd_seq Tutorial p0.5 worldview rotateto 235"
cmd "pcmd_seq Tutorial p0.2 menu3d addAnimScript BuildButtonA as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p0.2 menu3d addAnimScript BuildButtonA2 as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadBuildBarSide"
cmd "pcmd_seq Tutorial p2.0 floatsym set F_BB 0.0"
cmd "pcmd_seq Tutorial p1.0 menu3d addChild Gamepad GpadLineBuild /model vr/GpadLineA4.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p1.0 menu3d addChild GpadLineBuild GpadTextBuild /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.5 /noVis"
rcmd "pcmd_seq Tutorial p1.1 sym set HideGamepadText 0"
cmd "pcmd_seq Tutorial p1.1 pcmd t1 sym set GamepadText2 TutBuild"
cmd "pcmd_seq Tutorial p1.1 pcmd t0 sym set GamepadTextAlign 0"
cmd "pcmd_seq Tutorial p1.1 pcmd t2 menu3d updateORTSnapshot2 GpadTextBuild 0 960 930 110"
cmd "pcmd_seq Tutorial p1.1 pcmd t3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadLineBuild -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.5 menu3d addAnimScript GpadTextBuild as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p2.5 menucmd CreateObjective ObjectiveB2Units -60"
}
Script GpadBuildBarPart4 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 5"
cmd "playsound UI_MatchStart_Go"
rcmd "sym setZero BuildCubeActive BuildCubeActive BuildCubeActiveLook"
cmd "pcmd_seq Tutorial p0.1 menucmd CreateObjective ObjectiveCargoHold 60"
cmd "pcmd_seq Tutorial p1.0 menucmd FinishTopObjective"
cmd "menu3d addAnimScript Gamepad as_GpadBuildB.txt"
cmd "menu3d setUPanTarget GpadLineBuild 0 /time 0.5"
cmd "pcmd_seq Tutorial p0.1 menu3d remove GpadLineBuild"
cmd "pcmd_seq Tutorial p0.1 menu3d addAnimScript GpadTextBuild as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.2 menucmd ClearBuildBar"
cmd "pcmd_seq Tutorial p0.5 menucmd PlayMechyVoice VR2_Pickup"
cmd "pcmd_seq Tutorial p0.2 menu3d addAnimScript Mechy as_MechyCargoHold.txt 1.0"
cmd "pcmd_seq Tutorial p1.0 player 0 enableFn pickup"
cmd "pcmd_seq Tutorial p1.0 menu3d addChild Gamepad GpadLineCargo /model vr/GpadLineA3.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p1.0 menu3d addChild GpadLineCargo GpadTextCargo /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.5 /noVis"
rcmd "pcmd_seq Tutorial p1.1 sym set HideGamepadText 0"
cmd "pcmd_seq Tutorial p1.1 pcmd t1 sym set GamepadText2 GamepadCargoHold"
cmd "pcmd_seq Tutorial p1.1 pcmd t0 sym set GamepadTextAlign 0"
cmd "pcmd_seq Tutorial p1.1 pcmd t2 menu3d updateORTSnapshot2 GpadTextCargo 0 960 930 110"
cmd "pcmd_seq Tutorial p1.1 pcmd t3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadLineCargo -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.5 menu3d addAnimScript GpadTextCargo as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p2.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p1.9 player 0 enableFn transform"
cmd "pcmd_seq Tutorial p2.0 if sym LocalAM_AirMode == 0 runnow player 0 do transform /forceReq"
cmd "pcmd_seq Hint p20.0 menucmd GpadBuildBarPart4_remind"
}
Script GpadBuildBarPart4_remind {
cmd "menucmd PlayMechyVoice VR2_Pickup"
cmd "pcmd_seq Hint p20.0 menucmd GpadBuildBarPart4_remind"
}
Script GpadBuildBarPart5 {
ignoreInputTime 0.2
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 6"
rcmd "sym setZero VrTutorialUnitsBuilt"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
cmd "player 0 disableFn dropunit setorder setorder_cap setorder_pat setorder_hld setorder_atk setorder_lnk"
cmd "pcmd_seq Tutorial p0.1 menucmd FinishTopObjective"
cmd "menu3d setUPanTarget GpadLineCargo 0 /time 0.5"
cmd "pcmd_seq Tutorial p0.1 menu3d addAnimScript GpadTextCargo as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadLineCargo"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadTextCargo"
cmd "pcmd_seq Tutorial p0.75 menu3d addAnimScript Gamepad as_GpadExitDown.txt"
cmd "pcmd_seq Tutorial p0.2 menu3d addAnimScript Mechy as_MechyBuildB.txt 1.0"
cmd "pcmd_seq Tutorial p1.5 menucmd PlayMechyVoice VR2_Capture"
cmd "pcmd_seq Tutorial p7.0 sym set TutorialHint 1"
cmd "pcmd_seq Hint p20.0 menucmd GpadBuildBarPart5_remind"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p1.5 worldview moveto 38 -2 0 /lin 2.0"
cmd "pcmd_seq Tutorial p1.5 worldview scaleto 7.0 /lin 2.0"
cmd "pcmd_seq Tutorial p1.3 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p1.3 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p1.3 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p1.3 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p1.3 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p1.3 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p1.4 pcmd t1 sym set ObjectiveMainTitle ObjectiveCaptureOutpostTitle"
cmd "pcmd_seq Tutorial p1.4 pcmd t1 sym set ObjectiveMainDesc ObjectiveCaptureOutpostDesc"
cmd "pcmd_seq Tutorial p1.4 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p1.4 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p2.0 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p2.0 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.8"
cmd "pcmd_seq Tutorial p2.0 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p4.5 menucmd CreateObjective ObjectiveCapture 60"
cmd "pcmd_seq Tutorial p5.0 menucmd CreateObjective ObjectiveCaptureOutpostTitle 60"
cmd "pcmd_seq Tutorial p4.5 menu3d addChild Gamepad GpadLineCapture /model vr/GpadLineDpadRight.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p4.5 menu3d addChild GpadLineCapture GpadTextCapture /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.5 /noVis"
rcmd "pcmd_seq Tutorial p4.7 sym set HideGamepadText 0"
cmd "pcmd_seq Tutorial p4.7 pcmd t1 sym set GamepadText2 GamepadCapture"
cmd "pcmd_seq Tutorial p4.7 pcmd t0 sym set GamepadTextAlign 1"
cmd "pcmd_seq Tutorial p4.7 pcmd t2 menu3d updateORTSnapshot2 GpadTextCapture 0 960 930 110"
cmd "pcmd_seq Tutorial p4.7 pcmd t3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p4.0 menu3d setUPanTarget ObjectiveMainBg 0 /time 0.5"
cmd "pcmd_seq Tutorial p4.0 menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p4.5 menu3d remove ObjectiveMainText"
cmd "pcmd_seq Tutorial p4.5 menu3d addAnimScript Gamepad as_GpadCaptureEnter.txt"
cmd "pcmd_seq Tutorial p5.0 menu3d setUPanTarget GpadLineCapture -1 /time 0.5"
cmd "pcmd_seq Tutorial p5.0 menu3d addAnimScript GpadTextCapture as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p5.0 player 0 enableFn dropunit setorder setorder_cap"
}
Script GpadBuildBarPart5_remind {
cmd "if sym TutorialHint == 1 menucmd PlayMechyVoice VR2_Capture"
cmd "sym set TutorialHint 0"
cmd "pcmd_seq Hint p6.0 sym set TutorialHint 1"
cmd "pcmd_seq Hint p20.0 menucmd GpadBuildBarPart5_remind"
}
Script GpadBuildBarPart6 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 7"
rcmd "sym setZero VrTutorialUnitsBuilt"
cmd "playsound UI_MatchStart_Go"
cmd "player 0 disableFn pickup"
cmd "console flushAllPendingSeq Hint"
cmd "pcmd_seq Tutorial p0.1 menucmd PlayMechyVoice VR2_Finish"
cmd "pcmd_seq Tutorial p0.1 menu3d animate Mechy rooks/Mechy/Mechy_Hover_1.aaf looping 1 1.0"
cmd "pcmd_seq Tutorial p0.1 menucmd FinishTopObjective"
cmd "menu3d setUPanTarget GpadLineCapture 0 /time 0.5"
cmd "pcmd_seq Tutorial p0.1 menu3d addAnimScript GpadTextCapture as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadTextCapture"
cmd "pcmd_seq Tutorial p0.5 rook doLevelState SpawnAllyCapture"
cmd "pcmd_seq Tutorial p0.5 menu3d addAnimScript Mechy as_MechyCapture.txt 1.0"
cmd "pcmd_seq Tutorial p0.75 menu3d addAnimScript Gamepad as_GpadExitDown.txt"
cmd "pcmd_seq Tutorial p0.5 player 0 enableFn transform fire fireGuns aim"
}
Script GpadBuildBarPart7 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 8"
rcmd "sym setZero VrTutorialUnitsBuilt"
cmd "playsound UI_MatchStart_Go"
cmd "pcmd_seq Tutorial p0.1 menucmd PlayMechyVoice VR2_Captured"
cmd "pcmd_seq Tutorial p0.1 menucmd FinishTopObjective"
cmd "pcmd_seq Tutorial p0.1 if sym LocalAM_AirMode == 1 runnow player 0 do transform /forceReq"
cmd "pcmd_seq Tutorial p0.15 if sym LocalAM_AirMode == 1 player 0 disableFn transform"
cmd "pcmd_seq Tutorial p0.1 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p0.1 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p0.2 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p0.4 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p0.5 pcmd t1 sym set ObjectiveMainTitle ObjectiveBattleTitle"
cmd "pcmd_seq Tutorial p0.5 pcmd t1 sym set ObjectiveMainDesc ObjectiveBattleDesc"
cmd "pcmd_seq Tutorial p0.5 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p0.5 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.5 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p0.5 menu3d addAnimScript Mechy as_MechyBattle.txt 1.0"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p4.0 worldview moveto 42 -5 0 /lin 5.0"
cmd "pcmd_seq Tutorial p4.0 worldview scaleto 10.0 /lin 5.0"
cmd "pcmd_seq Tutorial p10.0 menu3d setUPanTarget ObjectiveMainBg 0 /time 0.5"
cmd "pcmd_seq Tutorial p10.0 menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p11.5 menu3d remove ObjectiveMainText"
cmd "pcmd_seq Tutorial p11.5 menucmd VRGame"
}
Script TutorialCSetup {
rcmd "sym set VrTutorial 1"
rcmd "sym set _TutorialStage C"
rcmd "sym clear MenuTouchCmd MenuTouchCancelCmd"
rcmd "sym set MenuTouch 0"
cmd "menucmd HideVrMenuSet Lang"
cmd "menucmd HideVrMenuSet Audio"
cmd "menucmd HideVrMenuSet Gamepad"
cmd "menucmd HideVrMenuSet Credits"
cmd "menucmd HideVrMenuSet Kudos"
cmd "menucmd HideVrMenuSet Tutorial"
cmd "menucmd HideVrMenuSet Tutorial2"
cmd "menucmd HideVrMenuSet Tutorial3"
cmd "menu3d addAnimScript MenuSpeakerL as_VRMenuHide.txt"
cmd "menu3d addAnimScript MenuSpeakerR as_VRMenuHide.txt"
cmd "pcmd 0.1 pfx stop VrMenu"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.08 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd 0.1 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "pcmd 0.1 state .MenuColLang terminate"
cmd "pcmd 0.1 state .MenuColAudio terminate"
cmd "pcmd 0.1 state .MenuColGamepad terminate"
cmd "pcmd 0.1 state .MenuColTutorial terminate"
cmd "pcmd 0.5 menu3d remove MenusVROptions"
cmd "pcmd_seq Tutorial p0.1 if sym LocalAM_AirMode == 1 runnow player 0 do transform /forceReq"
cmd "pcmd_seq Tutorial p0.15 if sym LocalAM_AirMode == 1 player 0 disableFn transform"
cmd "pcmd_seq Tutorial p0.1 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p0.1 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p0.2 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p0.4 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p0.5 pcmd t1 sym set ObjectiveMainTitle ObjectiveBattleTitle"
cmd "pcmd_seq Tutorial p0.5 pcmd t1 sym set ObjectiveMainDesc ObjectiveBattleDesc"
cmd "pcmd_seq Tutorial p0.5 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p0.5 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.5 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p5.0 menu3d setUPanTarget ObjectiveMainBg 0 /time 0.5"
cmd "pcmd_seq Tutorial p5.0 menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p5.5 menu3d remove ObjectiveMainText"
cmd "if !menu3dexists Mechy pcmd_seq Tutorial p0.5 menucmd ContinueMechy"
cmd "pcmd_seq Tutorial p0.55 gameui ignoreInputTime 5.0"
cmd "pcmd_seq Tutorial p0.55 menu3d addAnimScript Mechy as_MechyBattle.txt 1.0"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p7.2 menucmd VRGame"
}
Script TutCStart {
ignoreInputTime 0.2
rcmd "sym set VrTutorial 1"
rcmd "sym set _TutorialStage C"
rcmd "sym set VrTutorialStage 1"
cmd "console flushAllPendingSeq Hint"
cmd "menu3d add Gamepad /model vr/Gamepad.amf	/material mat_Gamepad"
cmd "menu3d setWorldPose Gamepad	0 0 -100.0"
cmd "menu3d setRootScale Gamepad 350.0"
cmd "menu3d setRootRot Gamepad 75 0 0"
cmd "menu3d logicFnc Gamepad trackStickL /bone bone_nudge_l /mag 5"
cmd "menu3d logicFnc Gamepad trackStickR /bone bone_nudge_r /mag 5"
cmd "menu3d logicFnc Gamepad trackDPad /bone bone_nudgepad /mag 1 /transitionTime 0.1"
cmd "menu3d logicFnc Gamepad trackStickL /bone bone_stick_l /mag 23"
cmd "menu3d logicFnc Gamepad trackStickR /bone bone_stick_r /mag 23"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_a /button A /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_b /button B /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_x /button X /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_button_y /button Y /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_bumper_l /button LShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_bumper_r /button RShoulder /offset 0 0 -0.005 /transitionTime 0.05"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_nudgebl /button LShoulder /offset 0.005 0 -0.015 /transitionTime 0.1"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_nudgebr /button RShoulder /offset -0.005 0 -0.015 /transitionTime 0.1"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_start /button start /offset 0 0 -0.005"
cmd "menu3d logicFnc Gamepad trackButton /bone bone_back /button back /offset 0 0 -0.005"
cmd "menu3d logicFnc Gamepad trackDPad /bone bone_dpad /mag 14"
cmd "pcmd 0.1 menucmd GpadTutCPart1"
}
Script GpadDrawCallout {
rcmd "if menu3dexists Gamepad runnow menucmd GpadDrawCallout_Go $_MArg1_ $_MArg2_ $_MArg3_"
rcmd "if !menu3dexists Gamepad echo No Gamepad to attach callout to!"
}
Script GpadDrawCallout_Go {
rcmd "sym setFrom _NameExt_ _MArg1_"
rcmd "sym setFrom _TextLoc_ _MArg1_"
rcmd "if sym _MArg1_ == CameraRotateL || sym _MArg1_ == CameraRotateR runnow sym set _TextLoc_ CameraRotate"
rcmd "if sym _MArg1_ == SmartCamera2 runnow sym set _TextLoc_ SmartCamera"
rcmd "sym setFrom _ButtonLoc_ _MArg2_"
rcmd "sym setFrom _TextType_ _MArg3_"
cmd "menu3d remove GpadLine${_NameExt_}"
cmd "menu3d addChild Gamepad GpadLine${_NameExt_} /model vr/GpadLine${_ButtonLoc_}.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "menu3d addChild GpadLine${_NameExt_} GpadText${_NameExt_} /model vr/GamepadText${_TextType_}.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.5 /noVis"
rcmd "sym set HideGamepadText 0"
cmd "pcmd t1 sym set GamepadText2 Gamepad${_TextLoc_}"
cmd "sym set GamepadTextAlign 1"
cmd "if sym _TextType_ == L2 sym set GamepadTextAlign 0"
cmd "pcmd t2 menu3d updateORTSnapshot2 GpadText${_NameExt_} 0 960 930 110"
cmd "pcmd 0.1 menu3d setUPanTarget GpadLine${_NameExt_} -1 /time 0.5"
cmd "pcmd 0.3 menu3d addAnimScript GpadText${_NameExt_} as_VRMenuIn.txt"
}
Script GpadClearCallout {
rcmd "sym setFrom _NameExt_ _MArg1_"
cmd "pcmd 0.6 menu3d remove GpadLine${_NameExt_}"
cmd "pcmd 0.1 menu3d setUPanTarget GpadLine${_NameExt_} 0 /time 0.5"
cmd "menu3d addAnimScript GpadText${_NameExt_} as_VRMenuOut.txt"
}
Script GpadTutCPart1 {
ignoreInputTime 5.0
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 1b"
cmd "pcmd_seq Tutorial p5.0 menu3d addAnimScript Mechy as_MechyCameraControl.txt 1.0"
cmd "pcmd_seq Tutorial p4.5 menu3d addAnimScript Gamepad as_GpadTutCEnter.txt 0.7"
cmd "pcmd_seq Tutorial p6.8 menucmd GpadDrawCallout CameraZoomUp LButton R2"
cmd "pcmd_seq Tutorial p7.0 menucmd PlayMechyVoice VR3_ZoomOut"
cmd "pcmd_seq Tutorial p7.0 pcmd_seq Hint p12.0 menucmd GpadTutCPart1_remind"
cmd "pcmd_seq Tutorial p7.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script GpadTutCPart1_remind {
cmd "menucmd PlayMechyVoice VR3_ZoomOut"
cmd "pcmd_seq Hint p20.0 menucmd GpadTutCPart1_remind"
}
Script GpadTutCPart1b {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 2"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
cmd "menucmd GpadClearCallout CameraZoomUp"
cmd "pcmd_seq Tutorial p0.8 menucmd GpadDrawCallout CameraZoomDown RButton3 L2"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR3_ZoomIn"
cmd "pcmd_seq Tutorial p1.0 pcmd_seq Hint p20.0 menucmd GpadTutCPart1b_remind"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script GpadTutCPart1b_remind {
cmd "menucmd PlayMechyVoice VR3_ZoomIn"
cmd "pcmd_seq Hint p20.0 menucmd GpadTutCPart1b_remind"
}
Script GpadTutCPart2 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 3"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
cmd "menucmd GpadClearCallout CameraZoomDown"
cmd "pcmd_seq Tutorial p0.5 menucmd GpadDrawCallout SmartCamera Y L2"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR3_SmartCam3"
cmd "pcmd_seq Tutorial p1.0 pcmd_seq Hint p20.0 menucmd GpadTutCPart2_remind"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script GpadTutCPart2_remind {
cmd "menucmd PlayMechyVoice VR3_SmartCam1"
cmd "pcmd_seq Hint p20.0 menucmd GpadTutCPart2_remind"
}
Script GpadTutCPart2_Ok {
cmd "pcmd_seq Tutorial p0.5 menucmd GpadTutCPart2b"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
rcmd "sym set VrTutorialStage -1"
}
Script GpadTutCPart2b {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 3b"
cmd "menucmd GpadClearCallout SmartCamera"
cmd "pcmd_seq Tutorial p0.75 menucmd GpadDrawCallout SmartCamera LButton2 R2"
cmd "pcmd_seq Tutorial p1.0 menucmd GpadDrawCallout SmartCamera2 RButton3 L2"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR3_SmartCam2"
cmd "pcmd_seq Tutorial p1.0 pcmd_seq Hint p20.0 menucmd GpadTutCPart2b_remind"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script GpadTutCPart2b_remind {
cmd "menucmd PlayMechyVoice VR3_SmartCam2"
cmd "pcmd_seq Hint p20.0 menucmd GpadTutCPart2b_remind"
}
Script GpadTutCPart2b_Ok {
cmd "pcmd_seq Tutorial p0.2 menucmd GpadTutCPart3"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
rcmd "sym set VrTutorialStage -1"
}
Script GpadTutCPart3 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 4"
cmd "menucmd GpadClearCallout SmartCamera"
cmd "menucmd GpadClearCallout SmartCamera2"
cmd "pcmd_seq Tutorial p0.5 menucmd GpadDrawCallout CameraHold Y2 L2"
cmd "pcmd_seq Tutorial p1.0 menucmd GpadDrawCallout CameraRotateL LButton2 R2"
cmd "pcmd_seq Tutorial p1.25 menucmd GpadDrawCallout CameraRotateR RButton3 L2"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR3_Rotate"
cmd "pcmd_seq Tutorial p1.0 pcmd_seq Hint p20.0 menucmd GpadTutCPart3_remind"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p1.0 sym set VrTutorialCamera 1"
}
Script GpadTutCPart3_remind {
cmd "menucmd PlayMechyVoice VR3_Rotate"
cmd "pcmd_seq Hint p20.0 menucmd GpadTutCPart3_remind"
}
Script GpadTutCPart3_Ok {
cmd "pcmd_seq Tutorial p0.5 menucmd GpadTutCPart4"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
rcmd "sym set VrTutorialStage -1"
}
Script GpadTutCPart4 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 5"
rcmd "sym set VrTutorialCamera 0"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
cmd "menucmd GpadClearCallout CameraRotateL"
cmd "pcmd 0.1 menucmd GpadClearCallout CameraRotateR"
cmd "pcmd 0.15 menucmd GpadClearCallout CameraHold"
cmd "pcmd_seq Tutorial p0.7 menu3d addAnimScript Gamepad as_GpadGroupSelect.txt 0.7"
cmd "pcmd_seq Tutorial p0.7 menucmd GpadDrawCallout GroupSelectHold B2 L2"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR3_Select"
cmd "pcmd_seq Tutorial p1.0 pcmd_seq Hint p20.0 menucmd GpadTutCPart4_remind"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script GpadTutCPart4_remind {
cmd "menucmd PlayMechyVoice VR3_Select"
cmd "pcmd_seq Hint p20.0 menucmd GpadTutCPart4_remind"
}
Script GpadTutCPart5 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 6"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
cmd "pcmd 0.15 menucmd GpadClearCallout GroupSelectHold"
cmd "pcmd_seq Tutorial p0.5 menu3d addChild Gamepad GpadLineAttackOrder /model vr/GpadLineDpadUp.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p0.5 menu3d addChild GpadLineAttackOrder GpadTextAttackOrder /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.5 /noVis"
rcmd "pcmd_seq Tutorial p0.6 sym set HideGamepadText 0"
cmd "pcmd_seq Tutorial p0.6 pcmd t1 sym set GamepadText2 GamepadAttackOrder"
cmd "pcmd_seq Tutorial p0.6 pcmd t0 sym set GamepadTextAlign 1"
cmd "pcmd_seq Tutorial p0.6 pcmd t2 menu3d updateORTSnapshot2 GpadTextAttackOrder 0 960 930 110"
cmd "pcmd_seq Tutorial p0.6 pcmd t3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p0.7 menu3d addAnimScript Gamepad as_GpadAttackOrder.txt 0.7"
cmd "pcmd_seq Tutorial p0.7 menu3d setUPanTarget GpadLineAttackOrder -1 /time 0.5"
cmd "pcmd_seq Tutorial p0.7 menu3d addAnimScript GpadTextAttackOrder as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR3_Attack"
cmd "pcmd_seq Hint p21.0 menucmd GpadTutCPart5_remind"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script GpadTutCPart5_remind {
cmd "menucmd PlayMechyVoice VR3_Attack"
cmd "pcmd_seq Hint p20.0 menucmd GpadTutCPart5_remind"
}
Script GpadTutCPart6 {
sym_value_block VrTutorial==1
rcmd "sym set VrTutorialStage 7"
cmd "playsound UI_MatchStart_Go"
cmd "console flushAllPendingSeq Hint"
cmd "player 1 suspendAI 0"
cmd "pcmd 2.5 menucmd DrawGameStatsVrIfStillInMap"
cmd "pcmd 1.5 menucmd SetupFortHealthBars"
cmd "pcmd 1.5 gameui ignoreInputTime 0.9"
cmd "pcmd 1.5 menucmd SetupBuildCubesIfStillInMap"
cmd "menu3d setUPanTarget GpadLineAttackOrder 0 /time 0.5"
cmd "pcmd_seq Tutorial p0.1 menu3d addAnimScript GpadTextAttackOrder as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadLineAttackOrder"
cmd "pcmd_seq Tutorial p0.6 menu3d remove GpadTextAttackOrder"
cmd "pcmd_seq Tutorial p1.0 menu3d addAnimScript Gamepad as_GpadBattleOut.txt"
cmd "pcmd_seq Tutorial p1.0 menu3d addAnimScript Mechy as_MechyBattleSide.txt"
cmd "pcmd_seq Tutorial p0.7 menu3d addAnimScript Gamepad as_GpadAttackOrder.txt 0.7"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR3_Finish"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
}
Script ChangeBuildCubeArc {
rcmd "menu3d clearLogicFncs #BuildCube@_BuildCubeArg_@"
rcmd "menu3d logicFnc #BuildCube@_BuildCubeArg_@ lookAtToSymInc /symbol BuildCubeActiveLook /arc $_BuildCubeArc_ /noSpectator"
cmd "sym inc _BuildCubeArg_ 1"
cmd "if sym _BuildCubeArg_ < 8 runnow menucmd ChangeBuildCubeArc "
}
Script GpadTextLBump {
cmd "menu3d addAnimScript Gamepad as_GpadCenter.txt"
cmd "menu3d addChild Gamepad GpadTextLBump  /model vr/GpadTextLBump.amf	/material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadTextLBump -1 /time 0.5"
cmd "pcmd_seq Tutorial p3.0 menu3d logicFnc GpadTextLBump waitButton /button lshoulder /timeout 5 /menucmd GpadTextRBump"
}
Script GpadTextRBump {
cmd "menu3d setUPanTarget GpadTextLBump 0 /time 0.8"
cmd "pcmd_seq Tutorial p0.8 menu3d remove GpadTextLBump"
cmd "menu3d addChild Gamepad GpadTextRBump  /model vr/GpadTextRBump.amf	/material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadTextRBump -1 /time 0.5"
cmd "pcmd_seq Tutorial p5.0 menu3d logicFnc GpadTextRBump waitButton /button rshoulder /timeout 5 /menucmd GpadTextMove"
}
Script TutA2 {
sym_value_block VrTutorial==1
cmd "menu3d addAnimScript Gamepad as_GpadCenter.txt 0.5"
cmd "pcmd_seq Tutorial p1.5 menucmd GpadTextMove"
}
Script PlayMechyVoice {
rcmd "sound fadeOutBus 1 0.25"
rcmd "playsound $_MArg1_ /onMenu3dBone Mechy bone_head /busId 1"
}
Script GpadTextMove {
sym_value_block VrTutorial==1
cmd "pcmd_seq Tutorial p0.4 playsound Mech_TutMaterialize"
cmd "pcmd_seq Tutorial p0.5 player 0 enableFn visibility"
cmd "pcmd_seq Tutorial p1.0 menucmd PlayMechyVoice VR1_Move"
cmd "menu3d animate Mechy rooks/Mechy/Mechy_Horray_1.aaf playonce 1 1.0"
cmd "menu3d setUPanTarget GpadLineContinue 0 /time 0.5"
cmd "menu3d addAnimScript GpadTextContinue as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.8 menu3d remove GpadLineContinue"
cmd "pcmd_seq Tutorial p0.8 menu3d remove GpadTextContinue"
cmd "menu3d addAnimScript Mechy as_MechySummon.txt 1.0"
cmd "pcmd_seq Tutorial p0.5 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_root /tgt local"
cmd "pcmd_seq Tutorial p0.5 pfx boneLatchNRTSpawnIfVis AirMechSwap bone_pelvis /tgt local"
cmd "menu3d setUPanTarget GpadTextRBump 0 /time 0.8"
cmd "menu3d addChild Gamepad GpadLineMove /model vr/GpadLineLStick.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "menu3d addChild GpadLineMove GpadTextMove /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.3 /noVis"
rcmd "sym set HideGamepadText 0"
cmd "pcmd pt1 sym set GamepadText2 GamepadMove"
cmd "pcmd pt0 sym set GamepadTextAlign 1"
cmd "pcmd pt2 menu3d updateORTSnapshot2 GpadTextMove 0 960 930 110"
cmd "pcmd pt3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadLineMove -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.5 menu3d addAnimScript GpadTextMove as_VRMenuIn.txt"
cmd "if sym VrTutorial == 1 pcmd_seq Tutorial p3.0 if sym VrTutorial == 1 runnow menu3d logicFnc GpadLineMove waitStickL /menucmd GpadTextShoot"
cmd "if sym VrTutorial == 1 pcmd_seq Tutorial p3.0 player 0 enableFn move"
cmd "if sym VRTutVoice == 1 pcmd_seq Tutorial p0.8 playSound Voice5 /pos $VR_VoicePos"
}
Script GpadTextShoot {
sym_value_block VrTutorial==1
cmd "menu3d setUPanTarget GpadLineMove 0 /time 0.8"
cmd "menu3d addAnimScript GpadTextMove as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.8 menu3d remove GpadLineMove"
cmd "pcmd_seq Tutorial p0.8 menu3d remove GpadTextMove"
cmd "pcmd_seq Tutorial p0.7 menu3d animate Mechy rooks/Mechy/Mechy_Talk_2.aaf playonce 1 1.5"
cmd "pcmd_seq Tutorial p1.2 menucmd PlayMechyVoice VR1_Shoot"
cmd "menu3d addChild Gamepad GpadLineShoot  /model vr/GpadLineRStick.amf	/material mat_GpadTextFill /attachToParentBone bone_root"
cmd "menu3d addChild GpadLineShoot GpadTextShoot /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.3 /noVis"
rcmd "sym set HideGamepadText 0"
cmd "pcmd pt1 sym set GamepadText2 GamepadShoot"
cmd "pcmd pt0 sym set GamepadTextAlign 0"
cmd "pcmd pt2 menu3d updateORTSnapshot2 GpadTextShoot 0 960 930 110"
cmd "pcmd pt3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadLineShoot -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.5 menu3d addAnimScript GpadTextShoot as_VRMenuIn.txt"
cmd "if sym VrTutorial == 1 pcmd_seq Tutorial p3.0 if sym VrTutorial == 1 runnow menu3d logicFnc GpadLineShoot waitStickR /menucmd GpadTextTransformWait"
cmd "if sym VrTutorial == 1 pcmd_seq Tutorial p3.0 player 0 enableFn move"
cmd "if sym VRTutVoice == 1 pcmd_seq Tutorial p0.8 playSound Voice5 /pos $VR_VoicePos"
cmd "pcmd_seq Tutorial p2.0 player 0 enableFn fire fireGuns aim"
cmd "if sym VRTutVoice == 1 pcmd_seq Tutorial p1.0 playSound Voice6 /pos $VR_VoicePos"
}
Script GpadTextTransformWait {
sym_value_block VrTutorial==1
cmd "pcmd_seq Tutorial p2.5 menucmd GpadTextTransform"
}
Script GpadTextTransform {
sym_value_block VrTutorial==1
cmd "pcmd_seq Tutorial p1.2 menucmd PlayMechyVoice VR1_Transform"
cmd "pcmd_seq Tutorial p1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.5"
cmd "pcmd_seq Tutorial p1.0 menu3d setUPanTarget GpadLineShoot 0 /time 0.8"
cmd "pcmd_seq Tutorial p1.0 menu3d addAnimScript GpadTextShoot as_VMenuOut.txt"
cmd "pcmd_seq Tutorial p1.8 menu3d remove GpadLineShoot"
cmd "pcmd_seq Tutorial p1.8 menu3d remove GpadTextShoot"
cmd "pcmd_seq Tutorial p1.0 menu3d addAnimScript Gamepad as_GpadTransform.txt 0.8"
cmd "pcmd_seq Tutorial p1.0 menu3d addChild Gamepad GpadTransformHint  /model vr/GamepadTriggerL.amf	/material mat_GlobeOutline /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p3.0 menucmd ToggleTransformFlash"
cmd "pcmd_seq Tutorial p3.0 pcmd_seq Hint p8.0 menucmd ToggleTransformHint"
cmd "pcmd_seq Tutorial p1.0 menu3d addChild Gamepad GpadLineTransform /model vr/GpadLineLTrigger.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "pcmd_seq Tutorial p1.0 menu3d addChild GpadLineTransform GpadTextTransform /model vr/GamepadTextR2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.3 /noVis"
rcmd "sym set HideGamepadText 0"
cmd "pcmd_seq Tutorial p1.1 sym set GamepadText2 GamepadTransform"
cmd "pcmd_seq Tutorial p1.1 sym set GamepadTextAlign 1"
cmd "pcmd_seq Tutorial p1.2 menu3d updateORTSnapshot2 GpadTextTransform 0 960 930 110"
cmd "pcmd_seq Tutorial p1.3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p2.5 menu3d setUPanTarget GpadLineTransform -1 /time 0.5"
cmd "pcmd_seq Tutorial p2.75 menu3d addAnimScript GpadTextTransform as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p3.0 menu3d logicFnc GpadLineTransform waitButton /button2 ltrigger /menucmd GpadTextPickup"
cmd "pcmd_seq Tutorial p3.0 player 0 enableFn transform"
}
Script ToggleTransformFlash {
cmd "menu3d setVisible GpadTransformHint"
cmd "pcmd_seq Hint p0.25 menu3d setInvisible GpadTransformHint"
cmd "pcmd_seq Hint p0.5 menucmd ToggleTransformFlash"
}
Script ToggleTransformHint {
cmd "menucmd PlayMechyVoice VR1_Transform"
cmd "pcmd_seq Hint p12.0 menucmd ToggleTransformHint"
}
Script GpadTextPickupWait {
sym_value_block VrTutorial==1
cmd "pcmd_seq Tutorial p1.2 menucmd GpadTextPickup"
}
Script GpadTextPickup {
sym_value_block VrTutorial==1
cmd "pcmd_seq Tutorial p1.2 menucmd PlayMechyVoice VR1_Pickup"
cmd "console flushAllPendingSeq Hint"
cmd "pcmd p0.1 menu3d remove GpadTransformHint"
cmd "menu3d setUPanTarget GpadLineTransform 0 /time 0.8"
cmd "menu3d addAnimScript GpadTextTransform as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.8 menu3d remove GpadLineTransform"
cmd "pcmd_seq Tutorial p0.8 menu3d remove GpadTextTransform"
cmd "pcmd_seq Tutorial p0.8 menu3d addAnimScript Gamepad as_GpadReset.txt"
cmd "menu3d addChild Gamepad GpadLinePickup /model vr/GpadLineA2.amf /material mat_GpadTextFill /attachToParentBone bone_root"
cmd "menu3d addChild GpadLinePickup GpadTextPickup /model vr/GamepadTextL2.amf	/material mat_VrGamepadText /attachToParentBone bone_text /rootScale 1.3 /noVis"
rcmd "sym set HideGamepadText 0"
cmd "pcmd pt1 sym set GamepadText2 GamepadPickup"
cmd "pcmd pt1 sym set GamepadTextAlign 0"
cmd "pcmd pt2 menu3d updateORTSnapshot2 GpadTextPickup 0 960 930 110"
cmd "pcmd pt3 sym set HideGamepadText 1"
cmd "pcmd_seq Tutorial p1.5 menu3d setUPanTarget GpadLinePickup -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.75 menu3d addAnimScript GpadTextPickup as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p1.0 worldview scaleto 6.0"
cmd "pcmd_seq Tutorial p1.0 sym set WorldZoomLevel 1"
cmd "pcmd_seq Tutorial p1.0 worldview moveto 0 0 0"
cmd "pcmd_seq Tutorial p1.5 state .right do ProduceAllyUnit Tank right"
cmd "pcmd_seq Tutorial p1.0 sym set TAPickup 0"
cmd "pcmd_seq Tutorial p1.0 player 0 enableFn pickup"
cmd "pcmd_seq Tutorial p2.0 menu3d logicFnc GpadLinePickup waitConsoleSymbol /symbol TAPickup /value 1 /menucmd GpadText_NEXT"
}
Script GpadText_NEXT {
sym_value_block VrTutorial==1
cmd "pcmd_seq Tutorial p0.5 menu3d addAnimScript Gamepad as_GpadExit.txt"
cmd "player 0 enableFn transformAll"
cmd "pcmd_seq Tutorial p0.2 menucmd PlayMechyVoice VR1_Droptank"
cmd "pcmd_seq Tutorial p0.5 menu3d setUPanTarget GpadTextPickup 0 /time 0.8"
cmd "pcmd_seq Tutorial p1.3 menu3d remove GpadTextPickup"
cmd "pcmd_seq Tutorial p0.1 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p0.1 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p0.2 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p0.4 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p0.5 pcmd t1 sym set ObjectiveMainTitle Objective1"
cmd "pcmd_seq Tutorial p0.5 pcmd t1 sym set ObjectiveMainDesc Objective1Desc"
cmd "pcmd_seq Tutorial p0.5 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p0.5 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p1.3 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p1.3 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p1.3 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "player 0 enableFn dropunit setorder setorder_cap setorder_pat setorder_hld setorder_atk setorder_lnk"
cmd "sym set S_DCount 0"
cmd "pcmd_seq Tutorial p2.5 state_lvl .left do ProduceUnit RocketTruckTutorial left"
cmd "pcmd_seq Tutorial p2.5 menu3d logicFnc Gamepad waitConsoleSymbol /symbol S_DCount /value 1 /menucmd GpadText_Outpost"
}
Script GpadText_Outpost {
sym_value_block VrTutorial==1
cmd "worldview moveto 6 0 0"
cmd "if sym Language == 0 menucmd PlayMechyVoice Mechy_Excellent"
cmd "if sym Language == 0 pcmd_seq Tutorial p1.5 menucmd PlayMechyVoice VR1_Reinforce"
cmd "if sym Language != 0 menucmd PlayMechyVoice VR1_Reinforce"
cmd "pcmd_seq Tutorial p5.0 menucmd PlayMechyVoice VR1_Outpost"
cmd "pcmd_seq Tutorial p4.0 menu3d addAnimScript Mechy as_MechyOutpost.txt 1.0"
cmd "pcmd_seq Tutorial p3.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "menu3d addAnimScript ObjectiveMainBg as_MenuBlockExitUp.txt"
cmd "menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt""
cmd "pcmd_seq Tutorial p0.2 menu3d remove ObjectiveMainBg"
cmd "pcmd_seq Tutorial p0.2 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p0.2 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p0.2 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p0.2 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainTitle ObjectiveC"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainDesc ObjectiveCDesc"
cmd "pcmd_seq Tutorial p0.25 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p0.25 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p0.3 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p2.2 menu3d addAnimScript ObjectiveMainBg as_MenuBlockExitUp.txt"
cmd "pcmd_seq Tutorial p2.2 menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt""
cmd "pcmd_seq Tutorial p2.4 menu3d remove ObjectiveMainBg"
cmd "pcmd_seq Tutorial p2.4 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p2.4 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p2.4 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p2.4 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p2.4 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p2.45 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p2.45 pcmd t1 sym set ObjectiveMainTitle Objective2"
cmd "pcmd_seq Tutorial p2.45 pcmd t1 sym set ObjectiveMainDesc Objective2Desc"
cmd "pcmd_seq Tutorial p2.45 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p2.45 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p2.5 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p2.5 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p2.5 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p2.5 state .outpost2 do ProduceAllyUnit TurretDual outpost2"
cmd "pcmd_seq Tutorial p2.5 state .outpost1 do ProduceAllyUnit TurretChaingun outpost1"
cmd "pcmd_seq Tutorial p4.5 menucmd DrawArrows"
cmd "pcmd_seq Tutorial p8.0 rook doLevelState SpawnEnemies"
cmd "pcmd_seq Tutorial p8.0 menu3d logicFnc Gamepad waitConsoleSymbol /symbol S_DCount /value 5 /menucmd GpadText_EnemiesDestroyed"
}
Script GpadText_EnemiesDestroyed {
sym_value_block VrTutorial==1
cmd "menu3d clearLogicFnc Gamepad waitConsoleSymbol"
cmd "sym set S_DCount 0"
cmd "pcmd_seq Tutorial 3.5 menucmd PlayMechyVoice VR1_Air"
cmd "pcmd_seq Tutorial 3.5 menu3d animate Mechy rooks/Mechy/Mechy_Talk_2.aaf playonce 1 1.0"
cmd "menu3d addAnimScript ObjectiveMainBg as_MenuBlockExitUp.txt"
cmd "menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt""
cmd "pcmd_seq Tutorial p0.2 menu3d remove ObjectiveMainBg"
cmd "pcmd_seq Tutorial p0.2 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p0.2 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p0.2 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p0.2 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainTitle ObjectiveC"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainDesc ObjectiveCDesc"
cmd "pcmd_seq Tutorial p0.25 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p0.25 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p0.3 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p2.2 menu3d addAnimScript ObjectiveMainBg as_MenuBlockExitUp.txt"
cmd "pcmd_seq Tutorial p2.2 menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p2.4 menu3d remove ObjectiveMainBg"
cmd "pcmd_seq Tutorial p2.4 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p2.4 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p2.4 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p2.4 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p2.4 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p2.45 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p2.45 pcmd t1 sym set ObjectiveMainTitle Objective3"
cmd "pcmd_seq Tutorial p2.45 pcmd t1 sym set ObjectiveMainDesc Objective3Desc"
cmd "pcmd_seq Tutorial p2.45 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p2.45 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p2.5 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p2.5 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p2.5 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p1.0 worldview moveto 10 0 0"
cmd "pcmd_seq Tutorial p1.0 rook doLevelState SpawnEnemies2"
cmd "pcmd_seq Tutorial p1.0 menu3d logicFnc Gamepad waitConsoleSymbol /symbol S_DCount /value 5 /menucmd GpadText_EnemiesDestroyed2"
}
Script GpadText_EnemiesDestroyed2 {
sym_value_block VrTutorial==1
cmd "menu3d clearLogicFnc Gamepad waitConsoleSymbol"
cmd "menu3d addAnimScript ObjectiveMainBg as_MenuBlockExitUp.txt"
cmd "menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p0.2 menu3d remove ObjectiveMainBg"
cmd "pcmd_seq Tutorial p0.2 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p0.2 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p0.2 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p0.2 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainTitle ObjectiveC"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainDesc ObjectiveCDesc"
cmd "pcmd_seq Tutorial p0.25 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p0.25 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p0.3 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p2.2 menu3d addAnimScript ObjectiveMainBg as_MenuBlockExitUp.txt"
cmd "pcmd_seq Tutorial p2.2 menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p2.4 menu3d remove ObjectiveMainBg"
cmd "pcmd_seq Tutorial 1.0 menu3d addAnimScript Mechy as_MechyBattle.txt 1.0"
cmd "pcmd_seq Tutorial 1.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial 2.0 worldview moveto 10 0 0"
cmd "pcmd_seq Tutorial 2.0 worldview scaleto 12.0"
cmd "pcmd_seq Tutorial 2.0 sym set WorldZoomLevel 2"
cmd "sym set _MapTransition 1"
cmd "if sym VRMenuLoaded == 1 runnow menucmd VRMenuCancel"
cmd "pcmd_seq Tutorial 0.0 menucmd PlayMechyVoice VR1_Incoming"
cmd "pcmd_seq Tutorial 10.0 menucmd TransToSurvival"
}
Script TutAComplete {
cmd "pcmd_seq Tutorial 0.5 if menu3dexists Mechy menucmd PlayMechyVoice VR1_Complete"
cmd "pcmd_seq Tutorial 0.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "sym set TutorialVrCompleted 1"
cmd "pcmd_seq Tutorial 0.0 menu3d addAnimScript Mechy as_MechyContinue.txt 1.0"
cmd "backend save"
cmd "pcmd_seq Tutorial 10.0 menucmd ResetToMainFromTutA"
}
Script ResetToMainFromTutA {
ignoreInputTime 3.0
cmd "menu3d remove TableDome"
cmd "menucmd ClearBuildBar"
cmd "pcmd 0.5 menu3d animate FortHealth vr/FortHealthExit.aaf stopandhold 0 1.0"
cmd "pcmd 1.0 menu3d remove FortHealth Countdown"
rcmd "console flushAllPendingSeq Tutorial Hint"
cmd "pcmd 0.5 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "pcmd 3.0 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "gfx lerp lightAmb_R /current 0.6 1.5"
cmd "gfx lerp lightAmb_G /current 0.6 1.5"
cmd "gfx lerp lightAmb_B /current 0.6 1.5"
cmd "gfx lerp lightDiff_R /current 0.6 1.5"
cmd "gfx lerp lightDiff_G /current 0.6 1.5"
cmd "gfx lerp lightDiff_B /current 0.6 1.5"
cmd "gfx lerp lightDir_X /current 0.416209 1.5"
cmd "gfx lerp lightDir_Y /current -0.424957 1.5"
cmd "gfx lerp lightDir_Z /current 0.803854 1.5"
cmd "menu3d addAnimScript TableFrame as_VRTableContractMatch.txt"
cmd "pcmd 2.2 menucmd SetVrFortState open"
cmd "pcmd 2.2 menu3d addChild TableFrame TableDome /model vr/TableDome.amf	/material mat_TableDome /rootScale 1.1 /worldPose 0 0 0 /rootRot 0 0 45"
cmd "pcmd 2.2 menu3d animate TableDome vr/TableDomeClose.aaf playonce 0 1.0"
cmd "pcmd 2.9 menucmd LoadMenuMap"
cmd "pcmd 3.2 menu3d animate TableDome vr/TableDomeOpen.aaf playonce 0 1.0"
cmd "pcmd 4.2 menu3d remove TableDome"
cmd "pcmd 0.1 worldview pixelclipto 105 /lin 2.0"
cmd "pcmd 0.2 menu3d addAnimScript FortInside as_VRRoomPull.txt"
cmd "pcmd 0.2 menu3d addAnimScript VrDummy as_VRCameraPull.txt"
cmd "pcmd 0 menu3d addAnimScript EdgeGrid as_VRGridRemove.txt 2.0"
cmd "pcmd 0.1 rook toggleDisplayRadarVR 0"
cmd "pcmd 3.3 menu3d remove BarrierGrid"
cmd "pcmd 3.3 menu3d remove EdgeGrid"
cmd "pcmd 3.3 sym set VRMainMenu 1"
cmd "pcmd 3.3 sym set VrTutorial 1"
cmd "pcmd 3.3 menucmd TutorialBSetup"
}
Script ResetToMainFromMatch {
ignoreInputTime 3.0
cmd "echo ECHO ResetToMainFromMatch"
cmd "sym set ResetFromMatch 1"
cmd "if sym VRSpecSelectMode == 0 menu3d remove TableDome"
cmd "menucmd ClearBuildBar"
cmd "pcmd 0.5 menu3d animate FortHealth vr/FortHealthExit.aaf stopandhold 0 1.0"
cmd "pcmd 1.0 menu3d remove FortHealth"
cmd "pcmd 2.3 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "gfx lerp lightAmb_R /current 0.6 1.5"
cmd "gfx lerp lightAmb_G /current 0.6 1.5"
cmd "gfx lerp lightAmb_B /current 0.6 1.5"
cmd "gfx lerp lightDiff_R /current 0.6 1.5"
cmd "gfx lerp lightDiff_G /current 0.6 1.5"
cmd "gfx lerp lightDiff_B /current 0.6 1.5"
cmd "gfx lerp lightDir_X /current 0.416209 1.5"
cmd "gfx lerp lightDir_Y /current -0.424957 1.5"
cmd "gfx lerp lightDir_Z /current 0.803854 1.5"
cmd "if sym VRSpecSelectMode == 0 && sym VrMatchMap != crater_vr menu3d addAnimScript TableFrame as_VRTableContractMatch.txt 2.0"
cmd "if sym VRSpecSelectMode == 0 && sym VrMatchMap == crater_vr menu3d addAnimScript TableFrame as_VRTableContractMatchUp.txt 2.0"
cmd "pcmd 1.5 player 0 disableFn visibility"
cmd "if sym VRSpecSelectMode == 0 pcmd 0.7 menu3d addChild TableFrame TableDome /model vr/TableDome.amf	/material mat_TableDome /rootScale 1.1 /worldPose 0 0 0 /rootRot 0 0 45"
cmd "if sym VRSpecSelectMode == 0 pcmd 0.7 menu3d animate TableDome vr/TableDomeClose.aaf playonce 0 1.2"
cmd "pcmd 1.7 menucmd LoadMenuMap"
cmd "if menu3dexists MenuDiskLaunch pcmd 1.8 menucmd LobbyGetReady"
cmd "if sym VRSpecSelectMode == 0 pcmd 1.8 menu3d animate TableDome vr/TableDomeOpen.aaf playonce 0 1.0"
cmd "if sym VRSpecSelectMode == 0 && sym MapName === survivaltutorial_vr pcmd 2.4 player 0 setPosition 0 0 0"
cmd "if sym VRSpecSelectMode == 0 pcmd 2.4 player 0 enableFn visibility"
cmd "pcmd 2.0 gfx lerp vrFadeAlpha /current 0 0.5"
cmd "if sym VRSpecSelectMode == 0 pcmd 2.8 menu3d remove TableDome"
cmd "if sym VRSpecSelectMode == 0 pcmd 0.1 worldview pixelclipto 105 /lin 0.75"
cmd "pcmd 0.1 if sym MapName != survivaltutorial_vr && sym VRSpecSelectMode == 0 menu3d addAnimScript FortInside as_VRRoomPull.txt 1.5"
cmd "pcmd 0.1 if sym MapName != survivaltutorial_vr && sym VRSpecSelectMode == 0 menu3d addAnimScript VrDummy as_VRCameraPull.txt 1.5"
cmd "pcmd 0 menu3d addAnimScript EdgeGrid as_VRGridRemove.txt 1.0"
cmd "pcmd 0.1 rook toggleDisplayRadarVR 0"
cmd "pcmd 2.0 menu3d remove BarrierGrid"
cmd "pcmd 2.0 menu3d remove EdgeGrid"
cmd "pcmd 2.0 sym set VRMainMenu 1"
cmd "pcmd 2.0 menucmd LoadRootVrMenu"
cmd "pcmd 2.5 echo SG_InGroup: $SG_InGroup"
cmd "pcmd 2.5 echo VrReturnToLobby: $VrReturnToLobby"
cmd "pcmd 2.5 echo _RestoringVRLobby_: $_RestoringVRLobby_"
cmd "pcmd 2.5 if sym VrReturnToLobby == 0 && sym VRSpecSelectMode == 0 pcmd t1 exec vr_menuMain.txt"
cmd "pcmd 2.0 if sym VrReturnToLobby == 0 && sym VRSpecSelectMode == 1 pcmd t1 menucmd ResetSpectateLobby"
cmd "pcmd 2.5 if sym VrReturnToLobby == 1 sym set _RestoringVRLobby_ 1"
cmd "pcmd 2.5 if sym VrReturnToLobby == 1 pcmd t1 menucmd SetupLobby"
cmd "pcmd 3.5 sym setZero ResetFromMatch VrReturnToLobby"
cmd "pcmd 3.5 sym setZero _VrMapTransition_ _MapTransition"
}
Script ResetToMainFromTutorial {
ignoreInputTime 3.0
cmd "worldview scaleto 18.0 /lin 1.0"
cmd "sym set ResetFromMatch 1"
cmd "menu3d remove TableDome"
cmd "menu3d remove ObjectiveMainBg"
cmd "menucmd ClearBuildBar"
cmd "pcmd 0.5 menu3d animate FortHealth vr/FortHealthExit.aaf stopandhold 0 1.0"
cmd "pcmd 0.0 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "pcmd 1.0 player 0 disableFn visibility"
cmd "pcmd 1.0 menu3d remove FortHealth"
cmd "pcmd 1.3 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "pcmd 0.2 menu3d addChild TableFrame TableDome /model vr/TableDome.amf	/material mat_TableDome /rootScale 1.1 /worldPose 0 0 0 /rootRot 0 0 45"
cmd "pcmd 0.2 menu3d animate TableDome vr/TableDomeClose.aaf playonce 0 1.0"
cmd "pcmd 1.1 player 0 setPosition 0 0 0"
cmd "pcmd 1.1 worldview moveTo 0 0 0"
cmd "pcmd 1.3 menu3d animate TableDome vr/TableDomeOpen.aaf playonce 0 1.0"
cmd "pcmd 1.2 loadmap lobby_vr"
cmd "pcmd 1.2 menucmd SetVrFortState open"
cmd "pcmd 1.8 player 0 enableFn visibility"
cmd "pcmd 2.3 menu3d remove TableDome"
cmd "pcmd 0 menu3d addAnimScript EdgeGrid as_VRGridRemove.txt 2.0"
cmd "pcmd 0.1 rook toggleDisplayRadarVR 0"
cmd "pcmd 1.4 menu3d remove BarrierGrid"
cmd "pcmd 1.4 menu3d remove EdgeGrid"
cmd "pcmd 1.4 sym set VRMainMenu 1"
cmd "pcmd 1.4 menucmd LoadRootVrMenu"
cmd "pcmd 1.5 exec vr_menuMain.txt"
cmd "pcmd 1.5 sym setZero VrTutorial ReturnFromVrTutorial ResetFromMatch"
cmd "pcmd 1.5 playerinputpause 0 local"
cmd "pcmd 1.5 player 0 enableFn move aim fire fireGuns transform"
cmd "pcmd 1.5 music start $AlbumTrackCurrent"
cmd "pcmd 1.5 menucmd CycleMainMenuTrack"
cmd "pcmd 1.5 sym setZero _VrMapTransition_ _MapTransition"
}
Script HideMapWithDome {
cmd "worldview scaleto 6.0"
cmd "sym set WorldZoomLevel 1"
cmd "menu3d remove TableDome"
cmd "menu3d addAnimScript GamepadHelp as_GpadHelpExit.txt"
cmd "pcmd_seq Tutorial 1.0 menu3d addChild TableFrame TableDome /model vr/TableDome.amf	/material mat_TableDome"
cmd "pcmd_seq Tutorial 1.0 menu3d setWorldPose TableDome	0 0 0"
cmd "pcmd_seq Tutorial 1.0 menu3d setRootRot TableDome 0 0 45"
cmd "pcmd_seq Tutorial 1.0 menu3d animate TableDome vr/TableDomeClose.aaf playonce 0 1.0"
cmd "pcmd_seq Tutorial 2.0 worldview movetoimmediate 0 0 0"
cmd "pcmd_seq Tutorial 2.0 loadmap survival_vr"
cmd "pcmd_seq Tutorial 2.0 exec vr_outsideAirmech.txt"
cmd "pcmd_seq Tutorial 2.5 menu3d animate TableDome vr/TableDomeOpen.aaf playonce 0 1.0"
cmd "pcmd_seq Tutorial 3.0 menu3d remove TableDome"
}
Script TransToSurvival {
ignoreInputTime 10.0
cmd "sym set _EG_Mode_ PvE
cmd "if sym InTutorialGame == 1 runnow rook toggleDisplayRadarVR 0"
cmd "if sym InTutorialGame == 1 runnow if sym BuildCubeActive == 1 menucmd ClearBuildCubes"
cmd "if sym InTutorialGame == 1 runnow menu3d remove EdgeGrid"
cmd "if sym InTutorialGame == 1 runnow menu3d remove BarrierGrid"
cmd "if sym InTutorialGame == 1 runnow worldview scaleto 6.0"
cmd "if sym InTutorialGame == 1 runnow menu3d addAnimScript TableFrame as_VRTableReset.txt"
cmd "if sym InTutorialGame == 1 runnow worldview movetoimmediate 0 0 0"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightAmb_B /current 0.6 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightDiff_R /current 0.6 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightDiff_B /current 0.6 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightDir_X /current 0.416209 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightDir_Y /current -0.424957 0.5"
cmd "if sym InTutorialGame == 1 runnow gfx lerp lightDir_Z /current 0.803854 0.5"
cmd "if sym InTutorialGame == 1 runnow worldview pixelClipTo 105"
cmd "pcmd_seq Tutorial p6.5 menu3d addAnimScript Mechy as_MechySurvival.txt 1.0"
cmd "pcmd_seq Tutorial p8.3 menu3d animate Mechy rooks/Mechy/Mechy_Talk_2.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p8.5 menucmd PlayMechyVoice VR1_Radar"
cmd "pcmd_seq Tutorial p28.0 menucmd PlayMechyVoice VR1_Direction"
cmd "pcmd_seq Tutorial p28.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_1.aaf playonce 1 1.0"
cmd "pcmd_seq Tutorial p65.0 menucmd PlayMechyVoice VR1_Great"
cmd "pcmd_seq Tutorial p65.0 menu3d animate Mechy rooks/Mechy/Mechy_Talk_3.aaf playonce 1 1.0"
cmd "pcmd 2.7 worldview pixelclipto 80 /lin 0.2"
cmd "pcmd 2.8 worldview scaleto 6.0"
cmd "sym set WorldZoomLevel 1"
cmd "sym set BuildCubeEnabled 0"
cmd "pcmd 1.1 if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "menu3d remove TableDome"
cmd "menu3d remove Gamepad"
cmd "menu3d remove GamepadHelp"
cmd "pcmd 2 menu3d addChild TableFrame TableDome /model vr/TableDome.amf	/material mat_TableDome /rootScale 1.1 /worldPose 0 0 0 /rootRot 0 0 45"
cmd "pcmd 2 menu3d animate TableDome vr/TableDomeClose.aaf playonce 0 1.0"
cmd "pcmd 1.0 gfx lerp lightAmb_R /current 0.9 1.5"
cmd "pcmd 1.0 gfx lerp lightAmb_G /current 0.9 1.5"
cmd "pcmd 1.0 gfx lerp lightAmb_B /current 0.85 1.5"
cmd "pcmd 1.0 gfx lerp lightDiff_R /current 0.4 1.5"
cmd "pcmd 1.0 gfx lerp lightDiff_G /current 0.4 1.5"
cmd "pcmd 1.0 gfx lerp lightDiff_B /current 0.4 1.5"
cmd "pcmd 1.0 gfx lerp lightDir_X /current 0.416209 1.5"
cmd "pcmd 1.0 gfx lerp lightDir_Y /current 0.424957 1.5"
cmd "pcmd 1.0 gfx lerp lightDir_Z /current 0.803854 1.5"
cmd "pcmd 3.0 menucmd VRTutorialGame"
cmd "pcmd 3.5 menu3d animate TableDome vr/TableDomeOpen.aaf playonce 0 1.0"
cmd "pcmd 4.5 menu3d remove TableDome"
cmd "pcmd 3.0 menu3d remove BarrierRing BarrierRingL"
cmd "pcmd_seq Tutorial p0.2 menu3d add ObjectiveMainBg /model vr/TextObjectiveBg.amf	/material mat_TextObjectiveFill"
cmd "pcmd_seq Tutorial p0.2 menu3d addChild ObjectiveMainBg ObjectiveMainText /model vr/TextObjectiveLabel.amf	/material mat_VrGamepadText /attachToParentBone bone_text /noVis"
cmd "pcmd_seq Tutorial p0.2 menu3d setWorldPose ObjectiveMainBg	0.0 80 40"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootScale ObjectiveMainBg 160"
cmd "pcmd_seq Tutorial p0.2 menu3d setRootRot ObjectiveMainBg 70 0 0"
rcmd "pcmd_seq Tutorial p0.2 sym set DrawingObjectiveMainText 1"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainTitle Objective4"
cmd "pcmd_seq Tutorial p0.25 pcmd t1 sym set ObjectiveMainDesc Objective4Desc"
cmd "pcmd_seq Tutorial p0.25 pcmd t2 menu3d updateORTSnapshot2 ObjectiveMainText 0 300 620 150"
cmd "pcmd_seq Tutorial p0.25 pcmd t3 sym set DrawingObjectiveMainText 0"
cmd "pcmd_seq Tutorial p0.3 menu3d setUPanTarget ObjectiveMainBg -1 /time 0.5"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainBg as_MenuBlockEnter.txt"
cmd "pcmd_seq Tutorial p0.3 menu3d addAnimScript ObjectiveMainText as_VRMenuIn.txt"
cmd "pcmd_seq Tutorial p3.3	menu3d addAnimScript ObjectiveMainBg as_MenuBlockExitUp.txt"
cmd "pcmd_seq Tutorial p3.3	menu3d addAnimScript ObjectiveMainText as_VRMenuOut.txt"
cmd "pcmd_seq Tutorial p3.3 menu3d remove ObjectiveMainBg"
}
Script DoQuestForAirMech {
ignoreInputTime 0.3
rcmd "console flushAllPendingSeq Voice"
sym_value_block SG_InGroup==0
rcmd "playerinputpause 1 local"
rcmd "sym set MenuTouchCancelCmd"
rcmd "sym set MenuTouchCmd"
cmd "sym set LoadNormalMapInVR 1"
cmd "sym set WorldZoomOk 1"
cmd "sym set VRQuestSelected 0"
cmd "menucmd HideVrMenuSet Pets"
cmd "menucmd HideVrMenuSet Hats"
cmd "menu3d addAnimScript MenuDpadHint0Hangar as_VRMenuOut.txt
cmd "menu3d addAnimScript MenuDpadHint1Hangar as_VRMenuOut.txt
rcmd "sym setZero VrCustomizeMode VRAirmechCustomizeMode VRAirmechFullCustomize"
rcmd "menucmd ResetAirMechBox"
rcmd "menucmd ResetAMCL"
cmd "worldview scaleto 18.0 /lin 0.1"
cmd "pcmd 0.1 menu3d remove MenusVRCustomize"
rcmd "pcmd 0.1 menu3d addAnimScript BoxAirMech as_VRMenuBoxOut"
cmd "pcmd 0.2 menucmd TransToMatch quest"
}
Script BackendLoadMapFail_Generic {
ignoreInputTime 2.0
rcmd "clearmenu AsyncNoticeDialogVr.txt"
rcmd "pcmd 4.0 menucmd ReturnToMainMenuVR"
}
Script BackendLoadMapFail_GameNotFound {
rcmd "echo Failed to load map Error: GameNotFound"
rcmd "menucmd BackendLoadMapFail_Generic"
}
Script BackendLoadMapFail_ServerIsNotAvailable {
rcmd "echo Failed to load map Error: ServerIsNotAvailable"
rcmd "if sym VrEndgameLoaded == 0 menucmd BackendLoadMapFail_Generic"
}
Script BackendLoadMapFail_InvalidPin {
rcmd "echo Failed to load map Error: InvalidPin"
rcmd "menucmd BackendLoadMapFail_Generic"
}
Script TransToMatch {
ignoreInputTime 5.0
rcmd "playerinputpause 1 local"
rcmd "sym setFrom VrMatchType _MArg1_"
rcmd "sym setFrom VrMatchMap _MArg2_"
rcmd "sym setFrom VrMatchId _MArg3_"
rcmd "sym set _EndGameSeqMsg_ 1"
rcmd "sym set VrMatchFromDome 1"
rcmd "sym clear MenuTouchCmd MenuTouchCancelCmd"
rcmd "if sym VrMatchType != tutorial && sym VRSpecSelectMode == 0 worldview moveTo 0 0 0"
rcmd "if sym VrMatchType != tutorial && sym VRSpecSelectMode == 0 player 0 setPosition 0 0 0"
rcmd "runnow rook toggleDisplayRadarVR 0"
cmd "sym set _MapTransition 1"
cmd "menucmd VRMenuCancel"
cmd "if menu3dexists MenusVRMaps menucmd RemoveLobbyMaps"
cmd "menucmd HideVrMenuSet Customize"
cmd "sym set InVrLobby 0 "
cmd "if sym VrCustomizeMode == 1 menucmd ResetAMCL"
cmd "if sym VrCustomizeMode == 1 menucmd ResetAirMechBox"
cmd "if sym VrCustomizeMode == 1 menucmd HideVrMenuSet Pets"
cmd "if sym VrCustomizeMode == 1 menucmd HideVrMenuSet Hats"
cmd "if sym VrCustomizeMode == 1 menucmd HideVrMenuSet Mechs"
cmd "if sym VrCustomizeMode == 1 menu3d addAnimScript MenuClasses as_VRMenuOut.txt"
cmd "if sym VrCustomizeMode == 1 menu3d addAnimScript MenuDpadHint0Hangar as_VRMenuOut.txt"
cmd "if sym VrCustomizeMode == 1 menu3d addAnimScript MenuDpadHint1Hangar as_VRMenuOut.txt"
cmd "if sym VrCustomizeMode == 1 || sym VrCustomizeInLobbyMode == 1 sym clear VrSelectMode"
cmd "if sym VrCustomizeMode == 1 || sym VrCustomizeInLobbyMode == 1 sym setZero VrCustomizeInLobbyMode VrCustomizeMode DrawAirMechBox"
cmd "menu3d addAnimScript BoxAirMech as_VRMenuBoxout.txt"
cmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads menucmd RemoveFlairTiles"
cmd "if sym VrCustomizeType == pets || sym VrCustomizeType == heads menucmd HideVrMenuSet Mechs"
cmd "menucmd HideVrMenuSet Launch"
cmd "menucmd HideVrMenuSet Map"
cmd "menu3d addAnimScript MenuDpadHintMap as_VRMenuOut.txt"
cmd "if sym VRMapMenuMode == 1 menu3d addAnimScript MenusVRMaps as_VRMenuTilesOut.txt"
cmd "if sym VRMapMenuMode == 1 menu3d addAnimScript BoxAirMech as_VRMenuBoxLobbyOut.txt"
cmd "menucmd HideVrMenuSet Sandbox"
cmd "if sym VrMatchType == spec menu3d addAnimScript MenusVRSpec as_VRMenuTilesOut.txt"
rcmd "menu3d clearLogicFncs Skylight"
rcmd "sym set _LookAtSkylight 0"
cmd "menucmd SetVrFortState closed"
cmd "pcmd 1.0 worldview pixelclipto 80 /lin 0.2"
cmd "pcmd 0.8 worldview scaleto 6.0"
cmd "pcmd 1.8 menu3d addAnimScript GameAvatar0 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript GameAvatar1 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript GameAvatar2 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript GameAvatar3 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript GameAvatar4 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript GameAvatar5 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript LobbyAvatar0 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript LobbyAvatar1 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript LobbyAvatar2 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript LobbyAvatar3 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript LobbyAvatar4 as_VRAvatarOut.txt"
cmd "pcmd 1.8 menu3d addAnimScript LobbyAvatar5 as_VRAvatarOut.txt"
cmd "sym set WorldZoomLevel 1"
cmd "sym set BuildCubeEnabled 0"
cmd "if gamecheck watchAmAir player 0 do transform /forcedReq"
cmd "menu3d remove TableDome"
cmd "menu3d remove Gamepad"
cmd "menu3d remove GamepadHelp"
cmd "menu3d addChild TableFrame TableDome /model vr/TableDome.amf	/material mat_TableDome /rootScale 1.1 /worldPose 0 0 0 /rootRot 0 0 45"
cmd "menu3d animate TableDome vr/TableDomeClose.aaf playonce 0 1.5"
cmd "pcmd 0.4 player 0 disableFn visibility"
cmd "pcmd 0.5 if sym VrMatchMap == crater_vr menu3d addAnimScript TableFrame as_TableFrameUp.txt"
cmd "pcmd 1.0 menucmd LerpVRLights"
cmd "if sym VrMatchType == quest || sym VrMatchType == tutorial runnow sym set _EG_Mode_ Solo"
cmd "if sym VrMatchType == quest pcmd 1.0 quests startMission $VrQuestActive"
cmd "if sym VrMatchType == Solo pcmd 1.0 loadmap /sym VrMatchMap coop prep 5"
cmd "if sym VrMatchType == quest quests writeSingleQuest ${VrQuestActive} VRQuest"
cmd "if sym VrMatchType == quest pcmd 0 sym setFrom VrMatchMap VRQuestMissionImg0"
cmd "if sym VrMatchType == spec pcmd 1.0 backend spectategame #Spec@VrMatchId@Name $Spec@VrMatchId@Id"
cmd "if sym VrMatchType == spec sym set IsSpectator 1"
cmd "if sym VrMatchType == tutorial runnow sym set VRMainMenu 0"
cmd "if sym VrMatchType == tutorial pcmd 1.0 loadmap simpleshrt_vr coop prep 5"
cmd "if sym VrMatchType == spec sym setFrom _EG_Mode_ #Spec@VrMatchId@GameMode"
cmd "if sym VrMatchType != spec sym setFrom _EG_Mode_ Gamemode"
cmd "pcmd 0.1 if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr || sym VrMatchMap == laststand_vr || sym VrMatchMap == spiral_vr runnow sym set _EG_Mode_ PvE
cmd "pcmd 2.5 playerinputpause 0 local"
}
Script LerpVRLights {
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightAmb_R /current 0.9 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightAmb_G /current 0.9 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightAmb_B /current 0.85 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightDiff_R /current 0.4 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightDiff_G /current 0.4 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightDiff_B /current 0.4 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightDir_X /current 0.416209 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightDir_Y /current 0.424957 0.5"
cmd "if sym VrMatchMap == simple_vr || sym VrMatchMap == simpleshrt_vr runnow gfx lerp lightDir_Z /current 0.803854 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightAmb_R /current 0.7 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightAmb_G /current 0.65 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightAmb_B /current 0.6 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightDiff_R /current 0.7 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightDiff_G /current 0.65 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightDiff_B /current 0.6 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightDir_X /current 0.485432 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightDir_Y /current 0.469323 0.5"
cmd "if sym VrMatchMap == chasm_vr runnow gfx lerp lightDir_Z /current 0.737626 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightAmb_B /current 0.6 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightDiff_R /current 0.6 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightDiff_B /current 0.6 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightDir_X /current 0.496501 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightDir_Y /current -0.106519 0.5"
cmd "if sym VrMatchMap == crater_vr || sym VrMatchMap == sandrim_vr runnow gfx lerp lightDir_Z /current 0.861476 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightAmb_B /current 0.6 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightDiff_R /current 0.6 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightDiff_B /current 0.6 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightDir_X /current 0.408761 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightDir_Y /current 0.420086 0.5"
cmd "if sym VrMatchMap == duel_vr runnow gfx lerp lightDir_Z /current 0.810211 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightAmb_B /current 0.5 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightDiff_R /current 0.7 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightDiff_B /current 0.5 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightDir_X /current 0.64111 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightDir_Y /current -0.268716 0.5"
cmd "if sym VrMatchMap == laststand_vr runnow gfx lerp lightDir_Z /current 0.718867 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightAmb_R /current 0.7 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightAmb_G /current 0.8 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightAmb_B /current 0.9 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightDiff_R /current 0.5 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightDiff_G /current 0.4 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightDiff_B /current 0.3 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightDir_X /current 0.234433 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightDir_Y /current 0.576377 0.5"
cmd "if sym VrMatchMap == nesthorn_vr runnow gfx lerp lightDir_Z /current 0.782835 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightAmb_R /current 0.9 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightAmb_G /current 0.9 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightAmb_B /current 0.85 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightDiff_R /current 0.4 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightDiff_G /current 0.4 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightDiff_B /current 0.4 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightDir_X /current 0.378375 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightDir_Y /current 0.568147 0.5"
cmd "if sym VrMatchMap == salt_vr runnow gfx lerp lightDir_Z /current 0.730782 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightAmb_B /current 0.5 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightDiff_R /current 0.65 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightDiff_B /current 0.55 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightDir_X /current 0.519245 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightDir_Y /current 0.413107 0.5"
cmd "if sym VrMatchMap == spiral_vr runnow gfx lerp lightDir_Z /current 0.748149 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightAmb_R /current 0.9 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightAmb_G /current 0.9 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightAmb_B /current 0.85 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightDiff_R /current 0.4 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightDiff_G /current 0.4 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightDiff_B /current 0.4 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightDir_X /current 0.416209 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightDir_Y /current 0.424957 0.5"
cmd "if sym VrMatchMap == survival_vr || sym VrMatchMap == survivaltutorial_vr runnow gfx lerp lightDir_Z /current 0.803854 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightAmb_B /current 0.6 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightDiff_R /current 0.6 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightDiff_B /current 0.6 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightDir_X /current 0.488752 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightDir_Y /current -0.204856 0.5"
cmd "if sym VrMatchMap == thar_vr runnow gfx lerp lightDir_Z /current 0.84803 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightAmb_R /current 0.5 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightAmb_G /current 0.5 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightAmb_B /current 0.5 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightDiff_R /current 0.5 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightDiff_G /current 0.5 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightDiff_B /current 0.5 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightDir_X /current 0.234433 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightDir_Y /current 0.576377 0.5"
cmd "if sym VrMatchMap == twinpeaks_vr runnow gfx lerp lightDir_Z /current 0.782835 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightAmb_R /current 0.6 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightAmb_G /current 0.6 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightAmb_B /current 0.6 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightDiff_R /current 0.6 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightDiff_G /current 0.6 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightDiff_B /current 0.6 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightDir_X /current 0.685922 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightDir_Y /current 0.273089 0.5"
cmd "if sym VrMatchMap == vale_vr runnow gfx lerp lightDir_Z /current 0.674487 0.5"
}
Script SetupVRMap {
ignoreInputTime 4.0
#if vr
rcmd "if sym VrTutorial == 0 || sym VrTutorial == 1 && sym _TutorialStage != C pcmd 3.5 menucmd DrawGameStatsVrIfStillInMap"
rcmd "menu3d addAnimScript FortKudos as_VRKudosOut.txt"
rcmd "gfx set VR_Settings /pixelClipRadius 90"
rcmd "sym set VRSpecSelectMode 0"
cmd "pcmd 0.5 menu3d addAnimScript FortInside as_VRRoomPush.txt 1.5"
cmd "pcmd 0.5 menu3d addAnimScript VrDummy as_VRCameraPush.txt 1.5"
cmd "if sym VrTutorial == 0 || sym VrTutorial == 1 && sym _TutorialStage != C menucmd SetupFortHealthBars"
rcmd "clearmenu VRMenusRTT"
rcmd "loadmenu VRMenusRTT"
cmd "if sym VrMatchFromDome == 1 pcmd 0.0 gfx set VR_Settings /pixelClipRadius 105"
cmd "if sym VrMatchFromDome == 1 pcmd 0.5 worldview pixelclipto 360 /lin 0.75"
cmd "gfx set VR_Settings /shadowFocusDistance 180.0 /shadowRange 550.0"
cmd "gfx set VR_Settings /forceRadius 320 /forceRadiusOffsetFwd 0 /menuCmdOnHitBarrier VR_hitbarrier"
cmd "menu3d add BarrierGrid /model vr/BarrierGrid.amf	/material mat_BarrierGrid /noVis"
cmd "menu3d add EdgeGrid /model vr/BarrierGridTall.amf	/material mat_BarrierGridFade /noVis"
cmd "menu3d addChild EdgeGrid TableGrid /model vr/TableGrid.amf	/material mat_TableGrid /noVis"
cmd "menu3d setWorldPose TableGrid		0.0 0.0 0.0"
cmd "menu3d setWorldPose BarrierGrid	0.0 0.0 -17.0"
cmd "menu3d setRootScale BarrierGrid	320"
cmd "sym set _EdgeGridPosZ -100"
cmd "menu3d setWorldPose EdgeGrid		0.0 0.0 $_EdgeGridPosZ"
cmd "menu3d setRootScale EdgeGrid		360"
cmd "pcmd 0.5 menu3d setVisible EdgeGrid BarrierGrid TableGrid"
cmd "sym set WorldViewScale 7"
cmd "pcmd 0.0 sym set WorldViewZoom 2"
cmd "pcmd 0.1 worldview rotateToImmediate $WorldViewRotation"
cmd "pcmd 0.1 menucmd SetupWorldViewZoom"
cmd "if sym VrMatchFromDome == 1 pcmd 0.5 menu3d addAnimScript TableFrame as_VRTableExpandMatch.txt 0.75"
cmd "if sym VrMatchFromDome == 1 pcmd 0.4 menu3d addAnimScript EdgeGrid as_VRGridExpand.txt 2.0"
cmd "pcmd 2.5 rook toggleDisplayRadarVR 1"
cmd "pcmd 2.5 sym set _MapTransition 0"
cmd "pcmd 2.5 sym set VrMatchFromDome 0"
cmd "pcmd 0 menu3d animate TableDome vr/TableDomeOpen.aaf playonce 0 1.5"
cmd "pcmd 0.5 menu3d remove TableDome"
cmd "menu3d remove BarrierRing BarrierRingL"
cmd "pcmd 2.5 if sym VrTutorial == 1 menucmd TutCStart"
#endif
}
Script SetupFortHealthBars {
cmd "menu3d addChild FortInside FortHealth /model vr/FortHealth.amf /material mat_FortHealth /rootRot 0 0 0 /rootScale 0.9 /worldPose -4 150 80 /parentVisCheck /noVis"
cmd "menu3d animate FortHealth vr/FortHealthIdle.aaf stopandhold 0 0.7"
cmd "pcmd 1.0 menu3d addAnimScript FortHealth as_FortHealthEnter.txt"
cmd "pcmd 3.0 menu3d logicFnc FortHealth fortHealthIndicator /offset 0 0 -161.2 /bone bone_fort0 /index 0"
cmd "pcmd 3.0 menu3d logicFnc FortHealth fortHealthIndicator /offset 0 0 -161.2 /bone bone_fort1 /index 1"
}
Script SetupSurvivalWaveBars {
rcmd "sym setOne _SurvivalWaveBarIndex_"
rcmd "sym setZero _SurvivalWaveBarPosX_ _SurvivalWaveBarCur_ VrSurvivalContinue VrSurvivalFinished"
cmd "menucmd CreateSurvivalWaveBar"
cmd "menu3d addChild FortHealth SurvivalWaveLabel /model vr/SurvivalWaveLabel.amf /material mat_VrGamepadText /rootRot 0 0 0 /rootScale 1 /worldPose 0 0 0 /attachToParentBone bone_label /parentVisCheck /noVis"
}
Script CreateSurvivalWaveBar {
cmd "menu3d addChild FortHealth #SurvivalWaveBar@_SurvivalWaveBarIndex_@ /model vr/SurvivalWaveBar.amf /material mat_SurvivalWaveBar /rootRot 0 0 0 /rootScale 1 /worldPose $_SurvivalWaveBarPosX_ 0 0 /attachToParentBone bone_survivalbar0 /parentVisCheck /noVis /noShadowCast"
cmd "menu3d addChild #SurvivalWaveBar@_SurvivalWaveBarIndex_@ #SurvivalWaveBarWhite@_SurvivalWaveBarIndex_@ /model vr/SurvivalWaveBarWhite.amf /material mat_MenuBlockWhite /rootRot 0 0 0 /rootScale 1 /worldPose 0 0 0 /parentVisCheck /noVis /noShadowCast"
cmd "sym inc _SurvivalWaveBarIndex_ 1"
cmd "sym inc _SurvivalWaveBarPosX_ 33"
cmd "pcmd 0 if sym _SurvivalWaveBarIndex_ <= $WaveMax menucmd CreateSurvivalWaveBar"
cmd "pcmd 0 if sym _SurvivalWaveBarIndex_ > $WaveMax pcmd 3.0 menucmd FinishSurvivalWaveBar"
}
Script FinishSurvivalWaveBar {
cmd "pcmd 0.1 menu3d addAnimScript SurvivalWaveBar1 as_VRMenuIn.txt"
cmd "pcmd 0.2 menu3d addAnimScript SurvivalWaveBar2 as_VRMenuIn.txt"
cmd "pcmd 0.3 menu3d addAnimScript SurvivalWaveBar3 as_VRMenuIn.txt"
cmd "pcmd 0.4 menu3d addAnimScript SurvivalWaveBar4 as_VRMenuIn.txt"
cmd "pcmd 0.5 menu3d addAnimScript SurvivalWaveBar5 as_VRMenuIn.txt"
cmd "pcmd 0.6 menu3d addAnimScript SurvivalWaveBar6 as_VRMenuIn.txt"
cmd "pcmd 0.7 menu3d addAnimScript SurvivalWaveBar7 as_VRMenuIn.txt"
cmd "pcmd 0.8 menu3d addAnimScript SurvivalWaveBar8 as_VRMenuIn.txt"
cmd "pcmd 0.9 menu3d addAnimScript SurvivalWaveBar9 as_VRMenuIn.txt"
cmd "pcmd 1.0 menu3d addAnimScript SurvivalWaveBar10 as_VRMenuIn.txt"
cmd "pcmd 0.5 menucmd ToggleSurvivalWaveNext"
}
Script ToggleWaveComplete {
rcmd "menu3d addAnimScript SurvivalWaveLabel as_VRMenuOut.txt"
rcmd "sym set VrSurvivalFinished 0"
rcmd "sym set VrSurvivalContinue 1"
cmd "pcmd 0.25 sym set DrawingSurvivalLabel 1"
cmd "pcmd 0.3 menu3d updateORTSnapshot2 SurvivalWaveLabel 0 500 400 95"
cmd "pcmd 0.35 sym set DrawingSurvivalLabel 0"
cmd "pcmd 0.5 menu3d addAnimScript SurvivalWaveLabel as_VRMenuIn.txt"
cmd "playsound WaveComplete"
}
Script ToggleSurvivalFinished {
rcmd "sym setFrom S_Wave MaxWave"
rcmd "menu3d addAnimScript SurvivalWaveLabel as_VRMenuOut.txt"
rcmd "sym set VrSurvivalContinue 0"
rcmd "sym set VrSurvivalFinished 1"
cmd "pcmd 0.25 sym set DrawingSurvivalLabel 1"
cmd "pcmd 0.3 menu3d updateORTSnapshot2 SurvivalWaveLabel 0 500 400 95"
cmd "pcmd 0.35 sym set DrawingSurvivalLabel 0"
cmd "pcmd 0.35 menu3d addAnimScript #SurvivalWaveBarWhite@MaxWave@ as_VRMenuIn.txt"
cmd "pcmd 0.35 menu3d addAnimScript SurvivalWaveLabel as_VRMenuIn.txt"
}
Script ToggleSurvivalWaveNext {
rcmd "menu3d addAnimScript SurvivalWaveLabel as_VRMenuOut.txt"
rcmd "sym inc _SurvivalWaveBarCur_ 1"
rcmd "sym setZero VrSurvivalContinue VrSurvivalFinished"
cmd "pcmd 0.25 sym set DrawingSurvivalLabel 1"
cmd "pcmd 0.3 menu3d updateORTSnapshot2 SurvivalWaveLabel 0 500 400 95"
cmd "pcmd 0.35 sym set DrawingSurvivalLabel 0"
cmd "pcmd 0.1 menu3d addAnimScript #SurvivalWaveBarWhite@_SurvivalWaveBarCur_@ as_VRMenuIn.txt"
cmd "pcmd 0.35 menu3d addAnimScript SurvivalWaveLabel as_VRMenuIn.txt"
}
Script DrawGameStatsVrIfStillInMap {
cmd "if sym LoadNormalMapInVR == 1 menucmd DrawGameStatsVr"
}
Script VRTutorialGame {
cmd "echo VRTutorialGame"
cmd "sym set MenuTouchCmd"
cmd "menu3d remove StartMenuVR"
cmd "menu3d remove MenusVR"
cmd "sym set LobbyStatusMessage MsgEnterSoloReady_pad"
cmd "sym set _soloLaunch_ 1"
cmd "sym set MyId 0"
cmd "sym set _NumPlayers 1"
cmd "sym set MatchmakingType Solo"
cmd "sym set P_Rdy0 0
cmd "sym set Ally0Mode 2"
cmd "sym set Ally1Mode 2"
cmd "sym set Ally2Mode 2"
cmd "sym set Ally3Mode 2"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 1 Kira"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 2 Petros"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 3 Raven"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 4 Samson"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 5 Hawk"
cmd "if sym ConMenuSoloSkirmish1v1 == 1 runnow sym set MatchmakingPlayers 1v1"
cmd "if sym ConMenuSoloSkirmish2v2 == 1 runnow sym set MatchmakingPlayers 2v2"
cmd "if sym ConMenuSoloSkirmish3v3 == 1 runnow sym set MatchmakingPlayers 3v3"
cmd "if sym ConMenuSoloSkirmish2v3 == 1 runnow sym set MatchmakingPlayers 2v3"
cmd "if sym ConMenuSoloSkirmish1v2 == 1 runnow sym set MatchmakingPlayers 1v2"
cmd "if sym ConMenuSoloSkirmish1v3 == 1 runnow sym set MatchmakingPlayers 1v3"
cmd "sym set MatchmakingType Solo"
cmd "sym set MatchmakingMode Skirmish"
cmd "menucmd ConMenuLobbySetupSymbols"
cmd "party2 create solo 1"
cmd "party2 updateloadout"
cmd "pcmd 0.1 timer clearAsyncWait"
cmd "pcmd 0.1 clearmenu AsyncNoticeDialogVr.txt"
cmd "pcmd 0.1 menuCmd LoadSurvivalTutorial"
}
Script LoadSurvivalTutorial {
ignoreInputTime 0.2
cmd "sym clearStack _Bind_SoloLoadout_"
cmd "sym set _EndGameSeqMsg_ 1"
cmd "sym set _Bind_SoloLoadout_ 0"
cmd "sym set _soloLaunch_ 1"
cmd "sym set MyId 0"
cmd "sym set LaunchGameCmd Solo"
cmd "sym set P_Rdy0 1"
cmd "menucmd ConMenuCopyUnitLoadoutIntoLocalSlots"
cmd "sym set max_players 1"
cmd "menucmd InitSpSymbols"
cmd "pcmd 0.1 loadmap survivaltutorial_vr prep 5"
cmd "menucmd SetVrFortState closed"
cmd "pcmd 0.25 worldview pixelClipTo 105 /lin 0.1"
cmd "pcmd 0.1 sym set InTutorialGame 1"
cmd "pcmd 4.0 rook toggleDisplayRadarVR 1"
cmd "pcmd 2.5 sym set _MapTransition 0"
}
Script AssembleUnit {
cmd "menu3d addChild Platform AssembleUnit /model vr/units/Bertha.amf	/material mat_BerthaBuild /attachToParentBone bone_rise"
cmd "menu3d setRootScale AssembleUnit 120"
cmd "menu3d setWorldPose AssembleUnit	0 0 0"
cmd "menu3d animate AssembleUnit vr/units/BerthaBuild.aaf playonce 0 0.2"
}
Script VRUnitPickedUp {
cmd "menu3d remove AssembleUnit"
}
Script VR_Table {
cmd "echo VR_Table"
cmd "sym set LevelRotation 0"
cmd "menu3d remove *"
cmd "exec vr_table.txt"
ignoreInputTime 1.0
cmd "if sym InputPad == 0 sym set LobbyStatusMessage MsgEnterSoloReady"
cmd "if sym InputPad == 1 sym set LobbyStatusMessage MsgEnterSoloReady_pad"
cmd "sym set _soloLaunch_ 1"
cmd "sym set MyId 0"
cmd "sym set _NumPlayers 1"
cmd "sym set MatchmakingType Solo"
cmd "sym set P_Rdy0 0
cmd "sym set Ally0Mode 2"
cmd "sym set Ally1Mode 2"
cmd "sym set Ally2Mode 2"
cmd "sym set Ally3Mode 2"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 1 Kira"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 2 Petros"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 3 Raven"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 4 Samson"
cmd "menuCmd ConMenuLobbyResetPlayerContainer local 5 Hawk"
cmd "if sym ConMenuSoloSkirmish1v1 == 1 runnow sym set MatchmakingPlayers 1v1"
cmd "if sym ConMenuSoloSkirmish2v2 == 1 runnow sym set MatchmakingPlayers 2v2"
cmd "if sym ConMenuSoloSkirmish3v3 == 1 runnow sym set MatchmakingPlayers 3v3"
cmd "if sym ConMenuSoloSkirmish2v3 == 1 runnow sym set MatchmakingPlayers 2v3"
cmd "if sym ConMenuSoloSkirmish1v2 == 1 runnow sym set MatchmakingPlayers 1v2"
cmd "if sym ConMenuSoloSkirmish1v3 == 1 runnow sym set MatchmakingPlayers 1v3"
cmd "sym set MatchmakingType Solo"
cmd "sym set MatchmakingMode Survival"
cmd "menucmd ConMenuLobbySetupSymbols"
cmd "party2 create solo 1"
cmd "party2 updateloadout"
cmd "pcmd 0.1 sym set MapName VRTest"
cmd "pcmd 0.1 timer clearAsyncWait"
cmd "pcmd 0.1 clearmenu AsyncNoticeDialogVr.txt"
cmd "pcmd 0.5 if !vr exec vr.txt"
cmd "pcmd 0.5 if !vr clearmenu"
cmd "pcmd 0.6 loadmenu hudVR"
}
Script VR_TestUI {
cmd "sym set LevelRotation 0"
cmd "menu3d remove *"
cmd "exec vr_room.txt"
cmd "pcmd 0.1 menucmd LoadScreenTest
}
Script LoadScreenTest {
cmd "clearmenu VRMenusRTT"
cmd "]menu3d remove StartMenuVR"
cmd "]basecamp req"
cmd "]menu3d add ScreenTest /model vr/Screen.amf /material mat_RenderToTextureVR_Unlit"
cmd "]menu3d setWorldPose ScreenTest	0.0 90.0 100.0"
cmd "]menu3d setRootScale ScreenTest	3.0"
cmd "]menu3d setRootRot ScreenTest -7 0 0"
cmd "loadmenu MainMenu"
cmd "sym set LoadNormalMapInVR 1"
}
Script DebugRTT {
cmd "]menu3d add ScreenTest /model vr/Screen.amf /material mat_RenderToTextureVR_Unlit"
cmd "]menu3d setWorldPose ScreenTest    0.0 90.0 100.0"
cmd "]menu3d setRootScale ScreenTest    3.0"
cmd "]menu3d setRootRot ScreenTest -7 0 0"
}
Script DebugRTT2 {
cmd "]menu3d add ScreenTest2 /model vr/Screen.amf /material mat_RenderToTextureVR2_Unlit"
cmd "]menu3d setWorldPose ScreenTest2    0.0 90.0 100.0"
cmd "]menu3d setRootScale ScreenTest2    3.0"
cmd "]menu3d setRootRot ScreenTest2 -7 0 0"
}
Script CreateVRDebugPane {
cmd "if !menu3dExists DebugPaneVR menucmd CreateVRDebugPane_Go"
}
Script CreateVRDebugPane_Go {
cmd "]menu3d add DebugPaneVR /model vr/Screen.amf /material mat_RenderToTextureDebug /hiddenCheckBySymbolInv _DebugPaneActive /rootScale 3.0"
cmd "]menu3d setWorldPose DebugPaneVR	0.0 24.0 40.0"
cmd "]menu3d setRootRot DebugPaneVR 0 0 -30"
cmd "]menu3d add DebugActionsVR /model vr/Screen.amf /material mat_RenderToTextureDebug /hiddenCheckBySymbolInv _DebugActionsActive /rootScale 3.0"
cmd "]menu3d setWorldPose DebugActionsVR	0.0 24.0 40.0"
cmd "]menu3d setRootRot DebugActionsVR 0 0 -30"
}
Script OnFortDmgVR {
cmd "pfx menu3dspawn FortVRDmg /menu3d FortInside /bone bone_overtable"
cmd "pfx menu3dspawn FortVRSparks /menu3d FortInside /bone bone_left"
cmd "pfx menu3dspawn FortVRSparks /menu3d FortInside /bone bone_rightback"
cmd "pfx menu3dspawn FortVRSparks /menu3d FortInside /bone bone_far"
cmd "pcmd 0.1 pfx menu3dspawn FortVRSparks /menu3d FortInside /bone bone_right"
cmd "pcmd 0.2 pfx menu3dspawn FortVRSparks /menu3d FortInside /bone bone_leftback"
cmd "pfx menu3dspawn FortVRSparks /menu3d FortInside /bone bone_back"
}
Script VrMatchWinEffects {
cmd "pfx stop Endgame"
cmd "menu3d remove EndgameEffect"
cmd "menu3d addChild FortInside EndgameEffect /model vr/TableFrame.amf	/material mat_TableFrame /rootRot 0 0 0 /rootScale 4.0 /worldPose 0 0 0
cmd "pfx menu3dspawn RomanCandle /menu3d EndgameEffect /bone bone_root /tag Endgame"
cmd "pfx menu3dspawn PowerEmbers /menu3d EndgameEffect /bone bone_effect_c /emitY /rot 0 0 0 /scale 2.0 /offset 0 0 0 /tag Endgame"
cmd "pfx menu3dspawn PowerEmbers /menu3d EndgameEffect /bone bone_effect_r1  /emitY /rot 0 0 0 /scale 2.0 /offset 0 0 0 /tag Endgame"
cmd "pfx menu3dspawn PowerEmbers /menu3d EndgameEffect /bone bone_effect_r2  /emitY /rot 0 0 0 /scale 2.0 /offset 0 0 0 /tag Endgame"
cmd "pfx menu3dspawn PowerEmbers /menu3d EndgameEffect /bone bone_effect_l1  /emitY /rot 0 0 0 /scale 2.0 /offset 0 0 0 /tag Endgame"
cmd "pfx menu3dspawn PowerEmbers /menu3d EndgameEffect /bone bone_effect_l2  /emitY /rot 0 0 0 /scale 2.0 /offset 0 0 0 /tag Endgame"
}
Script OnNearbyOverheadAirmech {
cmd "pfx menu3dspawn MechOverheadVR /menu3d FortInside /bone bone_overtable"
}
Script LogoSplashEnd {
cmd "menu3d remove Gamepad"
cmd "menu3d remove TextTestT"
cmd "menu3d remove TextTestS"
cmd "menu3d remove TableTop"
cmd "menu3d remove UnitWedgeRoot"
cmd "menu3d remove AirMech"
cmd "menu3d remove TableDome"
cmd "menu3d remove TextObjective4"
cmd "menu3d remove TextObjective3"
cmd "menu3d remove TextObjective2"
cmd "menu3d remove TextObjective1"
cmd "menu3d remove TextObjectiveC"
cmd "menu3d remove Gamepad"
cmd "menu3d remove OverheadAirMech"
cmd "menucmd VR_Inf"
cmd "sym set BuildCubeActive 0"
cmd "menu3d remove BuildCubeRoot"
cmd "clearmenu FadeOutEndVR"
cmd "loadmenu FadeInEndVR"
cmd "pcmd 0.1 menu3d add AirMechLogoVR /model vr/AirMechLogoVR3D.amf	/material mat_AirMechLogoVR"
cmd "pcmd 0.1 menu3d setWorldPose AirMechLogoVR	-5.0 140.0 118.0"
cmd "pcmd 0.1 menu3d setRootScale AirMechLogoVR 100"
cmd "pcmd 0.1 menu3d setRootRot AirMechLogoVR 70 0 0"
cmd "menu3d add TextTestT /model vr/SimpleTextPoly.amf	/material mat_SimpleThanks
cmd "menu3d setWorldPose TextTestT	10.0 160.0 160.0
cmd "menu3d setRootScale TextTestT 	25
cmd "menu3d setRootRot TextTestT -10 0 0"
cmd "menu3d add TextTestS /model vr/SimpleTextPoly.amf	/material mat_SimpleSite
cmd "menu3d setWorldPose TextTestS	0.0 130.0 70.0
cmd "menu3d setRootRot TextTestS 	-20 0 0"
cmd "menu3d setRootScale TextTestS 		18"
}
Script LoadNotifySystemVR {
rcmd "sym setFrom DialogBoxMessage _MArg1_"
rcmd "loadmenu DialogBoxVR /requireExplicitClear"
}
Script ClearNotifySystemVR {
rcmd "clearmenu DialogBoxVR"
rcmd "menu3d remove DialogBox"
}
Script NotifyTransitionedToOfflineOk {
cmd "echo Transition to offline mode..."
}
Script UpdateLobbyAvatarMech {
rcmd "sym sprintf _tmenu3d_ LobbyP%sMech $_MArg2_"
rcmd "rook genMenu3dAirMechSkin $_MArg1_ 0 /model _tmdl_ /material _tmtl_ /anim _tanim_ /pfx _tpfx_ /explicit"
rcmd "menu3d updateCfg $_tmenu3d_ $_tmdl_ $_tmtl_ /clearpfx $_tpfx_"
rcmd "menu3d animate $_tmenu3d_ $_tanim_ looping 0 1"
rcmd "sym sprintf _tmenu3d_ LobbyP%sHead $_MArg2_"
rcmd "sym sprintf _tmenu3dhead_ Head%s $_MArg1_"
rcmd "rook genMenu3dHead $_tmenu3dhead_ /model _tmdl_ /material _tmtl_"
rcmd "menu3d updateCfg $_tmenu3d_ $_tmdl_ $_tmtl_ /rootScale 16"
}
Script TouchSpectate {
rcmd "sym set MenuTouch 1"
rcmd "menu3d updateCfg #MenuDiskSpectate /material  mat_MenuDiskFocus"
rcmd "menu3d addAnimScript #MenuDiskSpectate as_VRMenuFocusGet.txt"
rcmd "sym setFrom _VrArg_ Spectate"
rcmd "menucmd VrMenuTextFocus $Spectate"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d #MenuDiskSpectate /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d #MenuDiskSpectate /bone bone_root /tag VrMenu"
rcmd "sym set MenuTouchCmd SelectSpectateLobby"
rcmd "playsound VrButtonTouch"
}
Script UnTouchSpectate {
rcmd "menu3d updateCfg #MenuDiskSpectate /material mat_MenuDisk"
rcmd "menu3d addAnimScript #MenuDiskSpectate as_VRMenuFocusLose.txt"
rcmd "menucmd VrMenuTextUnfocus #MenuLabelSpectate"
rcmd "sym set _VrArg_"
rcmd "sym set MenuTouchCmd"
cmd "pfx stop VrMenu"
}
Script SelectSpectateLobby {
ignoreInputTime 0.5
rcmd "menucmd SetVrFortState closed"
rcmd "menucmd SelectPlayCleanup"
rcmd "exec vr_menuSpectate.txt"
rcmd "sym set VRSpecSelectMode 1"
rcmd "worldview moveto 3 0 0 /slew 0.1"
rcmd "sym set TouchingRefreshRooms 0"
rcmd "sym set MenuTouchCancelCmd CancelSpectateLobby"
rcmd "sym set MenuTouchCmd"
rcmd "pcmd 0.1 menu3d setVisible MenuVRSpectate"
rcmd "pcmd 0.3 menucmd RefreshSpectateRooms"
}
Script ResetSpectateLobby {
ignoreInputTime 2.0
rcmd "clearmenu AsyncNoticeDialogVr.txt"
rcmd "menucmd SetVrFortState closed"
rcmd "worldview moveto 0 0 0 /slew 0.1"
rcmd "worldview scaleto 18.0 /lin 0.2"
rcmd "menu3d animate TableDome vr/TableDomeOpen.aaf playonce 0 1.0"
rcmd "pcmd 1.0 menu3d remove TableDome"
rcmd "pcmd 0.5 player 0 enableFn visibility"
rcmd "sym set VRSpecSelectMode 1"
rcmd "exec vr_menuSpectate.txt"
rcmd "pcmd 0.3 worldview moveto 3 0 0 /slew 0.1"
rcmd "sym set TouchingRefreshRooms 0"
rcmd "sym set MenuTouchCancelCmd CancelSpectateLobby"
rcmd "sym set MenuTouchCmd"
rcmd "pcmd 0.1 menu3d setVisible MenuVRSpectate"
rcmd "pcmd 0.3 menucmd RefreshSpectateRooms"
}
Script CancelSpectateLobby {
ignoreInputTime 0.5
rcmd "clearmenu AsyncNoticeDialogVr.txt"
rcmd "menucmd SetVrFortState open"
rcmd "sym set VRSpecSelectMode 0"
rcmd "menu3d setInvisible MenuVRSpectate"
rcmd "menucmd HideVrMenuSet RefreshRooms"
rcmd "pcmd 0.5 menu3d remove MenuVRSpectate"
rcmd "menu3d remove MenusVRSpec"
rcmd "sym set MenuTouchCancelCmd"
rcmd "menucmd SelectPlay"
}
Script TouchSpectateGame {
rcmd "sym set MenuTouch 1"
rcmd "menu3d updateCfg #MenuDiskSpectateRoom /material  mat_MenuDiskFocus"
rcmd "menu3d addAnimScript #MenuDiskSpectateRoom as_VRMenuFocusGet.txt"
rcmd "sym set _VrArg_"
rcmd "sym set MenuTouchCmd"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d #MenuDiskSpectateRoom /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d #MenuDiskSpectateRoom /bone bone_root /tag VrMenu"
rcmd "sym set MenuTouchCmd SpectateFirstAvailableGame"
rcmd "playsound VrButtonTouch"
}
Script UnTouchSpectateGame {
rcmd "menu3d updateCfg #MenuDiskSpectateRoom /material mat_MenuDisk"
rcmd "menu3d addAnimScript #MenuDiskSpectateRoom as_VRMenuFocusLose.txt"
rcmd "sym set _VrArg_"
rcmd "sym set MenuTouchCmd"
rcmd "pfx stop VrMenu"
}
Script SpectateGame {
ignoreInputTime 0.2
rcmd "loadmenu AsyncNoticeDialogVr.txt"
cmd "if sym #Spec@SpecIndex@Hidden == 0 && sym TouchingRefreshRooms == 0 menucmd TransToMatch spec $Spec@SpecIndex@MapName $SpecIndex"
}
Script TouchRefreshRooms {
ignoreInputTime 0.1
rcmd "sym set MenuTouch 1"
rcmd "sym set TouchingRefreshRooms 1"
rcmd "menu3d addAnimScript MenuDecoRefreshRooms as_VROptionsCreditsFocus.txt 2"
rcmd "menu3d updateCfg MenuDiskRefreshRooms /material  mat_MenuDiskFocus"
rcmd "menu3d addAnimScript MenuDiskRefreshRooms as_VRDiskFocusGet.txt"
rcmd "addanim as_VRMenuColStepOn.txt /tgt #MenuColRefreshRooms /silentFail"
rcmd "menucmd VrMenuTextFocus RefreshRooms"
rcmd "sym set _VrArg_"
rcmd "sym set MenuTouchCmd"
rcmd "pfx menu3dspawn VrMenuButtonTouchSmall /menu3d #MenuDiskRefreshRooms /bone bone_root"
rcmd "pfx menu3dspawn VrMenuButtonActiveSmall /menu3d #MenuDiskRefreshRooms /bone bone_root /tag VrMenu"
rcmd "sym set MenuTouchCmd RefreshSpectateRooms"
rcmd "playsound VrButtonTouch"
}
Script UnTouchRefreshRooms {
ignoreInputTime 0.1
rcmd "sym set TouchingRefreshRooms 0"
rcmd "menu3d addAnimScript MenuDecoRefreshRooms as_VRMenuDecoRestore.txt 2"
rcmd "menu3d updateCfg MenuDiskRefreshRooms /material mat_MenuDisk"
rcmd "menu3d addAnimScript MenuDiskRefreshRooms as_VRDiskFocusLose.txt"
rcmd "addanim as_VRMenuColStepOff.txt /tgt #MenuColRefreshRooms /silentFail"
rcmd "menucmd VrMenuTextUnFocus MenuLabelRefreshRooms"
rcmd "sym set _VrArg_"
rcmd "if sym Spec0Hidden == 0 sym set MenuTouchCmd SpectateGame"
rcmd "if sym Spec0Hidden == 1 sym set MenuTouchCmd"
rcmd "sym set MenuTouchCancelCmd CancelSpectateLobby"
rcmd "pfx stop VrMenu"
}
Script RefreshSpectateRooms {
ignoreInputTime 0.2
rcmd "loadmenu AsyncNoticeDialogVr.txt"
rcmd "rooms requestMenucmd ShowSpectateTiles"
cmd "menu3d addAnimScript MenusVRSpec as_VRMenuTilesOut.txt"
}
Script ShowSpectateTiles {
rcmd "clearmenu AsyncNoticeDialogVr.txt"
rcmd "menucmd SetupSpecTiles"
}
Script NotifyHmdDisconnected {
cmd "gameEvent systemNotify HmdDisconnected 1"
}
Script NotifyHmdConnected {
cmd "gameEvent systemNotify HmdDisconnected 0"
}
Script NotifyTrackerDisconnected {
#if retail
cmd "gameEvent systemNotify TrackerDisconnected 1"
#endif
}
Script NotifyTrackerConnected {
#if retail
cmd "gameEvent systemNotify TrackerDisconnected 0"
#endif
}
Script NotifyOutsideCameraTracking {
#if retail
cmd "gameEvent systemNotify OutsideTrackingArea 1"
#endif
}
Script NotifyInsideCameraTracking {
#if retail
cmd "gameEvent systemNotify OutsideTrackingArea 0"
#endif
}
script OVR_ControllerDisconnect {
rcmd "if !netgame pcmd 0.6 pausegame 1"
}
script OVR_ControllerConnect {
rcmd "pausegame 0"
}
script OVR_HMDLostFocusOrMount_old {
cmd "menucmd AttemptToPauseVR"
}
script OVR_HMDLostFocusOrMount {
ignoreInputTime 0.2
cmd "if !netgame pcmd 0.6 pausegame 1"
cmd "echo HMD Lost Focus Or Mount!"
}
script OVR_HmdRemountedWithFocus {
cmd "echo OVR_HmdRemountedWithFocus"
cmd "if !netgame && sym SplashVR == 0 && sym PostAuth == 1 && sym VRMenuLoaded == 0 loadmenu MessageConfirm"
cmd "pausegame 0"
}
script OVR_HmdRemountedWithFocus_Recenter {
cmd "gfx hmd recenter"
cmd "menucmd OVR_HmdRemountedWithFocus_Confirmed"
}
script OVR_HmdRemountedWithFocus_Confirmed {
cmd "echo OVR_HmdRemountedWithFocus_Confirmed"
cmd "menu3d remove MessageConfirm"
cmd "sym set MessageConfirmLoaded 0"
cmd "pausegame 0"
cmd "pcmd 0 pausegame 0"
cmd "if sym VrShowingRewardDialog == 1 menu3d addAnimScript QuestRewardItem as_VRQuestCardPull.txt"
cmd "if sym VrShowingRewardDialog == 1 menu3d logicFnc QuestRewardItem0 trackStickL /bone bone_twist /mag 10"
}
Script AttemptToPauseVR {
cmd "if sym _MapTransition != 0 pcmd t1 menucmd AttemptToPauseVR"
cmd "if notpaused && sym _MapTransition == 0 && sym VRMenuLoaded == 0 menucmd AttemptToPauseVR2"
}
script AttemptToPauseVR2 {
ignoreInputTime 0.33
cmd "if sym LoadNormalMapInVR != 0 && sym VrEndgameLoaded == 0 menucmd AttemptToPauseVRInGame"
cmd "if sym LoadNormalMapInVR == 0 menucmd AttempToPauseVRInMenus"
}
script AttemptToPauseVRInGame {
cmd "echo AttemptToPauseVRInGame"
cmd "if !netgame pausegame 1"
cmd "sym clear VRMenuText2 VRMenuCmd2 VRMenuText3 VRMenuCmd3"
cmd "sym set VRMenuLoaded 1"
cmd "sym setPair VRMenuText0 Menu_Resume VRMenuCmd0 VRMenuCancel"
cmd "if sym GameModeOnline != 1 sym setPair VRMenuText1 Menu_Restart VRMenuCmd1 RestartLevel"
cmd "if sym GameModeOnline == 1 sym setPair VRMenuText1 Menu_Main VRMenuCmd1 ReturnToRootMenuVR"
cmd "if sym GameModeOnline != 1 sym setPair VRMenuText2 Menu_Main VRMenuCmd2 ReturnToMainMenuVR"
cmd "exec vr_menu.txt"
}
script AttempToPauseVRInMenus {
cmd "echo AttempToPauseVRInMenus"
cmd "if sym KCheat != 12 pausegame 1"
cmd "sym setPair VRMenuText0 Menu_Resume VRMenuCmd0 VRMenuCancel"
cmd "if sym VrTutorial != 1 runnow sym setPair VRMenuText1 Menu_Exit VRMenuCmd1 VR_EscQuit"
cmd "if sym VrTutorial == 1 runnow sym setPair VRMenuText1 Menu_Exit VRMenuCmd1 ReturnToMainMenuVR"
cmd "if sym VrTutorial == 1 runnow sound pausebus 1"
cmd "sym clear VRMenuText2 VRMenuCmd2 VRMenuText3 VRMenuCmd3"
cmd "if sym KCheat != 12 sym set VRMenuLoaded 1"
cmd "if sym KCheat != 12 pcmd 0 exec vr_menu.txt"
cmd "if sym KCheat == 12 sym toggle DevMode"
cmd "if sym KCheat == 12 playsound AlertCaptureBank.wav"
cmd "if sym KCheat == 12 menucmd DrawVersionTexture"
cmd "if sym KCheat == 12 backend save"
cmd "if sym KCheat == 12 sym set KCheat 0"
cmd "if sym VrShowingRewardDialog == 1 menu3d addAnimScript QuestRewardItem as_VRQuestCardPush.txt"
cmd "if sym VrShowingRewardDialog == 1 menu3d clearLogicFncs QuestRewardItem0"
cmd "if sym VrShowingRewardDialog == 1 menu3d releaseBoneDirectControl QuestRewardItem0 bone_twist"
}
script GimmeBuckyHands {
cmd "menu3d add testBuckyHandL /model units/Bucky_01/RocketTruckA.amf /material mat_RocketTruck"
cmd "menu3d logicFnc testBuckyHandL trackOnHandL /mag 0.5"
cmd "menu3d add testBuckyHandR /model units/Bucky_01/RocketTruckA.amf /material mat_RocketTruck"
cmd "menu3d logicFnc testBuckyHandR trackOnHandR /mag 0.5"
}
script GimmeLaserPointers {
cmd "menu3d logicFnc testBuckyHandL handTracerL /value mat_ElectricBeam /mag 10"
cmd "menu3d logicFnc testBuckyHandR handTracerR /value mat_ElectricBeam /mag 10"
}
